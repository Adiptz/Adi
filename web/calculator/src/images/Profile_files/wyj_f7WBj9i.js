if (self.CavalryLogger) { CavalryLogger.start_js(["M+pl9"]); }

__d("UFI2ViewOption",["qex"],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){var c=b("qex");if(a==="FRIENDS_COMMENTS"&&!c._("1080217"))return!1;switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":case"RANKED_SUB_REPLIES":case"RANKED_REPLIES":case"MOST_VOTED":case"MOST_REACCS":case"ANSWERED":case"MOST_ENGAGEMENT":return!1}return!0}};e.exports=a}),null);
__d("UFI2CommentsListState",["invariant","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){var c=m(a,b);a.__type!=="INITIAL_STATE"&&(b!=null||g(0,5935));return c}function m(a,c){if(a.__type==="INITIAL_STATE"){var d,e=a.args,f=e.afterCount,l=e.beforeCount,m=e.canViewerComment,n=e.commentsByID,o=e.commentIDs,r=e.feedbackTargetID,u=e.hasNext,v=e.hasPrevious,w=e.hiddenCommentIDs,x=e.initiallyExpanded,y=e.pageSize,z=e.shouldRenderComposerPreemptively,A=e.topLevelFeedbackTargetID,B=e.totalCount;e=e.viewOption;d={backward:h({count:l,direction:"backward",error:null,hasMore:v,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.backward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B}),forward:h({count:f,direction:"forward",error:null,hasMore:u,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.forward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B})};var ca={};w.forEach(function(a){ca[a]="COLLAPSED"});w={canViewerComment:m,commentPages:o.length>0?[{__type:"COMMENTS_PAGE",afterCount:f,beforeCount:l,commentIDs:o,hasNext:u,hasPrevious:v,state:"VISIBLE"}]:[],commentsByID:n,commentsHiddenByViewer:ca,expanded:(y=c==null?void 0:c.expanded)!=null?y:x,feedbackTargetID:r,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:d,shouldComposerRenderWhenListIsExpanded:z,topLevelFeedbackTargetID:A,viewOption:e};if(a.args.depth===0)return babelHelpers["extends"]({},w,{__type:"DEPTH_0",status:{error:null,pending:!1}});m=a.args.minCountToShowCollapser;f=null;c!=null&&c.__type==="DEPTH_1"&&(f=c.repliesExpander);return babelHelpers["extends"]({},w,{__type:"DEPTH_1",repliesCollapser:i({count:o.length,expanded:x,minCountToShowCollapser:m}),repliesExpander:j({error:null,expanded:(l=c==null?void 0:c.expanded)!=null?l:x,isLoading:(n=(u=f)==null?void 0:(v=u.status)==null?void 0:v.pending)!=null?n:!1,totalCount:B})})}c!=null||g(0,5935);switch(a.__type){case"COLLAPSE_LIST":y=a.args;r=y.depth;d=y.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});z=t.getCommentsCount({depth:r,state:c})===0;A=d>0&&z===!0;A&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:d})});case"DELETE_COMMENT":e=a.args;var C=e.commentID;w=e.depth;o=c.commentPages;var D=c.newCommentsPage;m=c.locallyComposedCommentIDs;if(o.length===0&&D.commentIDs.length===0)return c;l=D.commentIDs.filter(function(a){return a!==C});x=t.getVisibleCommentsCount({depth:w,state:c});f=l.length<D.commentIDs.length;if(f){var da={};l.forEach(function(a){da[a]=D.visibleStates[a]});u=babelHelpers["extends"]({},D,{commentIDs:l,visibleStates:da});v=o.map(function(a){return k({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:v,newCommentsPage:u});a.args.depth!==0||g(0,18482);n=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:v,newCommentsPage:u,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:n})})}var E=null,F=!1;B=o.map(function(a,b){if(F)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==C});if(c.length<a.commentIDs.length){F=!0;E=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&E!=null&&b<E?k({direction:"forward",page:a}):a}).filter(Boolean);if(F===!1){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried deleting a comment that isnt present");return c}y=m.filter(function(a){return a!==C});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:B,locallyComposedCommentIDs:y});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:B,locallyComposedCommentIDs:y,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":r=a.args.commentIDs;var ea=c.commentsHiddenByViewer,G=babelHelpers["extends"]({},ea);r.forEach(function(a){var c=ea[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(G[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:G}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:G});case"EXPAND_LIST":z=a.args;A=z.depth;d=z.totalCount;e=c.commentPages;w=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(A!==0&&t.isRepliesExpanderLoading({depth:A,state:c}))return c;if(d===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});f=t.getVisibleCommentsCount({depth:A,state:c});if(f===0){l=t.getCommentsCount({depth:A,state:c})===0;if(l)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:d})});v=e.length>0?e[0]:null;u=v!=null?[babelHelpers["extends"]({},v,{state:"VISIBLE"})].concat(e.slice(1)):e;var fa={};w.commentIDs.forEach(function(a){fa[a]="VISIBLE"});n=babelHelpers["extends"]({},w,{visibleStates:fa});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,expanded:!0,newCommentsPage:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);o=(v!=null?v.commentIDs.length:0)+w.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,expanded:!0,newCommentsPage:n,repliesCollapser:i({count:o,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:f,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"HIDE_COMMENTS":m=a.args.commentIDs;B=c.commentsHiddenByViewer;var H=babelHelpers["extends"]({},B);m.forEach(function(a){H[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:H}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:H});case"RECEIVE_COMMENTS_PAGE":y=c.commentPages;var I=c.newCommentsPage;x=c.pagers;r=c.locallyComposedCommentIDs;z=a.args;var J=z.commentIDs;A=z.depth;l=z.direction;d=z.feedbackTargetID;e=z.hiddenCommentIDs;v=z.pageSize;w=I.commentIDs.filter(function(a){return!J.includes(a)});u=r.filter(function(a){return!J.includes(a)});var K={};w.forEach(function(a){K[a]=I.visibleStates[a]});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});var ga=new Set(y.reduce(function(a,b){return a.concat(b.commentIDs)},[]));o=J.filter(function(a){return!ga.has(a)});l==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");var L=t.isPagerLoading({depth:A,direction:l,state:c})===!0;f=A!==0&&t.isRepliesExpanderLoading({depth:A,state:c});B=c.shouldComposerRenderWhenListIsExpanded===!0||L===!0||f===!0;var M=babelHelpers["extends"]({},c.commentsHiddenByViewer);e.forEach(function(a){Object.prototype.hasOwnProperty.call(M,a)||(M[a]="COLLAPSED")});m=ga.size;if(A!==0&&a.args.direction==="forward"&&m===0){z=a.args;r=z.afterCount;d=z.hasNext;l={backward:null,forward:h({count:r,direction:"forward",error:null,hasMore:d,isLoading:!1,pageSize:v})};var N=c.expanded||f?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:r,beforeCount:w.length,commentIDs:o,hasNext:d,hasPrevious:!1,state:N};w.forEach(function(a){K[a]=N});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});a.args.depth!==0||g(0,18482);c.__type==="DEPTH_1"||g(0,18482);m=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:M,expanded:N==="VISIBLE",locallyComposedCommentIDs:u,newCommentsPage:n,pagers:l,repliesCollapser:i({count:o.length,expanded:f,minCountToShowCollapser:m}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}z=y[0];r=y[y.length-1];d=t.getVisibleCommentsCount({depth:A,state:c});if(a.args.direction==="backward"){L&&z!=null&&(z.state==="VISIBLE"||g(0,5938));e=a.args;l=e.beforeCount;m=e.hasPrevious;A=l<=w.length;A&&(K={},n.commentIDs.forEach(function(a){K[a]=L?"VISIBLE":"HIDDEN"}),n=babelHelpers["extends"]({},n,{visibleStates:K}));e=l-n.commentIDs.length-u.length;w=babelHelpers["extends"]({},x,{backward:L?h({count:e,direction:"backward",error:null,hasMore:m&&!A,isLoading:!1,pageSize:v}):x.backward});e={__type:"COMMENTS_PAGE",afterCount:((e=z==null?void 0:z.afterCount)!=null?e:0)+((z=z==null?void 0:(e=z.commentIDs)==null?void 0:e.length)!=null?z:0),beforeCount:l,commentIDs:o,hasNext:!0,hasPrevious:m,state:L||f?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[e].concat(y),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);z=a.args.minCountToShowCollapser;l=f?!0:c.expanded;m=d+(e.state==="VISIBLE"?o.length:0)+(A&&L?n.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e].concat(y),commentsHiddenByViewer:M,expanded:l,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,repliesCollapser:i({count:m,expanded:l,minCountToShowCollapser:z}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}L&&r!=null&&(r.state==="VISIBLE"||g(0,5939));A=a.args;e=A.afterCount;w=A.hasNext;m=babelHelpers["extends"]({},x,{forward:L?h({count:e,direction:"forward",error:null,hasMore:w,isLoading:!1,pageSize:v}):x.forward});v={__type:"COMMENTS_PAGE",afterCount:e,beforeCount:((l=r==null?void 0:r.beforeCount)!=null?l:0)+((A=r==null?void 0:(z=r.commentIDs)==null?void 0:z.length)!=null?A:0),commentIDs:o,hasNext:w,hasPrevious:!0,state:L||f?"VISIBLE":"HIDDEN"};var O=0;x=f?y.map(function(a){a.state==="HIDDEN"&&(O+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):y;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;l=v.state==="VISIBLE"?d+O+o.length:d+O;r=f?!0:c.expanded;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,expanded:r,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,repliesCollapser:i({count:l,expanded:r,minCountToShowCollapser:e}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B});case"RECEIVE_NEW_COMMENT":z=a.args;var P=z.commentID;A=z.depth;w=z.pageSize;y=z.prevTotalCount;o=z.totalCount;d=c.commentPages;x=c.expanded;var Q=c.newCommentsPage;v=c.pagers;u=c.commentsByID;n=c.locallyComposedCommentIDs;m=c.viewOption;l=t.getCommentsCount({depth:A,state:c})===0;r=Object.prototype.hasOwnProperty.call(Q.visibleStates,P)||d.some(function(a){return a.commentIDs.includes(P)});if(r)return c;e=u[P]!=null&&u[P].is_locally_composed===!0;f=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,o)}):null;if(d.length===0){z=babelHelpers["extends"]({},Q,{commentIDs:s(c)&&!e?[].concat(Q.commentIDs,[P]):[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(B={},B[P]=x||e||A!==0&&l&&y===0?"VISIBLE":"HIDDEN",B))});B=((r=u[P])==null?void 0:r.is_locally_composed)===!0?[P].concat(n):n;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:B,newCommentsPage:z});a.args.depth!==0||g(0,18482);u=a.args.minCountToShowCollapser;r=l&&y===0?!0:x;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:r,locallyComposedCommentIDs:B,newCommentsPage:z,repliesCollapser:i({count:z.commentIDs.length,expanded:x,minCountToShowCollapser:u}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}l=d[0];r=p(c);if(e){var R=!1,S=babelHelpers["extends"]({},Q.visibleStates),T=!b("UFI2ViewOption").isChronologicalOrder(m)&&c.__type!=="DEPTH_0",ha=[],U=[];B=(T?[].concat(d).reverse():d).map(function(a){if(!R&&a.state==="VISIBLE"){R=!0;Q.commentIDs.forEach(function(a){S[a]==="VISIBLE"&&!s(c)?(delete S[a],U.push(a)):ha.push(a)});return babelHelpers["extends"]({},a,{commentIDs:T?[].concat(a.commentIDs,U.reverse(),[P]):[P].concat(U,a.commentIDs)})}return R?babelHelpers["extends"]({},a,{afterCount:T?a.afterCount+1+U.length:a.afterCount,beforeCount:T?a.beforeCount:a.beforeCount+1+U.length}):a});z=babelHelpers["extends"]({},Q,{commentIDs:ha,visibleStates:S});u=[P].concat(n);if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:B,locallyComposedCommentIDs:u,newCommentsPage:z});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;m=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:T?B.reverse():B,locallyComposedCommentIDs:u,newCommentsPage:z,repliesCollapser:i({count:m+1,expanded:x,minCountToShowCollapser:e}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(r&&ba(c)){var V=s(c);n=d.map(function(a){return babelHelpers["extends"]({},a,{afterCount:V?a.afterCount+1:a.afterCount,beforeCount:V?a.beforeCount:a.beforeCount+1})});if(V&&c.__type==="DEPTH_0"&&c.pagers.forward!=null)return babelHelpers["extends"]({},c,{commentPages:n});u=babelHelpers["extends"]({},Q,{commentIDs:V?[].concat(Q.commentIDs,[P]):[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(B={},B[P]="VISIBLE",B))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,newCommentsPage:u});a.args.depth!==0||g(0,18482);z=a.args.minCountToShowCollapser;m=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,newCommentsPage:u,repliesCollapser:i({count:m+1,expanded:x,minCountToShowCollapser:z}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(r&&Q.commentIDs.length===0){e=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:Math.min(v.backward.count+1,w)})}):v;B=l.commentIDs.length<w;if(B){A=[babelHelpers["extends"]({},l,{commentIDs:[P].concat(l.commentIDs)})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,pagers:e}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,pagers:e,repliesExpander:f})}n=[{__type:"COMMENTS_PAGE",afterCount:l.afterCount+l.commentIDs.length,beforeCount:0,commentIDs:[P],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},l,{beforeCount:1,hasPrevious:!0})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,pagers:e}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,pagers:e,repliesExpander:f})}else{u=o<=y;m=u?d:d.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});x=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:u?v.backward.count:Math.min(v.backward.count+1,w)})}):v;r=babelHelpers["extends"]({},Q,{commentIDs:[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(z={},z[P]="HIDDEN",z))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,newCommentsPage:r,pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:m,newCommentsPage:r,pagers:x,repliesExpander:f})}case"RECEIVE_REFETCH_LIST":B=a.args.depth;A=c.feedbackTargetID;l=c.topLevelFeedbackTargetID;n=c.viewOption;B===0||g(0,5940);t.isListLoading({depth:B,state:c})||g(0,5941);e=aa.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:A,initiallyExpanded:!0,topLevelFeedbackTargetID:l,viewOption:n}),state:null});e.__type==="DEPTH_0"||g(0,5940);return babelHelpers["extends"]({},e,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":o=a.args;y=o.depth;d=o.direction;u=o.pageSize;w=c.commentPages;v=c.expanded;z=c.newCommentsPage;m=c.pagers;v||g(0,5942);t.isPagerLoading({depth:y,direction:d,state:c})&&g(0,5943);y===0&&(t.isListLoading({depth:y,state:c})&&g(0,5944));y!==0&&(t.isRepliesExpanderLoading({depth:y,state:c})&&g(0,5945));if(d==="backward"){r=w.findIndex(function(a){return a.state==="VISIBLE"});x=-1;if(r>-1){f=w[r];f.hasPrevious===!1&&b("FBLogger")("ufi2").mustfix("UFI2CommentsList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",c.topLevelFeedbackTargetID);f.hasPrevious===!0||g(0,5946);x=r-1}else r===-1&&w.length>0&&(x=0);B=w[x];A=p(c)&&q(c,"HIDDEN");if(B&&B.state==="HIDDEN"){l=[].concat(w);l[x]=babelHelpers["extends"]({},B,{state:"VISIBLE"});n=babelHelpers["extends"]({},m,{backward:h({count:B.beforeCount,direction:"backward",error:null,hasMore:B.hasPrevious,isLoading:!1,pageSize:u})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;o=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,repliesCollapser:i({count:o+B.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:e}),shouldComposerRenderWhenListIsExpanded:!0})}else if(A){var ia={};z.commentIDs.forEach(function(a){ia[a]="VISIBLE"});v=babelHelpers["extends"]({},z,{visibleStates:ia});d=babelHelpers["extends"]({},m,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);f=a.args.minCountToShowCollapser;r=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,repliesCollapser:i({count:r+v.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else{x=babelHelpers["extends"]({},m,{backward:babelHelpers["extends"]({},m.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x})}}l=[].concat(w).reverse().findIndex(function(a){return a.state==="VISIBLE"});n=-1;if(l>-1){o=w.length-1-l;B=w[o];B.hasNext===!0||g(0,5946);n=o+1}else l===-1&&w.length>0&&(n=w.length-1);e=w[n];if(e&&e.state==="HIDDEN"){A=[].concat(w);A[n]=babelHelpers["extends"]({},e,{state:"VISIBLE"});z=babelHelpers["extends"]({},m,{forward:h({count:e.afterCount,direction:"forward",error:null,hasMore:e.hasNext,isLoading:!1,pageSize:u})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);d=a.args.minCountToShowCollapser;r=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z,repliesCollapser:i({count:r+e.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:d}),shouldComposerRenderWhenListIsExpanded:!0})}else{v=babelHelpers["extends"]({},m,{forward:babelHelpers["extends"]({},m.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v})}case"REQUEST_REFETCH_LIST":f=a.args.depth;f===0&&c.__type==="DEPTH_0"||g(0,5940);t.isListLoading({depth:f,state:c})&&g(0,5941);return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":x=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:x});case"SET_COMMENTS_BY_ID":B=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:B}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:B});case"SET_SERVER_COMMENT_ID":o=a.args;var W=o.clientCommentID,X=o.serverCommentID;l=c.commentPages;var Y=c.newCommentsPage;w=c.locallyComposedCommentIDs;var Z=!1,$={};n=Y.commentIDs.map(function(a){if(a===W){Z=!0;$[X]=Y.visibleStates[a];return X}$[a]=Y.visibleStates[a];return a});if(Z){u=w.map(function(a){return a===W?X:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:u,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:$})}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",locallyComposedCommentIDs:u,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:$})})}y=l.map(function(a){if(Z)return a;var b=a.commentIDs.map(function(a){if(a===W){Z=!0;return X}return a});return Z?babelHelpers["extends"]({},a,{commentIDs:b}):a});if(!Z)return c;A=w.map(function(a){return a===W?X:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:y,locallyComposedCommentIDs:A}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:y,locallyComposedCommentIDs:A});case"UNHIDE_COMMENTS":z=a.args.commentIDs;r=c.commentsHiddenByViewer;var ja=babelHelpers["extends"]({},r);z.forEach(function(a){delete ja[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:ja}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:ja});case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function n(a,c){try{var d=l(a,c);return d}catch(f){d=b("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("UFI2CommentsListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return l(a,b)}function c(a,b){return l(a,b)}var aa={collapseList:function(a){var b=a.args;a=a.state;return n({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return n({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return n({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return n({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return n({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return n({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return n({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return n({__type:"UNHIDE_COMMENTS",args:b},a)}};function o(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function p(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return s(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function ba(a){var b=a.commentPages;b=b[0];return!b?p(a)&&q(a,"VISIBLE"):p(a)&&b.state==="VISIBLE"&&q(a,"VISIBLE")}function q(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function r(a){var c=a.__type,d=a.commentPages,e=a.newCommentsPage,f=a.viewOption;d=d.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(s(a))return[].concat(d,g);return c==="DEPTH_1"&&!b("UFI2ViewOption").isChronologicalOrder(f)?[].concat(d,g.reverse()):[].concat(g,d)}function s(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"&&b("gkx")("1445059")}var t={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=t.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&t.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&t.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=t.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&q(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=t.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b!==0){d!=null||g(0,5947);c=t.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a.depth;a=a.state;var c=a.commentsByID,d=a.newCommentsPage,e=a.locallyComposedCommentIDs,f=a.viewOption;a=r(a);var g=a.map(function(a){var d=c[a];if(!d){b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&g.length===0&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!e.length&&d.commentIDs.length>0&&b("UFI2ViewOption").isChronologicalOrder(f)?g.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):g},getVisibleCommentsCount:function(a){a.depth;a=a.state;return r(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=t.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return t.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return t.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=o({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=o({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return t.getVisibleComments({depth:b,state:a}).length>0},isCommentHiddenByViewer:function(a){return t.getHiddenStateForComment(a)!=null},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};e.exports={_updaterDepth0_DO_NOT_USE:a,_updaterDepth1_DO_NOT_USE:c,Selectors:t,StateUpdaters:aa}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("UFI2CommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";function g(a){return a!=null&&(a.is_locally_composed===!0||a.is_created_from_subscription===!0||a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){var c={};a=a?a.map(function(a){if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}var d=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);if(typeof d!=="string"||d==null){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}c[d]=babelHelpers["extends"]({},a,{id:d});return d}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d){if(d.length<=c.length)return[];var e=a[d[0]];if(!e){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}e=c.filter(function(b){return g(a[b])});c=d.filter(function(b){return g(a[b])});d=c.length-e.length>0;if(!d)return[];if(e.length===0){c.length>1&&b("FBLogger")("ufi2").info("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Received more than 1 new comment in a single update");return c}var f=new Set(e);return c.filter(function(a){return!f.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){var d=a.depth,e=c.commentsByID,f=c.commentIDs;a=j(a.edges);var g=a.commentIDs;a=a.commentsByID;var h=f.length,q=c.clientCommentIDs,r=g.length,s=i(g),t=c.selectedViewOption;c=c.isRefetchingConnection;var u=n(a,g),v=o(e,a,g),w=p(e,a,g);q=l(g,q,s,a);var x=r>h;h=h>r;r=x?m(a,f,g):[];x=h&&!c;f=x?k(e,a):[];h={clientCommentIDs:s,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:a,hiddenCommentIDs:u,isRefetchingConnection:c,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,removedCommentIDs:f,selectedViewOption:t};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return h}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}e.exports={getBeforeCount:a,getClientCommentIDs:i,getCommentIDsUpdatedToServerIDs:l,getCommentsFromEdges:j,getDerivedStateFromProps:c,getHiddenCommentIDs:n,getInitialState:d,getNewlyCreatedCommentIDs:m,getNewlyHiddenCommentIDs:o,getNewlyUnhiddenCommentIDs:p,getRemovedCommentIDs:k}}),null);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});e.exports=a}),null);
__d("BasicVector",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();e.exports=a}),null);
__d("DialogPosition",["Vector"],(function(a,b,c,d,e,f){var g=40,h;a={calculateTopMargin:function(a,c,d,e){d===void 0&&(d=null);e===void 0&&(e=!1);var f=b("Vector").getViewportDimensions(),i=!1;e&&d&&(i=d+c>f.y);if(d!=null&&!i)return d;if(h)return h;e=Math.floor((f.x+a)*(f.y-c)/(4*f.x));return Math.max(e,g)},setFixedTopMargin:function(a){h=a}};e.exports=a}),null);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){"use strict";function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};e.exports=a}),null);
__d("Layer",["invariant","KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","FBLogger","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g){b("KeyStatus");var h=[],i=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(a,d){var e;e=c.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else b("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var d=a.prototype;d.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};d._configure=function(a,c){var d=this;if(c){var e=b("isNode")(c),f=typeof c==="string"||b("HTML").isHTML(c);this.containsReactComponent=b("BootloadedReact").isValidElement(c);!e&&!f&&!this.containsReactComponent&&b("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(f)c=b("HTML")(c).getRootNode();else if(this.containsReactComponent){e=document.createElement("div");var g=!0;b("BootloadedReact").render(c,e,function(){d.inform("reactshow"),g||d.updatePosition()});g=!1;c=this._reactContainer=e}}this._root=this._buildWrapper(a,c);a.attributes&&b("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(b("CSS").addClass.bind(null,this._root));b("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=b("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);b("DataStore").set(this._root,"layer",this)};d._getDefaultBehaviors=function(){return[]};d.getCausalElement=function(){return this._causalElement};d.setCausalElement=function(a){this._causalElement=a;return this};d.getInsertParent=function(){return this._insertParent||document.body};d.getRoot=function(){this._root||(this._destroyed?b("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):b("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};d.getContentRoot=function(){return this.getRoot()};d._buildWrapper=function(a,b){return b};d.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(b("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};d.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};d.show=function(){var c=this;if(this._shown)return this;var d=this.getRoot();d!=null||g(0,5142);this.inform("beforeshow");b("Style").set(d,"visibility","hidden");b("Style").set(d,"overflow","hidden");b("CSS").show(d);b("DOM").appendContent(this.getInsertParent(),d);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){c._shown&&h.push(c)},0)):b("CSS").hide(d);b("Style").set(d,"visibility","");b("Style").set(d,"overflow","");b("Style").set(d,"opacity","1");this.inform("aftershow");return this};d.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};d._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};d.conditionShow=function(a){return a?this.show():this._hide()};d.finishHide=function(){if(this._shown){this._permanent||b("removeFromArray")(h,this);this._hiding=!1;this._shown=!1;var c=this.getRoot();c!=null||g(0,5143);b("CSS").hide(c);this.inform("hide");a.inform("hide",this)}};d.isShown=function(){return this._shown};d.updatePosition=function(){return!0};d.destroy=function(){this.containsReactComponent&&b("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var c=this.getRoot();b("DOM").remove(c);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);b("DataStore").remove(c,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return h[h.length-1]};a.informBlur=function(a){j=null;k=null;var c=h.length;if(!c)return;while(c--){var d=h[c],e=d.getContentRoot();e!=null||g(0,5144);if(b("ContextualThing").containsIncludingLayers(e,a))return;if(d.inform("blur",{target:a})===!1||d.isShown())return}};return a}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(i,b("ArbiterMixin"));Object.assign(i.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});b("Event").listen(document.documentElement,"keydown",function(a){if(b("KeyEventController").filterEventTargets(a,"keydown"))for(var c=h.length-1;c>=0;c--)if(h[c].inform("key",a)===!1)return!1;return!0},b("Event").Priority.URGENT);var j;b("Event").listen(document.documentElement,"mousedown",function(a){j=a.getTarget()});var k;b("Event").listen(document.documentElement,"mouseup",function(a){k=a.getTarget(),b("setImmediate")(function(){j=null,k=null})});b("Event").listen(document.documentElement,"click",function(a){var c=j,d=k;j=null;k=null;var e=h.length;if(!e)return;e=a.getTarget();if(e!==d||e!==c)return;if(!b("DOM").contains(document.documentElement,e))return;if(e.offsetWidth!=null&&!e.offsetWidth)return;if(b("Parent").byClass(e,"generic_dialog"))return;i.informBlur(e)});e.exports=i}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function(a,b,c,d,e,f){function a(a,c){var d=b("DOMQuery").scry(a,".autofocus")[0],e=!0;if(!d){var f=b("getActiveElement")();if(b("DOMQuery").isNodeOfType(f,["input","textarea"]))return;f=b("TabbableElements").find(a);for(var g=0;g<f.length;g++){var h=f[g];if(h.tagName!=="A"||h.getAttribute("role")==="button"){d=f[g];break}}}else d.tabIndex!==0&&(e=!1);d?e?b("Focus").set(d,c):b("Focus").setWithoutOutline(d):a.offsetWidth||(a.tabIndex=-1,b("Focus").setWithoutOutline(a))}e.exports=a}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._subscription=null,this._layer=a,this._subscription=null}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};c.disable=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null};c._focus=function(){var a=this._layer.getRoot();a&&b("focusWithinLayer")(a,!0)};return a}();e.exports=a}),null);
__d("Button",["csx","cx","invariant","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function(a,b,c,d,e,f,g,h,i){var j="uiButtonDisabled",k="uiButtonDepressed",l="_42fr",m="_42fs",n="button:blocker",o="href",p="ajaxify";function q(a,c){var d=b("DataStore").get(a,n);c?d&&(d.remove(),b("DataStore").remove(a,n)):d||b("DataStore").set(a,n,b("Event").listen(a,"click",b("emptyFunction").thatReturnsFalse,b("Event").Priority.URGENT))}function r(a){a=b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft");if(!a)throw new Error("invalid use case");return a}function s(a){return b("DOM").isNodeOfType(a,"a")}function t(a){return b("DOM").isNodeOfType(a,"button")}function u(a){return b("CSS").matchesSelector(a,"._42ft")}var v={getInputElement:function(a){a=r(a);if(s(a))throw new Error("invalid use case");if(t(a)){a instanceof HTMLButtonElement||i(0,21261);return a}return b("DOM").find(a,"input")},isEnabled:function(a){return!(b("CSS").hasClass(r(a),j)||b("CSS").hasClass(r(a),l))},setEnabled:function(a,c){a=r(a);var d=u(a)?l:j;b("CSS").conditionClass(a,d,!c);if(s(a)){d=a.getAttribute("href");var e=a.getAttribute("ajaxify"),f=b("DataStore").get(a,o,"#"),g=b("DataStore").get(a,p);c?(d||a.setAttribute("href",f),!e&&g&&a.setAttribute("ajaxify",g),a.removeAttribute("tabIndex")):(d&&d!==f&&b("DataStore").set(a,o,d),e&&e!==g&&b("DataStore").set(a,p,e),a.removeAttribute("href"),a.removeAttribute("ajaxify"),a.setAttribute("tabIndex","-1"));q(a,c)}else{f=v.getInputElement(a);f.disabled=!c;q(f,c)}},setDepressed:function(a,c){a=r(a);var d=u(a)?m:k;b("CSS").conditionClass(a,d,c)},isDepressed:function(a){a=r(a);var c=u(a)?m:k;return b("CSS").hasClass(a,c)},setLabel:function(a,c){a=r(a);if(u(a)){var d=[];c&&d.push(c);var e=b("DOM").scry(a,".img");for(var f=0;f<e.length;f++){var g=e[f],h=g.parentNode;h.classList&&(h.classList.contains("_4o_3")||h.classList.contains("_-xe"))?a.firstChild===h?d.unshift(h):d.push(h):a.firstChild==g?d.unshift(g):d.push(g)}b("DOM").setContent(a,d)}else if(s(a)){h=b("DOM").find(a,"span.uiButtonText");b("DOM").setContent(h,c)}else v.getInputElement(a).value=c;g=u(a)?"_42fv":"uiButtonNoText";b("CSS").conditionClass(a,g,!c)},getIcon:function(a){a=r(a);return b("DOM").scry(a,".img")[0]},setIcon:function(a,c){if(c&&!b("isNode")(c))return;var d=v.getIcon(a);if(!c){d&&b("DOM").remove(d);return}b("CSS").addClass(c,"customimg");d!=c&&(d?b("DOM").replace(d,c):b("DOM").prependContent(r(a),c))}};e.exports=v}),null);
__d("LayerHideSources",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton",TRANSITION:"transition"});e.exports=a}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._listener=b("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};c.disable=function(){this._listener.remove(),this._listener=null};c._handle=function(a){var c=a.getTarget(),d=b("Parent").byClass(c,"layerHide");if(d){this._layer.hide(b("LayerHideSources").LAYER_HIDE_BUTTON);return}d=b("Parent").byClass(c,"layerConfirm");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("confirm",d)===!1&&a.prevent();return}d=b("Parent").byClass(c,"layerCancel");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("cancel",d)!==!1&&this._layer.hide(b("LayerHideSources").LAYER_CANCEL_BUTTON);a.prevent();return}d=b("Parent").byClass(c,"layerButton");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("button",d)===!1&&a.prevent()}};c._isInNestedLayer=function(a){a=b("Parent").byClass(a,"uiLayer");var c=this._layer.getRoot();return!!(a&&c!==a)};c._isButton=function(a){return!!(b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft"))};return a}();a.prototype._listener=null;e.exports=a}),null);
__d("LayerFormHooks",["Event"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){var a=this._layer.getRoot();this._subscriptions=[b("Event").listen(a,"submit",this._onSubmit.bind(this)),b("Event").listen(a,"success",this._onSuccess.bind(this)),b("Event").listen(a,"error",this._onError.bind(this))]};c.disable=function(){this._subscriptions.forEach(function(a){a.remove()}),this._subscriptions=null};c._onSubmit=function(a){this._layer.inform("submit",a)===!1&&a.kill()};c._onSuccess=function(a){this._layer.inform("success",a)===!1&&a.kill()};c._onError=function(a){var b=a.getData();this._layer.inform("error",{response:b.response})===!1&&a.kill()};return a}();Object.assign(a.prototype,{_subscriptions:null});e.exports=a}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement","nullthrows"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};c.disable=function(){b("nullthrows")(this._subscription).unsubscribe(),this._subscription=null};c._handle=function(){var a=b("getActiveElement")();if(a===document.body||b("DOMQuery").contains(this._layer.getRoot(),a)){a=this._layer.getCausalElement();while(a&&!a.offsetWidth){var c=b("Parent").byClass(a,"uiToggle");if(c&&c.offsetWidth)a=b("DOM").scry(c,'[rel="toggle"]')[0];else{c=b("ContextualThing").getContext(a);c?a=c:a=a.parentNode}}a&&(a=a,b("Focus").set(a))}};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("TabIsolation",["Event","Focus","Keys","TabbableElements","containsNode"],(function(a,b,c,d,e,f){var g=[],h=0;a=function(){"use strict";function a(a){this.$3=a,this.$1=null,this.$2=h++}var c=a.prototype;c.enable=function(){var a=this;this.disable();g.unshift(this.$2);this.$1=b("Event").listen(window,"keydown",function(b){g[0]===a.$2&&a.$4(b)},b("Event").Priority.URGENT)};c.disable=function(){if(this.$1){var a=g.indexOf(this.$2);a>-1&&g.splice(a,1);this.$1.remove();this.$1=null}};c.$4=function(a){if(b("Event").getKeyCode(a)!==b("Keys").TAB)return;var c=a.getTarget();if(!c)return;var d=b("TabbableElements").find(this.$3),e=d[0];d=d[d.length-1];var f=a.getModifiers();f=f.shift;f&&c===e?(a.preventDefault(),b("Focus").set(d)):(!f&&c===d||!b("containsNode")(this.$3,c))&&(a.preventDefault(),b("Focus").set(e))};return a}();e.exports=a}),null);
__d("LayerTabIsolation",["TabIsolation"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a,this._tabIsolation=null,this._subscriptions=null}var c=a.prototype;c.enable=function(){var a=this._layer.getRoot();if(a==null)return;a=new(b("TabIsolation"))(a);this._tabIsolation=a;this._subscriptions=[this._layer.subscribe("show",a.enable.bind(a)),this._layer.subscribe("hide",a.disable.bind(a))]};c.disable=function(){while(this._subscriptions&&this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation&&this._tabIsolation.disable();this._tabIsolation=null};return a}();Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("LayerTogglerContext",["Toggler"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._root=this._layer.getRoot(),b("Toggler").createInstance(this._root).setSticky(!1)};c.disable=function(){b("Toggler").destroyInstance(this._root),this._root=null};return a}();e.exports=a}),null);
__d("ModalLayer",["csx","cx","Arbiter","ArbiterMixin","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","Scroll","ScrollAwareDOM","Style","UserAgent","Vector","debounceAcrossTransitions","ge","getDocumentScrollElement","isAsyncScrollQuery","removeFromArray","setTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){var i=[],j=null,k=null,l=null;function m(){l||(l=b("DOMQuery").scry(document.body,"._li")[0]||b("ge")("FB4BResponsiveMain"));return l}function n(a){var c={position:b("Vector").getScrollPosition(),listener:void 0},d=a.offsetTop-c.position.y;b("CSS").addClass(a,"_31e");m().id!=="FB4BResponsiveMain"&&b("Style").set(a,"top",d+"px");b("Arbiter").inform("reflow");c.listener=b("ScrollAwareDOM").subscribe("scroll",function(d,e){if(b("DOMQuery").contains(a,e.target)){d=a.offsetTop-e.delta.y;b("Style").set(a,"top",d+"px");c.position=c.position.add(e.delta);return!1}return!0});b("DataStore").set(a,"ModalLayerData",c)}function o(a,c){var d=b("DataStore").get(a,"ModalLayerData");if(d){var e=function(){b("CSS").removeClass(a,"_31e");b("Style").set(a,"top","");if(c){var e=b("getDocumentScrollElement")();b("Scroll").setTop(e,d.position.y);b("Scroll").getTop(e)!==d.position.y&&(b("Scroll").setTop(e,d.position.y+1),b("Scroll").setTop(e,d.position.y))}b("Arbiter").inform("reflow");d.listener.unsubscribe();d.listener=null;b("DataStore").remove(a,"ModalLayerData")};if(c&&b("isAsyncScrollQuery")()){var f=b("DOM").create("div",{className:"_42w"});b("Style").set(f,"height",a.offsetHeight+"px");b("DOM").appendContent(document.body,f);var g=b("getDocumentScrollElement")();b("Scroll").setTop(g,d.position.y);c=!1;b("setTimeout")(function(){e(),b("DOM").remove(f)},0)}else e()}}function p(){var a=m();a!=null&&!b("CSS").matchesSelector(a,"._31e")&&n(a)}function q(){i.length||o(m(),!0)}function r(){var a=i.length;while(a--){var c=i[a],d=c.getLayerRoot();if(d){s(d,0);c=c.getLayerContentRoot();if(c){c=c.offsetWidth+b("DOMDimensions").measureElementBox(c,"width",!1,!1,!0);s(d,c)}}}}function s(a,c){b("Style").set(a,"min-width",c+(c?"px":""))}a=function(){"use strict";function a(a){this._layer=a,this._enabled=!1}var c=a.prototype;c.enable=function(){if(!m())return;this._subscription=this._layer.subscribe(["show","hide"],function(a){a=="show"?this._addModal():this._removeModal()}.bind(this));this._layer.isShown()&&this._addModal();this._enabled=!0};c.disable=function(){if(!m())return;this._subscription&&this._subscription.unsubscribe();this._layer.isShown()&&this._removeModal();this._enabled=!1};c._addModal=function(){var c=this.getLayerRoot();b("CSS").addClass(c,"_3qw");this._wash=b("DOM").create("div",{className:"_3ixn"});b("DOM").prependContent(c,this._wash);c=i[i.length-1];c?n(c.getLayerRoot()):p();c=b("getDocumentScrollElement")();b("Scroll").setTop(c,0);if(!i.length){c=b("debounceAcrossTransitions")(r,100);j=b("Event").listen(window,"resize",c);k=b("Arbiter").subscribe("reflow",c)}i.push(this);a.inform("show",this);b("setTimeout")(r,0)};c._removeModal=function(){var c=this,d=this.getLayerRoot();b("CSS").removeClass(d,"_3qw");b("DOM").remove(this._wash);this._wash=null;s(d,0);var e=this===i[i.length-1];b("removeFromArray")(i,this);i.length||(j&&j.remove(),j=null,k&&k.unsubscribe(),k=null);var f;b("UserAgent").isBrowser("Safari")&&(d=b("Event").listen(document.documentElement,"mousewheel",b("Event").prevent),f=d.remove.bind(d));b("setTimeoutAcrossTransitions")(function(){var d=i[i.length-1];d?(o(d.getLayerRoot(),e),a.inform("show",d)):(q(),a.inform("hide",c));i.length&&b("setTimeout")(r,0);b("UserAgent").isBrowser("Safari")&&b("setTimeout")(function(){f()},0)},200)};c.getLayerRoot=function(){return this._enabled?this._layer.getRoot():null};c.getLayerContentRoot=function(){return this._enabled?this._layer.getContentRoot():null};a.getTopmostModalLayer=function(){return i[i.length-1]};return a}();Object.assign(a,b("ArbiterMixin"));e.exports=a}),null);
__d("Banzai",["requireCond","cr:1454227"],(function(a,b,c,d,e,f){e.exports=b("cr:1454227")}),null);
__d("DialogX",["cx","fbt","Arbiter","CSS","DialogPosition","DOMQuery","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","debounce","getOrCreateDOMID","goURI","shield"],(function(a,b,c,d,e,f,g,h){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(c,d){a.prototype._configure.call(this,c,d);d=this.getRoot();d!=null&&b("CSS").addClass(d,"_4-hy");if(c.autohide)var e=this.subscribe("show",function(){e.unsubscribe(),window.setTimeout(b("shield")(this.hide,this),c.autohide)}.bind(this));if(c.redirectURI)var f=this.subscribe("hide",function(){f.unsubscribe();var a=c.redirectURI;a!=null&&b("goURI")(a)});this._fixedTopPosition=c.fixedTopPosition;this._ignoreFixedTopInShortViewport=c.ignoreFixedTopInShortViewport};d._getDefaultBehaviors=function(){return a.prototype._getDefaultBehaviors.call(this).concat([i,b("ModalLayer"),b("LayerAutoFocus"),b("LayerButtons"),b("LayerFormHooks"),b("LayerTabIsolation"),b("LayerTogglerContext"),b("LayerRefocusOnHide")])};d._buildWrapper=function(a,c){var d=a.xui?"_4t2a":"_t",e=a.xui?"_59s7":"_1yv";this._innerContent=b("JSXDOM").div(null,c);c={className:e,role:"dialog"};if(a.labelledBy)c["aria-labelledby"]=a.labelledBy;else if(a.label)c["aria-label"]=a.label;else if(a.titleID)c["aria-labelledby"]=a.titleID;else if(a.titleClass){e=b("DOMQuery").scry(this._innerContent,a.titleClass);if(e.length){e=b("getOrCreateDOMID")(e[0]);c["aria-labelledby"]=e}else c["aria-label"]=this._getDefaultLabel()}else c["aria-label"]=this._getDefaultLabel();e={className:d};a["data-testid"]&&(e["data-testid"]=a["data-testid"]);this._wrapper=b("JSXDOM").div(c,b("JSXDOM").div(e,this._innerContent));a.width!=null&&this.setWidth(a.width);a.height!=null&&this.setHeight(a.height);return b("JSXDOM").div({className:"_10"},this._wrapper)};d._getDefaultLabel=function(){return h._("Dialog content")};d.getContentRoot=function(){return this._wrapper};d.getInnerContent=function(){return this._innerContent};d.updatePosition=function(){var a=b("Vector").getElementDimensions(this._wrapper);a=b("DialogPosition").calculateTopMargin(a.x,a.y,this._fixedTopPosition,(a=this._ignoreFixedTopInShortViewport)!=null?a:!1);b("Style").set(this._wrapper,"margin-top",a+"px");this.inform("update_position",{type:"DialogX",top:a});return!0};d.setWidth=function(a){a=Math.floor(a);if(a===this._width)return;this._width=a;b("Style").set(this._wrapper,"width",a+"px")};d.getWidth=function(){return this._width};d.setHeight=function(a){a=Math.floor(a);if(a===this._height)return;this._height=a;b("Style").set(this._wrapper,"height",a+"px")};d.getFixedTopPosition=function(){return this._fixedTopPosition};d.shouldIgnoreFixedTopInShortViewport=function(){return this._ignoreFixedTopInShortViewport};return c}(b("Layer"));var i=function(){"use strict";function a(a){this._subscription=null,this._resize=null,this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe(["show","hide"],function(a){a==="show"?(this._attach(),b("Arbiter").inform("layer_shown",{type:"DialogX"})):(this._detach(),b("Arbiter").inform("layer_hidden",{type:"DialogX"}))}.bind(this))};c.disable=function(){var a;(a=this._subscription)==null?void 0:a.unsubscribe();this._subscription=null;this._resize&&this._detach()};c._attach=function(){this._layer.updatePosition(),this._resize=b("Event").listen(window,"resize",b("debounce")(this._layer.updatePosition.bind(this._layer)))};c._detach=function(){var a;(a=this._resize)==null?void 0:a.remove();this._resize=null};return a}();e.exports=a}),null);
__d("LayerHideOnBlur",["LayerHideSources","requestAnimationFrame"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))],this._layer.isShown()&&this._attach()};c.disable=function(){this._detach();while(this._subscriptions&&this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};c._detach=function(){this._onBlur&&this._onBlur.unsubscribe(),this._onBlur=null};c._attach=function(){var a=this;this._onBlur=this._layer.subscribe("blur",function(){b("requestAnimationFrame")(function(){a._layer.hide(b("LayerHideSources").BLUR)});return!1})};return a}();Object.assign(a.prototype,{_subscriptions:null,_onBlur:null});e.exports=a}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("key",this.handle.bind(this))};c.disable=function(){this._subscription!=null&&this._subscription.unsubscribe(),this._subscription=null};c.handle=function(a,c){if(b("Event").getKeyCode(c)===b("Keys").ESC){this._layer.hide(b("LayerHideSources").ESCAPE);return!1}return void 0};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("LayerFadeOnShow",["Bootloader","Run","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a,b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["CSSFade"],b("emptyFunction"),"LayerFadeOnShow")})}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._animate.bind(this))]};c.disable=function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null}};c._getDuration=function(){return 100};c._animate=function(){var a=this,c=this._layer.getRoot();b("ifRequired")("CSSFade",function(b){b.show(c,{duration:a._getDuration()})},function(){})};a.forDuration=function(c){var d=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);d.prototype._getDuration=b("emptyFunction").thatReturns(c);return d};return a}();Object.assign(a.prototype,{_subscriptions:null});e.exports=a}),null);
__d("BootloaderResource",[],(function(a,b,c,d,e,f){var g={};a={preload:function(a){a.load()},read:function(b){var a=b.getModuleIfRequireable();if(a==null){var c=b.getModuleId();if(!g[c]){b=g[c]=b.load();b["finally"](function(){delete g[c]})}throw g[c]}return a}};e.exports=a}),null);
__d("UFI2LazyCodedErrorDialog.react",["FBLogger","JSResource","LoadingDialog.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("UFI2CodedErrorDialog.react").__setRef("UFI2LazyCodedErrorDialog.react"));function a(a){var c=a.error;a=babelHelpers.objectWithoutPropertiesLoose(a,["error"]);if(Object.prototype.hasOwnProperty.call(c,"code")!=null&&Object.prototype.hasOwnProperty.call(c,"description")!=null&&Object.prototype.hasOwnProperty.call(c,"summary")!=null){var d=c;return g.jsx(g.Suspense,{fallback:g.jsx(b("LoadingDialog.react"),{}),children:g.jsx(h,babelHelpers["extends"]({},a,{codedError:d,width:445}))})}else{b("FBLogger")("ufi2").warn("A `UFI2LazyCodedError` was constructed with an `Error` object that doesn't conform to `CodedError`. Error: %s",String(c));return null}}e.exports=a}),null);
__d("BanzaiODS",["invariant","Banzai","Random","gkx"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(){this.$1={},this.$2={}}var c=a.prototype;c.setEntitySample=function(a,c){this.$2[a]=b("Random").random()<c?c:0};c.bumpEntityKey=function(a,b,c,d){d===void 0&&(d=1),this.$3(a,b,c,d)};c.bumpFraction=function(a,b,c,d,e){d===void 0&&(d=1),e===void 0&&(e=1),this.$3(a,b,c,d,e)};c.flush=function(a){if(Object.keys(this.$1).length===0)return;b("Banzai").post("categorized_ods",this.$1,a);this.$1={}};c.create=function(){return new a()};c.$3=function(a,b,c,d,e){var f;d===void 0&&(d=1);e===void 0&&(e=1);var g=(f=this.$2[b])!=null?f:null;if(g!=null&&g<=0)return;var h=this.$1[a]||(this.$1[a]={}),i=h[b]||(h[b]={}),j=i[c]||(i[c]=[0]);d=Number(d);e=Number(e);g>0&&(d/=g,e/=g);if(!isFinite(d)||!isFinite(e))return;j[0]+=d;arguments.length>=5&&(j[1]||(j[1]=0),j[1]+=e)};return a}();var h=new a();b("Banzai").subscribe(b("Banzai").SEND,function(){return h.flush()});e.exports=h}),null);
__d("ActorURI",["ActorURIConfig","URI"],(function(a,b,c,d,e,f){var g;a={create:function(a,c){return new(g||(g=b("URI")))(a).addQueryData(b("ActorURIConfig").PARAMETER_ACTOR,c)},PARAMETER_ACTOR:b("ActorURIConfig").PARAMETER_ACTOR};e.exports=a}),null);
__d("GeneratedLoggerUtils",["invariant","Banzai"],(function(a,b,c,d,e,f,g){"use strict";a=b("Banzai").post;window.location.search.indexOf("showlog")>-1&&(a=function(a,c,d){b("Banzai").post(a,c,d)});c={log:a,serializeVector:function(a){if(!a)return a;if(Array.isArray(a))return a;if(a.toArray){var b=a;return b.toArray()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"])return Array.from(a);g(0,3874,a)},serializeMap:function(a){if(!a)return a;if(a.toJS){var b=a;return b.toJS()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]){b=a;var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f[0]]=f[1]}return c}if(Object.prototype.toString.call(a)==="[object Object]")return a;g(0,3875,a)},checkExtraDataFieldNames:function(a,b){Object.keys(a).forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&g(0,3876,a)})},warnForInvalidFieldNames:function(a,b,c,d){},throwIfNull:function(a,b){a||g(0,3877,b);return a}};e.exports=c}),null);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};b={BLADE_RUNNER:1,GATEWAY:2};c={ACCEPTED:1,REJECTED:2,STARTED:3,PAUSED:4,CLOSED:5};e.exports={StreamFrameType:a,StreamRequestType:b,StreamStatus:c}}),null);
__d("BladeRunnerDeferredClient",["Promise","requireDeferred","nullthrows"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=null}var c=a.prototype;c.requestStream=function(a,c,d,e){this.$2();return b("nullthrows")(this.$1).then(function(b){return b.requestStream(a,c,d,e)})};c.logInfo=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.logInfo(a)})};c.bumpCounter=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.bumpCounter(a)})};c.$2=function(){this.$1==null&&(this.$1=new(b("Promise"))(function(a){b("requireDeferred")("BladeRunnerClient").onReady(function(b){a(new b())})}))};return a}();e.exports=new a()}),null);
__d("BladeRunnerStreamHandler",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c||function(a){},this.$4=d||function(a){},this.$5=e||function(a){}}var b=a.prototype;b.onData=function(a){var b=this.$1,c=this.$2;if(b!=null)b(a.decodeData());else if(c!=null){b=atob(a.rawData());a=new Uint8Array(b.length);for(var d=0;d<b.length;d++)a[d]=b.charCodeAt(d);c(a.buffer)}};b.onStatusUpdate=function(a){this.$3(a)};b.onLog=function(a){this.$4(a)};b.onBatch=function(a){this.$5(a)};return a}();e.exports=a}),null);
__d("BladeRunnerInstrumentedStreamHandler",["BladeRunnerDeferredClient","BladeRunnerStreamHandler","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=60*1e3;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$BladeRunnerInstrumentedStreamHandler1=c;e.$BladeRunnerInstrumentedStreamHandler2=d;e.$BladeRunnerInstrumentedStreamHandler3=Date.now();b("setTimeoutAcrossTransitions")(function(){e.$BladeRunnerInstrumentedStreamHandler4==null&&e.$BladeRunnerInstrumentedStreamHandler5(-1,Date.now())},g);return e}var d=c.prototype;d.onData=function(a){b("BladeRunnerDeferredClient").bumpCounter("received_data."+this.$BladeRunnerInstrumentedStreamHandler2),this.$BladeRunnerInstrumentedStreamHandler1.onData(a)};d.onStatusUpdate=function(a){this.$BladeRunnerInstrumentedStreamHandler5(a,Date.now()),this.$BladeRunnerInstrumentedStreamHandler1.onStatusUpdate(a)};d.onLog=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onLog(a)};d.onBatch=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onBatch(a)};d.$BladeRunnerInstrumentedStreamHandler5=function(a,c){b("BladeRunnerDeferredClient").bumpCounter("received_status_"+a+"."+this.$BladeRunnerInstrumentedStreamHandler2);if(this.$BladeRunnerInstrumentedStreamHandler4==null){this.$BladeRunnerInstrumentedStreamHandler4=Date.now();c=Math.max(this.$BladeRunnerInstrumentedStreamHandler4-this.$BladeRunnerInstrumentedStreamHandler3,0);a=c>=1e4?Math.round(Math.min(c/1e4,6))*10:Math.round(Math.min(c/1e3,10));b("BladeRunnerDeferredClient").bumpCounter("status_latency."+this.$BladeRunnerInstrumentedStreamHandler2+"."+a+".s")}};return c}(b("BladeRunnerStreamHandler"));e.exports=a}),null);
__d("ClientIDs",["randomInt"],(function(a,b,c,d,e,f){var g=new Set();a={getNewClientID:function(){var a=Date.now();a=a+":"+(b("randomInt")(0,4294967295)+1);g.add(a);return a},isExistingClientID:function(a){return g.has(a)}};e.exports=a}),null);
__d("MemoizationInstrumentation",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a={inject:function(a){h==null||g(0,2221),h=a},onFunctionCall:function(a,b){return h?h.functionCall(a,b):null}};e.exports=a}),null);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var c=a.prototype;c.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||g(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};c.get=function(a){this.$4(a);var c=this.$6(a);c=c&&c.get(b("lastx")(a));return c==null||c.type!=="value"?void 0:c.value};c["delete"]=function(a){this.$4(a);var c=this.$6(a);return c?c["delete"](b("lastx")(a)):!1};c.$5=function(a,b){return i(b)?a.cache:a.weakCache};c.$6=function(a){var c=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=c)==null?void 0:e.type)==="map")c=this.$5(c,f).get(f);else return void 0}e=b("lastx")(a);f=c&&this.$5(c,e);return f};c.$2=function(){return{type:"map",cache:new Map(),weakCache:h?new WeakMap():new Map()}};c.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function i(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}e.exports=a}),null);
__d("mergeRefs",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return function(a){c.forEach(function(c){if(c==null)return;if(typeof c==="function"){c(a);return}if(typeof c==="object"){c.current=a;return}b("recoverableViolation")("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(c),"comet_ui")})}}}),null);
__d("getConsumerFacebookUFI2ComposerPlugins",["requireCond","JSResource","RelayModern","UFI2Config","createUFI2AssociateReplyWithParentComposerPlugin","cr:1515183","createUFI2ComposerStateSnapshotComposerPlugin","createUFI2ComposerTipPlugin","cr:1004782","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","cr:1101374","createUFI2StarsComposerPlugin","createUFI2StickersComposerPlugin","cr:1004783","getConsumerFacebookUFI2ComposerPlugins_feedback.graphql","getConsumerFacebookUFI2ComposerPlugins_group.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;var i=b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins"),j=b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins");g!==void 0?g:g=b("getConsumerFacebookUFI2ComposerPlugins_feedback.graphql");h!==void 0?h:h=b("getConsumerFacebookUFI2ComposerPlugins_group.graphql");function a(a){var c,d=a.environment,e=a.feedback,f=a.group;a=a.pluginsToInsertBeforePositions;var g=e.mentions_datasource_js_constructor_args_json;return[e.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:e.composer_tip}):null,b("cr:1004783")&&b("UFI2Config").shouldShowWritingHelp?b("cr:1004783")({environment:d,isAutoEnabled:!1}):null,f?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:i}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:j})].concat(e.can_viewer_comment_with_stars===!0?b("createUFI2StarsComposerPlugin")({environment:d,feedbackID:(f=e)!=null?f.id:f}):[],[b("createUFI2HashtagComposerPlugin")(),b("cr:1004782")?b("cr:1004782")({size:10}):null],a?a["1"]||[]:[],[b("cr:1515183")!=null&&(e==null?void 0:(c=e.viewer_actor)==null?void 0:(g=c.user_avatar)==null?void 0:g.has_fb_app_avatar)===!0?b("cr:1515183")({}):null],b("createUFI2EmojiComposerPlugin")({size:16}),a?a["2"]||[]:[],[b("createUFI2EmoticonsComposerPlugin")({size:16})],a?a["3"]||[]:[],[e.can_viewer_comment_with_photo===!0&&e.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:e}):null],a?a["4"]||[]:[],e.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:e==null?void 0:e.id}):[],a?a["5"]||[]:[],e.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:d,targetID:(f=e)!=null?(f=f.owning_profile)!=null?f.id:f:f}):[],[b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")(),e.can_see_voice_switcher===!0||e.flat_threading_config!=null?b("createUFI2ComposerStateSnapshotComposerPlugin")():null,b("cr:1101374")!=null?b("cr:1101374")({environment:d,ftentidentifier:e==null?void 0:e.id,surface:"newsfeed_comment_www"}):null]).filter(Boolean)}e.exports=a}),null);
__d("UFI2CommentVoteMutation",["RelayModern","UFI2CommentVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UFI2CommentVoteMutation.graphql");function j(a,b){var c=a.commentID,d=a.currentVoteCount,e=a.currentVoteState,f=a.newVoteState;a=a.voteActionType;b=b.get(c);if(b==null)return;a==="UPVOTE"&&e==="DOWNVOTE"?b.setValue(d+2,"upvote_downvote_total"):a==="DOWNVOTE"&&e==="UPVOTE"?b.setValue(d-2,"upvote_downvote_total"):a==="UPVOTE"&&e==="NONE"||a==="DOWNVOTE"&&a===e?b.setValue(d+1,"upvote_downvote_total"):b.setValue(d-1,"upvote_downvote_total");b.setValue(f,"viewer_comment_vote_state")}e.exports={commit:function(a,b){var c=b.actorID,d=b.commentID,e=b.currentVoteCount,f=b.currentVoteState,g=b.voteActionType,k=g===f?"NONE":g;return h(a,{mutation:i,optimisticUpdater:function(a){return j({commentID:d,currentVoteCount:e,currentVoteState:f,newVoteState:k,voteActionType:g},a)},variables:{input:{actor_id:c,comment_id:d,new_vote_state:k}}})}}}),null);
__d("ServerTime",["InitialServerTime"],(function(a,b,c,d,e,f){d(b("InitialServerTime").serverTime);var g;function a(){return Date.now()-g}function c(){return g}function d(a){g=Date.now()-a}e.exports={getMillis:a,getOffsetMillis:c,update:d,get:a,getSkew:c}}),null);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey;function a(a,b,c){var d=!1;a=g(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),d=!0);return d}e.exports=a}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=c;f!=null&&f!==""&&(g=f);var h=d;a!=null&&a!==0&&(h=a);function i(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}f=e.get(c);if(f==null){i("could not find feedback record");return}b("forEachUFI2DisplayCommentsConnection")(e,f,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});a=e.get(g);if(a==null){i("could not find top level feedback record");return}f=a.getLinkedRecord("top_level_comments");if(f==null){i("could not find top level comments");return}e=f.getValue("total_count");i=Math.max(0,Number(e)+h);f.setValue(i,"total_count");e=a.getValue("comment_count_reduced");Number(e).toString()===e&&a.setValue(i.toString(),"comment_count_reduced");f.setValue(i===0,"is_empty")}g.decrement=function(a){return g(babelHelpers["extends"]({},a,{modifier:-1}))};g.increment=function(a){return g(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=g}),null);
__d("getBodyRendererFromCommentMessage",["JSResource","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").createPayloadFor3DField,h=b("JSResource")("CometUFICommentBodyTextWithEntities.react").__setRef("getBodyRendererFromCommentMessage"),i=b("JSResource")("CometUFICommentBodyTextWithEntities_textWithEntities$normalization.graphql").__setRef("getBodyRendererFromCommentMessage");function a(a,b){if(a==null)return a;a=j(a,b);return g("CometUFICommentBody_comment",i,h,babelHelpers["extends"]({__typename:"TextWithEntities"},a))}function j(a,b){var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{aggregated_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){var c=b[a.entity.id];if(c==null)return null;c=c.getData();var d=c.type;c=c.uri;return d==null?null:{entity:{__isActor:!1,__isEntity:!0,__isNode:!0,__typename:d,id:a.entity.id,profile_url:c,url:c},length:a.length,offset:a.offset}}).filter(Boolean),text:a.text}}e.exports=a}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return{__typename:"EntityAtRange",entity:babelHelpers["extends"]({},a.entity,{__isActor:e==null,__isEntity:!0,__isNode:!0,__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),profile_url:c,url:c}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:null}}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["fbt","invariant","requireCond","Bootloader","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","ServerTime","SiteData","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","getBodyRendererFromCommentMessage","getRenderableBodyFromCommentMessage","makeUFI2ClientID","cr:1088250","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=b("RelayRuntime").ConnectionHandler,l=b("RelayRuntime").applyOptimisticMutation,m=b("SiteData").pr,n=i!==void 0?i:i=b("UFI2CreateCommentMutation.graphql"),o={};function p(a){var c=a.actorID,d=a.containerMapping,e=a.environment,f=a.entitiesByID,i=a.feedbackSource,s=a.feedLocation,t=a.focusCommentID,u=a.input,v=a.isComet,w=a.onCompleted,x=a.onError,y=a.topLevelFeedbackId,z=a.triggerAccessibilityAlert,A=a.updater,B=a.useDefaultActor,C=a.usedWritingHelpToCompose,D=a.UFI2CommentsProvider_commentsKey,E=a.viewOption,F=b("makeUFI2ClientID")(a.clientID),G=a.retryID||F;d=babelHelpers["extends"]({},d,{UFI2CommentsProvider_commentsKey:D,feedLocation:s,feedbackSource:i,focusCommentID:t,input:babelHelpers["extends"]({},u,{actor_id:c,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),i),idempotence_token:G,session_id:b("ChannelClientID").getID()}),isComet:v,scale:m,useDefaultActor:B});var H=function(a){return function(d){var e=d.getRootField("comment_create");if(e){var f=e.getLinkedRecord("feedback_comment_edge");if(f){e=d.get(u.feedback_id);if(e!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(d,e,function(a){k.insertEdgeBefore(a,f)});if(A){var g=y==null||y===e.getDataID()?null:d.get(y);A(e,f,g)}}}}e=d.get(c);e||h(0,455,c);g=d.get(G);g||h(0,456,G);g.setLinkedRecord(e,"author");g.setValue("ADD","optimistic_action");if(a&&a.toString){g.setValue(a.toString(),"optimistic_error");e=a.code;typeof e==="number"&&g.setValue(e,"optimistic_error_code")}else g.setValue(!0,"is_locally_composed");g.setValue(F,"client_id");g.setValue(u.reply_comment_parent_fbid,"reply_comment_parent_fbid");e=u.reply_comment_parent_fbid!=null?d.get(u.reply_comment_parent_fbid):null;e=e!=null?e.getValue("depth"):null;typeof e==="number"&&g.setValue(e+1,"depth");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:d,topLevelFeedbackId:y})}},I={mutation:n,optimisticResponse:r(u,G,f),optimisticUpdater:H(),variables:d},J=null,K=j(e,babelHelpers["extends"]({},I,{onCompleted:function(a){q(a),w&&w(a),b("cr:1088250")!=null&&b("cr:1088250")(u),z&&z(g._("Your comment was submitted"))},onError:function(c){o[G]=function(){if(!o[G]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",G).warn("Tried to call a create comment mutation retry handle that was already removed.");return}K&&K.dispose();K=null;p(babelHelpers["extends"]({},a,{retryID:G}));delete o[G]},K=l(e,babelHelpers["extends"]({},I,{optimisticResponse:r(u,G,f),optimisticUpdater:H(c)})),x&&x(c)},updater:function(a){var c=a.getRootField("comment_create");c||h(0,457);var d=c.getLinkedRecord("feedback_comment_edge");d||h(0,458);c=d.getLinkedRecord("node");c||h(0,459);c.setValue(!0,"is_locally_composed");c.setValue(F,"client_id");c.setValue(C===!0,"used_writing_help_to_compose");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:a,topLevelFeedbackId:y});c=a.get(u.feedback_id);if(c!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){k.insertEdgeBefore(a,d)});if(A){a=y==null||y===c.getDataID()?null:a.get(y);A(c,d,a)}}}}));return{dispose:function(){J&&J.remove(),J=null,K&&K.dispose(),K=null,delete o[G]}}}function q(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function r(a,c,d){var e;return{comment_create:{detection_analytics_enabled:null,feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attached_story:null,attachments:[],author:null,body:{ranges:[],text:a==null?void 0:(e=a.message)==null?void 0:e.text},body_renderer:b("getBodyRendererFromCommentMessage")(a.message,d),can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_viewer_disable_preview:null,can_viewer_share:null,can_viewer_upvote_downvote:null,chat_to_buy:null,comment_menu_items:[],comment_menu_tooltip:null,comment_parent:null,create_detailed_report_uri:null,created_time:Math.round(b("ServerTime").getMillis()/1e3),edit_history:null,feedback:{associated_group:null,associated_video:null,can_viewer_comment:null,can_viewer_comment_with_marker:null,can_viewer_demote:!1,can_viewer_react:!0,comment_composer_placeholder:null,comment_count:null,comment_share_context:null,did_viewer_demote:!1,display_comments:null,id:null,page_private_reply:null,political_figure_data:null,public_conversations_context:null,reactors:null,share_fbid:null,should_show_top_reactions:null,subscription_target_id:null,supported_reactions:[],top_reactions:null,toplevel_comment_count:null,viewer_actor:null,viewer_feedback_reaction_info:null},file_marker:null,flat_threading_depth:null,group_comment_info:null,has_constituent_badge:null,id:c,identity_badges_web:[],inline_survey_config:null,insights_data_point:null,is_author_banned_by_content_owner:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_hidden_by_content_owner:null,is_markdown_enabled:null,is_the_comment_on_work_knowledge:null,is_viewer_comment_poster:null,legacy_fbid:void 0,legacy_token:null,living_room_content_item:a.living_room_content_item_id?{id:a.living_room_content_item_id}:null,page_admin_actor_info:null,parent_feedback:null,parent_post_story:null,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),private_reply_context:null,question_and_answer_type:null,should_show_comment_menu:!1,spam_display_mode:"none",sub_reply_parent_above_comment_author_context:null,sub_reply_parent_preview_context:null,synced_intern_qa_answer:null,timestamp_in_video:a==null?void 0:a.vod_video_timestamp,translatability_for_viewer:null,translation_available_for_viewer:null,upvote_downvote_total:null,url:null,us_structured_reporting_enabled:null,viewer_comment_vote_state:null,written_while_video_was_live:void 0,www_layout_renderer:null}},survey_primer_attributes:null}}}function a(a){var c=o[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}e.exports={commit:p,getRetryFn:a}}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UFI2RemovePreviewMutation.graphql");function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return h(a,{mutation:i,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("getMutationTrackingPropertyFromTrackingData",["URI"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a=a(["ft"]);a=a==null?void 0:a.ft;var c=(g||(g=b("URI"))).getMostRecentURI().getQueryData(),d=c.notif_id;c=c.notif_t;d=d!=null?{alert_id:d,notif_source:"notif_jewel",notif_type:c}:null;c=a!=null||d!=null?babelHelpers["extends"]({},a,d):null;return c?[JSON.stringify(c)]:null}e.exports=a}),null);
__d("getCommentCreateMutationPropertiesFromTrackingData",["getMutationTrackingPropertyFromTrackingData","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("getReferrerURI")();return{feedback_referrer:c?c.getPath():void 0,tracking:b("getMutationTrackingPropertyFromTrackingData")(a)}}e.exports=a}),null);
__d("useTrackingCodeFnForBlue",["getCommentCreateMutationPropertiesFromTrackingData"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("getCommentCreateMutationPropertiesFromTrackingData")};e.exports=a}),null);
__d("useTrackingCodeFnForBlueOrComet",["requireCond","cr:886520"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:886520")}),null);
__d("Deferred",["Promise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve();a=function(){function a(a){var c=this;a=a||b("Promise");this.$1=!1;this.$2=new a(function(a,b){c.$3=a,c.$4=b})}var c=a.prototype;c.getPromise=function(){return this.$2};c.resolve=function(a){this.$1=!0,this.$3(a)};c.reject=function(a){this.$1=!0,this.$4(a)};c.isSettled=function(){return this.$1};return a}();e.exports=a}),null);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("AccessibleLayer",["fbt","DOM","Event","Focus"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this._layer=a,this._listener=null}var c=a.prototype;c.enable=function(){this._afterShowSubscription=this._layer.subscribe("aftershow",this._onAfterShow.bind(this)),this._afterHideSubscription=this._layer.subscribe("hide",this._onAfterHide.bind(this))};c.disable=function(){this._listener&&this._listener.remove(),this._afterShowSubscription.unsubscribe(),this._listener=this._afterShowSubscription=null};c._closeListener=function(a){a=this._layer.getCausalElement();a&&(a.tabIndex==null?(a.tabIndex=-1,b("Focus").setWithoutOutline(a)):b("Focus").set(a));this._layer.hide()};c._setupCloseButton=function(){var a=this._layer.getContentRoot(),c=b("DOM").scry(a,".layer_close_elem")[0];c||(c=b("DOM").create("a",{className:"accessible_elem layer_close_elem",href:"#",role:"button"},[g._("Close popup and return")]),b("DOM").appendContent(a,c));this._listener=b("Event").listen(c,"click",this._closeListener.bind(this))};c._onAfterShow=function(){this._listener||this._setupCloseButton()};c._onAfterHide=function(){this._listener&&this._listener.remove(),this._listener=null};return a}();e.exports=a}),null);
__d("ContextualDialogARIA",["DOM","getOrCreateDOMID"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("beforeshow",this._addAriaAttribute.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c._addAriaAttribute=function(){var a=this._layer.getCausalElement();if(!a)return;var c=b("DOM").scry(this._layer.getRoot(),".accessible_elem");c.length&&a.setAttribute("aria-describedby",b("getOrCreateDOMID")(c[0]))};return a}();e.exports=a}),null);
__d("AbstractContextualDialogArrowBehavior",["cx","CSS","DOM","Locale","Style","Vector","abstractMethod"],(function(a,b,c,d,e,f,g){var h={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},i={above:"bottom",below:"top",left:"right",right:"left"};a=function(){"use strict";function a(a){this.__layer=this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe(["adjust","reposition"],this._handle.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c.__getArrow=function(){return b("abstractMethod")("AbstractContextualDialogArrowBehavior","__getArrow")};c._handle=function(a,b){a==="adjust"?this._repositionArrow(b):this._repositionRoot(b)};c._repositionRoot=function(a){var c=a.getAlignment();if(c=="center")return;var d=this._layer.getRoot(),e=this._layer.getContext();a=a.isVertical();var f=this._layer.getArrowDimensions(),g=f.offset;f=f.length;e=b("Vector").getElementDimensions(e);e=a?e.x:e.y;if(e>=f+g*2)return;f=f/2+g;g=e/2;e=parseInt(f-g,10);if(a){f=null;c=="left"?f=b("Locale").isRTL()?"right":"left":f=b("Locale").isRTL()?"left":"right";g=parseInt(b("Style").get(d,f),10);b("Style").set(d,f,g-e+"px")}else{a=parseInt(b("Style").get(d,"top"),10);b("Style").set(d,"top",a-e+"px")}};c._repositionArrow=function(c){var d=this._layer.getContentRoot(),e=c.getPosition(),f=i[e];for(var g in h)b("CSS").conditionClass(d,h[g],f===g);if(e=="none")return;this._arrow||(this._arrow=this.__getArrow());b("DOM").contains(d,this._arrow)||b("DOM").appendContent(d,this._arrow);b("Style").set(this._arrow,"top","");b("Style").set(this._arrow,"left","");b("Style").set(this._arrow,"right","");b("Style").set(this._arrow,"margin","");f=a.getOffsetPercent(c);e=a.getOffset(c,f,this._layer);d=a.getOffsetSide(c);b("Style").set(this._arrow,d,f+"%");b("Style").set(this._arrow,"margin-"+d,e+"px")};a.getOffsetPercent=function(a){var b=a.getAlignment();a=a.getPosition();if(a=="above"||a=="below")if(b=="center")return 50;else if(b=="right")return 100;return 0};a.getOffsetSide=function(a){a=a.isVertical();return a?b("Locale").isRTL()?"right":"left":"top"};a.getOffset=function(a,b,c){c=c.getArrowDimensions();var d=c.offset;c=c.length;a=a.getAlignment();d=a=="center"?0:d;d+=c*b/100;a!="left"&&(d*=-1);return d};return a}();e.exports=a}),null);
__d("ContextualDialogArrow",["cx","AbstractContextualDialogArrowBehavior","CSS","JSXDOM"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getArrow=function(){return b("JSXDOM").i({className:"_53io"})};d.enable=function(){a.prototype.enable.call(this);var c=this.__layer.getContentRoot();b("CSS").addClass(c,"_5v-0")};d.disable=function(){a.prototype.disable.call(this);var c=this.__layer.getContentRoot();b("CSS").removeClass(c,"_5v-0")};return c}(b("AbstractContextualDialogArrowBehavior"));e.exports=a}),null);
__d("ContextualDialogDefaultTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=a}),null);
__d("ContextualDialogFitInViewport_PUSHSAFE",["Style","Vector"],(function(a,b,c,d,e,f){var g=50,h=10;a=function(){"use strict";function a(a){this._layer=a,this._contentHeight=null,this._contextY=null}var c=a.prototype;c.enable=function(){var a=this._layer.getArrowDimensions();this._arrowOffset=a.offset;a=a.length;this._arrowBuffer=this._arrowOffset+a;this._subscription=this._layer.subscribe(["reposition"],function(a,b){if(!this._layer.isFixed()||b.isVertical())return;this._adjustPosition()}.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c._getContentHeight=function(){return b("Vector").getElementDimensions(this._layer._contentWrapper).y};c._getContextY=function(){return b("Vector").getElementPosition(this._layer.getContext(),"viewport").y};c._adjustPosition=function(){var a=this._getContextY(),c=this._getContentHeight();if(a===this._contextY&&c===this._contentHeight)return;this._contextY=a;this._contentHeight=c;var d=b("Vector").getViewportDimensions().y;d=Math.min(Math.max(0,a+c+h-d),Math.max(0,a-g),c-this._arrowOffset-this._arrowBuffer);b("Style").set(this._layer.getContent(),"top",-d+"px")};return a}();e.exports=a}),null);
__d("LayerBounds",["Locale","Rect","ViewportBounds","containsNode","ge","getOverlayZIndex"],(function(a,b,c,d,e,f){a={getViewportRectForContext:function(a){var c=b("ge")("globalContainer");c=c&&b("containsNode")(c,a)||b("getOverlayZIndex")(a)<300;a=b("Rect").getViewportWithoutScrollbarsBounds();c&&(a.t+=b("ViewportBounds").getTop(),b("Locale").isRTL()?(a.r-=b("ViewportBounds").getLeft(),a.l+=b("ViewportBounds").getRight()):(a.r-=b("ViewportBounds").getRight(),a.l+=b("ViewportBounds").getLeft()));return a}};e.exports=a}),null);
__d("ContextualLayerDimensions",["LayerBounds","Locale","Rect","Vector"],(function(a,b,c,d,e,f){a={getViewportRect:function(a){return b("LayerBounds").getViewportRectForContext(a.getContext())},getLayerRect:function(a,c){var d=a.getContextBounds("viewport"),e=a.simulateOrientation(c,function(){return b("Vector").getElementDimensions(a.getContentRoot())}),f=d.t+c.getOffsetY();c.getPosition()==="above"?f-=e.y:c.getPosition()==="below"&&(f+=d.b-d.t);var g=d.l+c.getOffsetX();d=d.r-d.l;if(c.isVertical()){var h=c.getAlignment();h==="center"?g+=(d-e.x)/2:h==="right"!==b("Locale").isRTL()?g+=d-e.x+c.getArrowOffset():g-=c.getArrowOffset()}else c.getPosition()==="right"!==b("Locale").isRTL()?g+=d:g-=e.x;return new(b("Rect"))(f,g+e.x,f+e.y,g,"viewport")}};e.exports=a}),null);
__d("AbstractContextualDialogKeepInViewportBehavior",["ContextualLayerDimensions","Event","Vector","abstractMethod","throttle"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._layer=a,this._listeners=[],this._subscription=null,this._minimumTop=null}var c=a.prototype;c.enable=function(){var a=this._layer.getArrowDimensions();this._arrowOffset=a.offset;a=a.length;this._arrowBuffer=this._arrowOffset+a;this._subscription=this._layer.subscribe(["show","hide","reposition"],function(a,b){if(this._layer.isFixed())return;a=="reposition"?(this._calculateMinimumTop(b),this._adjustForScroll()):a=="show"?(this._attachScroll(),this._adjustForScroll()):this._detachScroll()}.bind(this));this._layer.isShown()&&this._attachScroll()};c.disable=function(){this._layer.isShown()&&this._detachScroll(),this._subscription.unsubscribe(),this._subscription=null};c.__adjustForScroll=function(a,c){return b("abstractMethod")("AbstractContextualDialogArrowBehavior","__adjustForScroll")};c._attachScroll=function(){var a=b("throttle")(this._adjustForScroll.bind(this)),c=this._layer.getContextScrollParent()||window;this._listeners=[b("Event").listen(c,"scroll",a),b("Event").listen(window,"resize",a)]};c._detachScroll=function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[]};c._getContentHeight=function(){return!this._layer._contentWrapper?0:b("Vector").getElementDimensions(this._layer._contentWrapper).y};c._getContextY=function(){return b("Vector").getElementPosition(this._layer.getContext()).y};c._calculateMinimumTop=function(a){if(a.isVertical())return;this._minimumTop=this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+a.getOffsetY()};c._adjustForScroll=function(){var a=this._layer.getOrientation(),c=this._layer.getContent();if(a.isVertical()||!c)return;a=b("ContextualLayerDimensions").getViewportRect(this._layer);c=a.b-this._minimumTop;if(c<0)return;a=this._getContentHeight();var d=a-(this._arrowBuffer+this._arrowOffset);d=Math.max(0,Math.min(d,d-(c-a)));this.__adjustForScroll(this._layer,d)};return a}();e.exports=a}),null);
__d("ContextualDialogKeepInViewport",["AbstractContextualDialogKeepInViewportBehavior","Style"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__adjustForScroll=function(a,c){a=a.getContent();b("Style").set(a,"top",-c+"px")};return c}(b("AbstractContextualDialogKeepInViewportBehavior"));e.exports=a}),null);
__d("SVGChecker",[],(function(a,b,c,d,e,f){e.exports={isSVG:function(a){return!!a.ownerSVGElement||a.tagName.toLowerCase()==="svg"},isDisplayed:function(a){try{a=a.getBBox();if(a&&(a.height===0||a.width===0))return!1}catch(a){return!1}return!0}}}),null);
__d("ContextualLayer",["invariant","requireCond","Arbiter","ARIA","Bootloader","ContextualLayerAlignmentEnum","ContextualLayerPositionEnum","ContextualThing","CSS","DataStore","DOM","Event","Layer","cr:971473","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","containsNode","emptyFunction","getOffsetParent","getOrCreateDOMID","getOverlayZIndex","getOwnObjectValues","isElementNode","killswitch","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){function h(a){return a.getPosition()==="left"||a.isVertical()&&a.getAlignment()==="right"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(b,c){b.dialogRole!=="dialog"&&(this._dialogRole=b.dialogRole),b.shouldSetARIAProperties===!1&&(this._shouldSetARIAProperties=b.shouldSetARIAProperties),b.label&&(this._label=b.label),b.labelledBy&&(this._labelledBy=b.labelledBy),a.prototype._configure.call(this,b,c),b.context?this.setContext(b.context):b.contextID?this._setContextID(b.contextID):b.contextSelector&&(this._setContextSelector(b.contextSelector),this._setARIAProperties()),this.setPosition(b.position),this.setAlignment(b.alignment),this.setOffsetX(b.offsetX),this.setOffsetY(b.offsetY),this.setArrowDimensions(b.arrowDimensions),this._content=c};d._getDefaultBehaviors=function(){var d=c.getDefaultBehaviorsAsObject();return a.prototype._getDefaultBehaviors.call(this).concat(b("getOwnObjectValues")(d))};d._buildWrapper=function(a,c){this._contentWrapper=b("DOM").create("div",{className:"uiContextualLayer"},c);this._dialogRole&&this._contentWrapper.setAttribute("role",this._dialogRole);this._labelledBy?this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy):this._label&&this._contentWrapper.setAttribute("aria-label",this._label);this._dialogRole==="alert"&&this._contentWrapper.setAttribute("aria-atomic","true");return b("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":a["data-testid"]},this._contentWrapper)};d.getInsertParent=function(){var c=this._insertParent;if(!c){var d=this.getContext();d&&(c=b("Parent").byClass(d,"uiContextualLayerParent"))}return c||a.prototype.getInsertParent.call(this)};d.setContent=function(a){this._content=a;b("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};d.setContext=function(a){return this.setContextWithBounds(a,null)};d.setContextWithBounds=function(a,c){if(this._contextNode===a&&c&&this._contextBounds&&c.isEqualTo(this._contextBounds))return this;this._contextNode=a;var d=c&&this._contextBounds&&c.t===this._contextBounds.t&&c.r===this._contextBounds.r&&c.b===this._contextBounds.b&&c.l===this._contextBounds.l;if(d)return this;this._contextBounds=c||null;this._contextSelector="#"+b("getOrCreateDOMID")(a);this._contextScrollParent=null;this._shown&&(b("ContextualThing").register(this.getRoot(),this._contextNode),this.updatePosition());this._setParentSubscription();this._setARIAProperties();return this};d.shouldSetARIAProperties=function(a){this._shouldSetARIAProperties=a;return this};d._setARIAProperties=function(){if(!this._shouldSetARIAProperties)return this;this._dialogRole==="dialog"?b("ARIA").setPopup(this.getCausalElement(),this.getRoot()):this._dialogRole==="region"&&b("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(a){this.hasBehavior(a)||this.enableBehavior(a)}.bind(this),"ContextualLayer");return this};d._setContextID=function(a){this._contextSelector="#"+a,this._contextNode=null};d._setContextSelector=function(a){this._contextSelector=a,this._contextNode=null};d.getCausalElement=function(){return a.prototype.getCausalElement.call(this)||this.getContext()};d._setParentSubscription=function(){var a=this.getContext(),c=null;while(a!=null){c=b("DataStore").get(a,"layer");if(c&&typeof c==="object")break;a=a.parentNode}if(c===this._parentLayer)return;this._parentLayer&&this._parentSubscription&&(this._parentLayer.unsubscribe(this._parentSubscription),this._parentSubscription=null);c&&(this._parentSubscription=c.subscribe("hide",this.hide.bind(this)));this._parentLayer=c};d.setPosition=function(a){this.getOrientation().setDefaultPosition(a)&&(this._shown&&this.updatePosition());return this};d.setAlignment=function(a){this.getOrientation().setDefaultAlignment(a)&&(this._shown&&this.updatePosition());return this};d.setOffsetX=function(a){this.getOrientation().setDefaultOffsetX(a)&&(this._shown&&this.updatePosition());return this};d.setArrowDimensions=function(a){a&&this.getOrientation().setArrowOffset(a.offset)&&(this._shown&&this.updatePosition());return this};d.setOffsetY=function(a){this.getOrientation().setDefaultOffsetY(a)&&(this._shown&&this.updatePosition());return this};d.getPosition=function(){return this.getOrientation().getPosition()};d.getOrientation=function(){this._orientation||(this._orientation=new l());return this._orientation};d.getContentRoot=function(){return this._contentWrapper};d.getContent=function(){return this._content};d.getContext=function(){this._contextNode||(this._contextSelector!=null||g(0,11711),this._contextNode=b("DOM").find(document,this._contextSelector));return this._contextNode};d.getContextBounds=function(a){if(this._contextBounds)return this._contextBounds.convertTo(a);var c=this.getContext();return b("Rect").newFromVectors(b("Vector").getElementPosition(c,a),b("Vector").getElementDimensions(c))};d.getContextScrollParent=function(){!this._contextScrollParent?this._contextScrollParent=b("Style").getScrollParent(this.getContext()):b("isElementNode")(this._contextScrollParent)&&!b("containsNode")(document.documentElement,this._contextScrollParent)&&(this._contextScrollParent=b("Style").getScrollParent(this.getContext()));return this._contextScrollParent};d.setInsertParent=function(b){this._insertScrollParent=null;return a.prototype.setInsertParent.call(this,b)};d.getInsertScrollParent=function(){this._insertScrollParent||(this._insertScrollParent=b("Style").getScrollParent(this.getInsertParent()));return this._insertScrollParent};d.show=function(){var c=this;if(this._shown)return this;a.prototype.show.call(this);b("Arbiter").inform("contextualLayer/toggle",{show:!0,contentRoot:this.getRoot()});this._shown&&(b("ContextualThing").register(this.getRoot(),this.getContext()),i.push(this),this._resizeListener=this._resizeListener||b("Event").listen(window,"resize",b("throttle")(function(){c._shown&&c.updatePosition()})));return this};d.finishHide=function(){b("removeFromArray")(i,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;b("Arbiter").inform("contextualLayer/toggle",{show:!1,contentRoot:this.getRoot()});return a.prototype.finishHide.call(this)};d.isFixed=function(){return b("Style").isFixed(this.getContext())&&!b("Style").isFixed(this.getInsertParent())};d.updatePosition=function(){var a=this.getContext();if(!a)return!1;var c=this.isFixed();if(!c&&!(a.offsetParent||b("SVGChecker").isSVG(a)&&b("SVGChecker").isDisplayed(a)))return!1;var d=this.getRoot(),e=!b("killswitch")("CONTEXTUAL_POSITIONING_MOBILE_FIX"),f=e?b("Vector").getLayoutViewportDimensions().x:b("Vector").getViewportDimensions().x;b("Style").set(d,"width",f+"px");var g=this.getOrientation();this.inform("adjust",g.reset());if(!g.isValid())return!1;this._updateWrapperPosition(g);this._updateWrapperClass(g);b("CSS").conditionClass(d,"uiContextualLayerPositionerFixed",c);var i=c?"viewport":"document",j=c?document.documentElement:b("getOffsetParent")(d);if(c&&e)c=new(b("Vector"))(0,0),e=f;else if(j===document.documentElement)c=new(b("Vector"))(0,0),e=document.documentElement.clientWidth;else if(!d.offsetParent)return!1;else c=b("Vector").getElementPosition(j,i),e=j.offsetWidth,j!==document.body&&(c=c.sub(new(b("Vector"))(b("Scroll").getLeft(j),b("Scroll").getTop(j))));f=this.getContextBounds(i);j=f.l-c.x;i=f.t-c.y;c=f.h();f=f.w();var k=b("Locale").isRTL();g.getPosition()==="below"&&(i+=c);(g.getPosition()==="right"||g.isVertical()&&g.getAlignment()==="right")!=k&&(j+=f);c=g.getOffsetX();g.isVertical()&&g.getAlignment()==="center"&&(c+=(f-this.getContentRoot().offsetWidth)/2);k&&(c*=-1);f="left";j=Math.floor(j+c);h(g)!==k&&(f="right",j=e-j);b("Style").set(d,f,j+"px");b("Style").set(d,f==="left"?"right":"left","");c=this.getInsertScrollParent();k=0;c!==window?(e=c.clientWidth,k=b("Vector").getElementPosition(c).x):e=document.documentElement.clientWidth;j=b("Vector").getElementPosition(d).x-k;f==="left"&&e-j>0?b("Style").set(d,"width",e-j+"px"):f==="right"&&j+d.offsetWidth>0?b("Style").set(d,"width",j+d.offsetWidth+"px"):b("Style").set(d,"width","");b("Style").set(d,"top",i+g.getOffsetY()+"px");c=b("getOverlayZIndex")(a,this.getInsertParent());b("Style").set(d,"z-index",c>200?c:"");this.inform("reposition",g);return!0};d._updateWrapperPosition=function(a){var c=a.getPosition()==="above";b("Style").set(this._contentWrapper,"bottom",c?"0":null);c=b("Locale").isRTL()?"left":"right";a=h(a);b("Style").set(this._contentWrapper,c,a?"0":null)};d._updateWrapperClass=function(a){a=a.getClassName();if(a===this._orientationClass)return;this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=a;b("CSS").addClass(this._contentWrapper,a)};d.simulateOrientation=function(a,c){a=a.getClassName();if(a===this._orientationClass)return c();else{this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);b("CSS").addClass(this._contentWrapper,a);c=c();b("CSS").removeClass(this._contentWrapper,a);this._orientationClass&&b("CSS").addClass(this._contentWrapper,this._orientationClass);return c}};d.destroy=function(){a.prototype.destroy.call(this);this._contentWrapper=null;this._content=null;return this};d.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0}};c.getDefaultBehaviorsAsObject=function(){return b("cr:971473")==null?{}:{LayerHideOnTransition:b("cr:971473")}};return c}(b("Layer"));var i=[];b("Arbiter").subscribe("reflow",function(){i.forEach(function(a){a.updatePosition()===!1&&a.hide()})});Object.assign(a.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:!0});var j=b("emptyFunction").thatReturnsArgument,k=b("emptyFunction").thatReturnsArgument,l=function(){"use strict";function a(){this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:!0,_preferMoreContentShownRect:!1},this.reset()}var b=a.prototype;b.setPosition=function(a){this._position=j(a);return this};b.setAlignment=function(a){this._alignment=k(a);return this};b.getOppositePosition=function(){return a.OPPOSITE[this.getPosition()]};b.invalidate=function(){this._valid=!1;return this};b.getPosition=function(){return this._position||"above"};b.getAlignment=function(){return this._alignment||"left"};b.getOffsetX=function(){var a=this._offsetX||0;!this.isVertical()?this._default._position!==this._position&&(a*=-1):this._default._alignment!==this._alignment&&(a*=-1);return a};b.getOffsetY=function(){var a=this._offsetY||0;this.isVertical()&&this._default._position!==this._position&&(a*=-1);return a};b.getClassName=function(){var a=this.getAlignment(),b=this.getPosition();if(b==="below")if(a==="left")return"uiContextualLayerBelowLeft";else if(a==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(b==="above")if(a==="left")return"uiContextualLayerAboveLeft";else if(a==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(b==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};b.isValid=function(){return this._valid};b.isVertical=function(){return this.getPosition()==="above"||this.getPosition()==="below"};b.reset=function(){Object.assign(this,this._default);return this};b.setDefaultPosition=function(a){var b=this._default._position;this._default._position=j(a);return b!==a};b.setDefaultAlignment=function(a){var b=this._default._alignment;this._default._alignment=k(a);return b!==a};b.setDefaultOffsetX=function(a){var b=this._default._offsetX;this._default._offsetX=a;return b!==a};b.setArrowOffset=function(a){var b=this._default._arrowOffset;this._default._arrowOffset=a;return b!==a};b.getArrowOffset=function(){return this._default._arrowOffset||0};b.setDefaultOffsetY=function(a){var b=this._default._offsetY;this._default._offsetY=a;return b!==a};b.setPreferMoreContentShownRect=function(a){var b=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=a;return b!==a};b.getPreferMoreContentShownRect=function(){return this._default._preferMoreContentShownRect};return a}();l.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};e.exports=a}),null);
__d("LayerMouseHooks",["Arbiter","ContextualThing","Event","Layer"],(function(a,b,c,d,e,f){var g=new(b("Arbiter"))();a=function(){"use strict";function a(a){this._layer=a,this._subscriptions=[],this._currentlyActive=!1}var c=a.prototype;c.enable=function(){this._subscriptions=[g.subscribe("mouseenter",this._handleActive.bind(this)),g.subscribe("mouseleave",this._handleInactive.bind(this)),this._layer.subscribe("hide",function(){this._currentlyActive=!1}.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=!1};c._handleActive=function(a,b){!this._currentlyActive&&this._isNodeWithinStack(b)&&(this._layer.inform("mouseenter",b),this._currentlyActive=!0)};c._handleInactive=function(a,b){this._currentlyActive&&((!b||!this._isNodeWithinStack(b))&&(this._layer.inform("mouseleave",b),this._currentlyActive=!1))};c._isNodeWithinStack=function(a){return b("ContextualThing").containsIncludingLayers(this._layer.getContentRoot(),a)};return a}();b("Layer").subscribe("show",function(a,c){var d=c.getContentRoot(),e=[b("Event").listen(d,"mouseenter",function(){g.inform("mouseenter",d)}),b("Event").listen(d,"mouseleave",function(a){g.inform("mouseleave",a.getRelatedTarget())})],f=c.subscribe("hide",function(){while(e.length)e.pop().remove();f.unsubscribe();e=f=null})});e.exports=a}),null);
__d("ContextualDialog",["csx","cx","invariant","requireCond","AccessibleLayer","ContextualDialogARIA","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogFitInViewport_PUSHSAFE","ContextualDialogKeepInViewport","ContextualLayer","CSS","DOM","Event","JSXDOM","LayerButtons","LayerFormHooks","cr:971473","LayerMouseHooks","LayerRefocusOnHide","Style","removeFromArray","shield"],(function(a,b,c,d,e,f,g,h,i){var j=0,k=300;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b._footer=null;return b}var d=c.prototype;d._configure=function(c,d){Object.assign(c,c.theme||b("ContextualDialogDefaultTheme"));var e=c.arrowBehavior||b("ContextualDialogArrow");c.addedBehaviors=c.addedBehaviors||[];c.addedBehaviors.push(e);a.prototype._configure.call(this,c,d);this._footer=b("DOM").scry(d,"div._572u")[0];this._footer&&(this._footer.children.length===1&&this._footer.children[0].nodeName==="DIV"&&this._footer.children[0].children.length===0?this._footer.parentNode.removeChild(this._footer):b("CSS").addClass(this.getContentRoot(),"_kc"));c.hoverContext&&this._registerHoverHandlers(c.hoverContext,c.hoverShowDelay,c.hoverHideDelay)};d._registerHoverHandlers=function(a,c,d){var e=this,f=c,g=d;f==null&&(f=j);g==null&&(g=k);var h,i;c=function(a){window.clearTimeout(i),h=window.setTimeout(b("shield")(e.show,e),f)};d=function(a){if(e._isHoverLocked())return;window.clearTimeout(h);i=window.setTimeout(e.hide.bind(e),g)};var l=b("Event").listen(a,"mouseenter",c),m=b("Event").listen(a,"mouseleave",d),n=this.subscribe("mouseenter",c),o=this.subscribe("mouseleave",d);this.subscribe("destroy",function(){window.clearTimeout(i),window.clearTimeout(h),l.remove(),m.remove(),n.unsubscribe(),o.unsubscribe()})};d._getDefaultBehaviors=function(){var c=a.prototype._getDefaultBehaviors.call(this);b("cr:971473")!=null&&b("removeFromArray")(c,b("cr:971473"));return c.concat([b("AccessibleLayer"),b("LayerRefocusOnHide"),b("ContextualDialogKeepInViewport"),b("ContextualDialogFitInViewport_PUSHSAFE"),b("LayerButtons"),b("LayerFormHooks"),b("LayerMouseHooks"),b("ContextualDialogARIA")])};d._buildWrapper=function(c,d){this._innerWrapper=b("JSXDOM").div(null,d);var e=a.prototype._buildWrapper.call(this,c,this._innerWrapper);if(c.wrapperClassName){var f=c.wrapperClassName.split(/\s+/);for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=f.length)break;j=f[h++]}else{h=f.next();if(h.done)break;j=h.value}j=j;b("CSS").addClass(e,j)}}this.replaceEntireLayerContents(d);this.getContent()===d||i(0,5783);this.setWidth(c.width);return e};d.getContentRoot=function(){!this._innerWrapper&&i(0,5784);return this._innerWrapper};d.setContent=function(a){i(0,5785)};d.replaceEntireLayerContents=function(a){this._content=null,b("DOM").empty(this.getContentRoot()),this.setInnerContent(a)};d.setInnerContent=function(a){b("CSS").addClass(a,"_53ij"),this.getContent()?b("DOM").replace(this.getContent(),a):b("DOM").appendContent(this.getContentRoot(),a),this._content=a,this.isShown()&&this.updatePosition()};d.setWidth=function(a){b("Style").set(this.getContentRoot(),"width",a?Math.floor(a)+"px":"");return this};d.getFooter=function(){return this._footer};d.lockHover=function(){this._hoverLocked=!0;return this};d.unlockHover=function(){this._hoverLocked=!1;return this};d._isHoverLocked=function(){return!!this._hoverLocked};c.setContext=function(a,b){a.setContext(b)};return c}(b("ContextualLayer"));e.exports=a}),null);
__d("Base64",[],(function(a,b,c,d,e,f){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(g.charCodeAt(a>>>18),g.charCodeAt(a>>>12&63),g.charCodeAt(a>>>6&63),g.charCodeAt(a&63))}var i=">___?456789:;<=_______\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function j(a){a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+"\0\0".slice(b)).replace(/[\s\S]{3}/g,h);return a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,j);a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(a){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(JSON.stringify(a))},decodeObject:function(a){return JSON.parse(k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,a.map(function(a){return g.charCodeAt((a|-(a>63?1:0))&-(a>0?1:0)&63)}))}};e.exports=k}),null);
__d("AbstractLink.react",["AbstractLinkLynxMode","LynxGeneration","NonFBLinkReferrerProtector","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.dataLnfbMode!==null?b("NonFBLinkReferrerProtector").setupDelegation():this.props.isLinkshimSupported&&b("AbstractLinkLynxMode").setupDelegation()};d.render=function(){var a=this.props,c=a.href,d=a.linkRef,e=a.shimhash,f=a.nofollow,h=a.noopener,i=a.rel,j=a.isSafeToSkipShim,k=a.dataLnfbMode;a.isLinkshimSupported;a=babelHelpers.objectWithoutPropertiesLoose(a,["href","linkRef","shimhash","nofollow","noopener","rel","isSafeToSkipShim","dataLnfbMode","isLinkshimSupported"]);var l=c;i=i;var m=null,n=null,o=null;if(e!==null){l=b("LynxGeneration").getShimmedHref(c,e||"");c=b("AbstractLinkLynxMode").getMode(j);n=c[0];m=c[1]}f&&(i=i?i+" nofollow":"nofollow");h&&(i=i?i+" noopener":"noopener");k&&(o=k);return g.jsx("a",babelHelpers["extends"]({},a,{href:l.toString()||null,rel:i,ref:d,"data-sigil":m,"data-lynx-mode":n,"data-lnfb-mode":o}))};return c}(g.Component);e.exports=a}),null);
__d("ClickIDParameterUtils",["URI","compactArray","first","isCdnURI","isClickIDBlacklistSVDomainURI","isFacebookSVDomainURI","isFacebookURI","isFbDotComURI"],(function(a,b,c,d,e,f){"use strict";var g,h=new Set(["http","https"]);function i(a){return h.has(a.getProtocol())}var j="fbclid";c="doubleclick.net";var k=(d={},d[c]=[{extractor:function(a){a=a.getQueryString();return a!=null&&a.startsWith("http")?new(g||(g=b("URI")))(a):null},injector:function(a,b,c){b=b.addQueryData(j,c);return a.setQueryString(b.toString())}}],d);function l(a){var b=a.getProtocol(),c=a.getDomain();a=a.getPort();return b!==null&&b.length>0||c!==null&&c.length>0||a!==null}function m(a){var c=b("first")(Object.keys(k).filter(function(b){return a.getDomain().endsWith(b)}));c=c!=null?k[c]:null;return c==null?null:b("first")(b("compactArray")(c.map(function(b){var c=b.extractor(a);return c==null?null:{injector:b.injector,uri:c}})))}function n(a){return!b("isFacebookURI")(a)&&!b("isFacebookSVDomainURI")(a)&&!b("isCdnURI")(a)&&!b("isFbDotComURI")(a)&&l(a)&&i(a)&&!o(a)}function o(a){var c=b("isClickIDBlacklistSVDomainURI")(a);if(c)return!0;c=m(a);return c!=null?o(c.uri):!1}function p(a,b){var c=m(a);return c!=null?c.injector(a,c.uri,b):a.addQueryData(j,b)}function a(a,b){return n(a)?p(a,b):a}e.exports={QUERY_PARAM:j,appendClickIDQueryParam:a}}),null);
__d("Link.react",["AbstractLink.react","ClickIDParameterUtils","LinkshimHandlerConfig","Random","React","URI","isFacebookURI","isInternalFBURI","isLinkshimURI","isMessengerDotComURI","isWorkplaceDotComURI","killswitch"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(){return/(^|\.)workplace\.com$/.test(b("LinkshimHandlerConfig").current_domain)}function j(){return/(^|\.)internalfb\.com$/.test(b("LinkshimHandlerConfig").current_domain)}function k(a){return b("isFacebookURI")(a)||b("isMessengerDotComURI")(a)}function l(a){return a.getDomain().endsWith(".onion")}function m(a){if(i())return n(a);return j()?b("isInternalFBURI")(a)||k(a):k(a)}function n(a){return b("isWorkplaceDotComURI")(a)}var o=/^(#|\/\w)/;function p(a){if(o.test(a.toString()))return!1;var b=a.getProtocol();return b!=="http"&&b!=="https"?!1:!m(a)}function q(a){var c="#",d=null;a instanceof(g||(g=b("URI")))?c=a.toString():typeof a==="string"&&a!==""&&a!=="#"?c=a:typeof a==="object"&&a!==null?(c=a.url.toString(),d=a.shimhash?a.shimhash.toString():d):(c="#",d=null);return(g||(g=b("URI"))).isValidURI(c)?[new(g||(g=b("URI")))(c),d]:[null,d]}var r=new RegExp("^(l|lm|h)\\..*$","i");function s(a){if(b("killswitch")("LINK_UPGRADE_UNSHIMMED_JS"))return null;if(a.getProtocol()!=="http")return null;if(!m(a))return null;return r.test(a.getDomain())?null:a.setProtocol("https")}function t(a){return a.getProtocol()===""||a.getDomain()===""&&a.getPort()===""?!1:!0}function u(a){if(!t(a))return!1;var c=b("LinkshimHandlerConfig").current_domain;if(c===""){c="."+c;return a.getDomain().endsWith(c)}return!0}function v(a,c){var d=null,e=!1;a=a!==null&&a instanceof(g||(g=b("URI")))?a:new(g||(g=b("URI")))("#");var f=u(a),h=f===!0;c=c||(f===!0?"_blank":null);var i=b("LinkshimHandlerConfig").use_rel_no_opener&&c==="_blank";return[a,h,i,c,d,e,f]}function w(a,c,d,e){if(a!==null&&a instanceof(g||(g=b("URI")))){if(!b("killswitch")("LINK_PARSES_SHIMHASH_FROM_LINKSHIM")&&b("isLinkshimURI")(a)){var f=a.getQueryData(),h=f.u;f=f.h;(g||(g=b("URI"))).isValidURI(h)&&(a=new(g||(g=b("URI")))(h),c==null&&(c=f))}h=b("LinkshimHandlerConfig").click_ids;if(!b("killswitch")("LINKSHIM_ADD_CLICK_ID_PARAM")&&h!=null&&h.length>0){f=Math.floor(b("Random").random()*h.length);h=h[f];a=b("ClickIDParameterUtils").appendClickIDQueryParam(a,h)}}else a=new(g||(g=b("URI")))("#");c==null&&p(a)&&(c=b("LinkshimHandlerConfig").link_react_default_hash);f=s(a);f!=null&&(a=f);h=c!=null;f=d||(c!==null?"_blank":null);d=!!e;b("LinkshimHandlerConfig").onion_always_shim&&l(a)&&(d=!1);e=b("LinkshimHandlerConfig").use_rel_no_opener&&c!==null&&f==="_blank";var i=u(a);return[a,h,e,f,c,d,i]}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;a.allowunsafehref;var c=a.s,d=a.href,e=a.linkRef;a.target;a=babelHelpers.objectWithoutPropertiesLoose(a,["allowunsafehref","s","href","linkRef","target"]);d=q(d);var f=d[0];d=d[1];d=b("LinkshimHandlerConfig").is_linkshim_supported?w(f,d,this.props.target,c):v(f,this.props.target);c=d[0];f=d[1];var g=d[2],i=d[3],j=d[4],k=d[5];d=d[6];var l=null;!b("LinkshimHandlerConfig").is_linkshim_supported&&d&&(l=b("LinkshimHandlerConfig").non_linkshim_lnfb_mode);return h.jsx(b("AbstractLink.react"),babelHelpers["extends"]({},a,{href:c,linkRef:e,nofollow:f,noopener:g,shimhash:j,target:i,isSafeToSkipShim:k,dataLnfbMode:l,isLinkshimSupported:b("LinkshimHandlerConfig").is_linkshim_supported}))};return c}(h.Component);e.exports=a}),null);
__d("AbstractButton.react",["cx","Link.react","React","cloneWithProps_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=h.Component;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.buttonRef=h.createRef(),c.handleLinkClick=function(a){c.props.disabled?a.preventDefault():c.props.onClick&&c.props.onClick(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.focus=function(){this.buttonRef.current!=null&&this.buttonRef.current.focus()};d.render=function(){var a=this.props,c=a.depressed,d=a.disabled,e=a.image,f=a.imageRight,g=a.label,i=a.labelIsHidden;a=babelHelpers.objectWithoutPropertiesLoose(a,["depressed","disabled","image","imageRight","label","labelIsHidden"]);delete a.shade;c="_42ft"+(d?" _42fr":"")+(c?" _42fs":"");e=e;if(e){var j={};g&&(j.alt="",i||(j.className="_3-8_"));e=b("cloneWithProps_DEPRECATED")(e,j)}j=f;if(j){f={};g&&(f.alt="",i||(f.className="_3-99"));j=b("cloneWithProps_DEPRECATED")(j,f)}if(this.props.href){f=this.props;var k=f.disabled;f=f.role;f=k&&f==="button";return h.jsxs(b("Link.react"),babelHelpers["extends"]({},a,{linkRef:this.buttonRef,"aria-disabled":f?!0:void 0,className:b("joinClasses")(this.props.className,c),onClick:this.handleLinkClick,tabIndex:k?-1:this.props.tabIndex,children:[e,i?h.jsx("span",{className:"accessible_elem",children:g}):g,j]}))}else if(this.props.type&&this.props.type!=="submit")return h.jsxs("button",babelHelpers["extends"]({},a,{ref:this.buttonRef,className:b("joinClasses")(this.props.className,c),disabled:d,type:this.props.type,children:[e,i?h.jsx("span",{className:"accessible_elem",children:g}):g,j]}));else return h.jsxs("button",babelHelpers["extends"]({},a,{ref:this.buttonRef,className:b("joinClasses")(this.props.className,c),disabled:d,type:"submit",value:"1",children:[e,i?h.jsx("span",{className:"accessible_elem",children:g}):g,j]}))};return c}(a);c.propTypes={image:(d=b("prop-types")).element,imageRight:d.element,depressed:d.bool,label:d.node,onClick:d.func,labelIsHidden:d.bool};c.defaultProps={disabled:!1,depressed:!1,labelIsHidden:!1};e.exports=c}),null);
__d("XUIAbstractGlyphButton.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5upp"),label:this.props.label}))};return c}(h.Component);a.propTypes=b("AbstractButton.react").propTypes;e.exports=a}),null);
__d("XUICloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.shade;a="_50zy"+(a==="small"?" _50zz":"")+(a==="medium"?" _50-0":"")+(a==="large"?" _50-1":"")+(c==="light"?" _50z_":"")+(c==="dark"?" _50z-":"");c=this.props.label;var d=this.props.title;!this.props.title&&!this.props.tooltip&&(d=c);return i.jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:c,title:d,type:this.props.href?void 0:this.props.type,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:b("joinClasses")(this.props.className,a)}))};return c}(i.Component);a.propTypes={shade:(c=b("prop-types")).oneOf(["light","dark"]),size:c.oneOf(["small","medium","large"]),title:c.string,tooltip:c.string,type:c.oneOf(["submit","button","reset"])};a.defaultProps={label:h._("Remove"),size:"medium",shade:"dark",type:"button"};e.exports=a}),null);
__d("XUIAmbientNUXDarkTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_6dh- _2x6q",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("XUIAmbientNUXTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("UFI2CommentShareNux.react",["AsyncRequest","BasicFBNux","Random","React","XBasicFBNuxGenShouldShowController","XUIAmbientNUX.react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=7643,i=2e3,j=6e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={shouldShow:!1},d.closeNUX=function(){b("BasicFBNux").onDismiss(h),d.setState({shouldShow:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;var c=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",h).setBool("should_log_view",!1).getURI();b("setTimeout")(function(){new(b("AsyncRequest"))().setURI(c).setHandler(function(c){if(c.payload&&a.$1){c=c.payload.should_show_nux;b("BasicFBNux").onView(h);a.setState({shouldShow:c})}}).send()},b("Random").random()*(j-i)+i)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:this.closeNUX,position:"below",shown:this.state.shouldShow},this.props))};return c}(g.Component);e.exports=a}),null);
__d("useNoopCareReactionNUX",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return[b("emptyFunction"),b("emptyFunction")]}e.exports=a}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType;a=a.numCommentsToShow;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);default:c;return g._("View comments")}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_comments_indeterminate":return g._("View replies");case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pagerCount,h=a.pageSize,i=a.summaryTotalNumComments,j=a.totalCount;a=a.viewOption;var k=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:h,state:f,totalCount:j});f=b("UFI2ViewOption").isChronologicalOrder(a);j=f&&e==="backward"||!f&&e==="forward";if(k===0){if(g===1&&i===1)return"view_one";if(d>0)return"view_all";else return"view_comments_indeterminate"}else if(c&&g<=h)if(g===1)return"view_one_more";else return"view_more_explicit";if(j)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.getCommentsPagerLabel;f=f===void 0?b("getUFI2CommentsPagerLabel"):f;var h=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:h});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:h});if(j==null){b("recoverableViolation")("UFI2CommentsPager: Expected to have a pager count if pager was rendered","ufi2");return null}c=g(babelHelpers["extends"]({},a,{pagerCount:j}));e=d>0;return e?b("getUFI2RepliesPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i}):f({labelType:c,numCommentsToShow:j})}e.exports=a}),null);
__d("UFI2FeedbackSubscriptionTopicProvider",["FBLogger","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime/query/GraphQLTag"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").getRequest,h=b("relay-runtime/query/GraphQLTag").isRequest,i={};function j(a){return function(b){var c;b=(c=(c=b.input)==null?void 0:c.feedback_id)!=null?c:(c=b.input)==null?void 0:c.top_level_feedback_id;c=i[b];return c==null?null:a+c}}function a(a,c){if(h(a)===!1){b("FBLogger")("ufi2").warn("The `subscription` passed to `registerProvider()` must be a `ConcreteRequest`.");return}a=g(a);a=a.params.id;a!=null&&(a!=null&&typeof a==="string"&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(a,j(c)))}function c(a,b){i[a]=b}e.exports={addSubscriptionTargetIDForFeedbackID:c,registerProvider:a}}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackCommentReactSubscription_feedback.graphql");var j=h!==void 0?h:h=b("UFI2FeedbackCommentReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(j,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e,f){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return i(a,{subscription:j,variables:{input:c,isComet:f,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j;b("RelayModern").graphql;var k=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackReactSubscription_feedback.graphql");h!==void 0?h:h=b("UFI2FeedbackReactSubscription_liker.graphql");i!==void 0?i:i=b("UFI2FeedbackReactSubscription_viewer.graphql");var l=j!==void 0?j:j=b("UFI2FeedbackReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(l,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return k(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("RelayUFI2Environment",["invariant","requireCond","ActorURIConfig","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBOperationLoader","RelayRuntime","UFI2CommentsConnectionHandler","VideoTimestampedCommentsConnectionHandler","cr:1121434","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("RelayRuntime")).ConnectionHandler,i=c.Environment,j=c.QueryResponseCache,k=c.RecordSource,l=c.Store,m=10,n=5*60*1e3,o={};a(b("RelayAPIConfig").actorID);function p(a){switch(a){case"connection":return h;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler");case"ufi2_comments":return b("UFI2CommentsConnectionHandler")}g(0,11762,a)}function a(a){if(!Object.prototype.hasOwnProperty.call(o,a)){var c=new j({size:m,ttl:n});c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},a!=null?{actorID:a,getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c}}:null,{queryResponseCache:c})),b("createRelayFBSubscribeFunction")({queryResponseCache:c}));var d=new k();d=new l(d,{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:1e3*60*5});o[a]=new i({UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),configName:"RelayUFI2Environment(actor:"+String(a)+")",handlerProvider:p,log:b("cr:1121434")!=null?b("cr:1121434")():null,network:c,operationLoader:b("RelayFBOperationLoader"),store:d})}return o[a]}e.exports={forActor:a,handlerProvider:p}}),null);
__d("UFI2AbstractButtonWrapper.react",["requireCond","cr:829648"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:829648")}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i=!1,j=b("getDocumentScrollElement")(),k=[],l;function m(a){i=!0;k.push.apply(k,h);while(k.length){var c=k.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}i=!1}function n(a){j!==a&&(j=a,m(a))}a={getLastActiveLayer:function(){return j},subscribe:function(a){h.push(a);i&&k.push(a);l==null&&(l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;n(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){if(c)return;var b=h.indexOf(a);b!==-1&&h.splice(b,1);if(i){b=k.indexOf(a);b!==-1&&k.splice(b,1)}h.length===0&&(l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("UFI2BluePrimerDialog.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");e.exports=function(a){var b=a.Component;a=a.props;return g.jsx(b,babelHelpers["extends"]({},a))}}),null);
__d("UFI2CometRelayCreateFragmentContainer",["requireCond","cr:936168","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("relay-runtime").graphql;e.exports={createFragmentContainer:b("cr:936168").createFragmentContainer,graphql:a}}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2PrimerDialogWrapper.react",["requireCond","cr:828359"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:828359")}),null);
__d("UFI2ScaleRect",["invariant","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h(a,!0)}function c(a){return h(a,!1)}function h(a,c){var d=a.srcHeight,e=a.srcWidth,f=a.maxHeight,h=a.maxWidth;a=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero;!1===a?(d>0||g(0,5272,d),e>0||g(0,5273,e)):(d===0||e===0)&&b("FBLogger")("ufi2").warn("Scaling UFI2 rect with invalid zero height or width: height=%s / width=%s",String(d),String(e));f>0||g(0,5274,f);h>0||g(0,5275,h);d=a&&d===0?f:d;a=a&&e===0?h:e;e=h/a;h=f/d;f=c?Math.min(e,h):Math.min(e,h,1);return{height:Math.round(d*f),width:Math.round(a*f)}}e.exports={scaleToContain:a,shrinkToContain:c}}),null);
__d("UFI2SubscriptionManager",["cancelIdleCallback","requestIdleCallbackAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set(),this.$2=new Set(),this.$3=!1}var c=a.prototype;c.add=function(a){var b=this;this.$1.add(a);this.$3&&a.subscribe();return{dispose:function(){a.unsubscribe(),b.$1&&b.$1["delete"](a)}}};c.subscribeAll=function(){if(!this.$3){this.$3=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};c.subscribeAllOnIdle=function(){var a=this;if(!this.$3){this.$3=!0;var c=function(){if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var c=g,h=null;h=b("requestIdleCallbackAcrossTransitions")(function(){h!=null&&(a.$2["delete"](h),h=null),a.$3&&c.subscribe()});a.$2.add(h)};for(var d=this.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h=c();if(h==="break")break}}};c.unsubscribeAll=function(){if(this.$3){this.$3=!1;for(var a=this.$2,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("cancelIdleCallback")(e)}for(var e=this.$1,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.unsubscribe()}}};c.reset=function(){this.unsubscribeAll(),this.$1=new Set()};return a}();e.exports=a}),null);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";e.exports=3e4}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(l.length)c();j=!1}function o(a){b("clearTimeout")(i),a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}a={getActivityState:function(){return k},init:function(){m==null&&(o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){p("INACTIVE"),b("clearTimeout")(i)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))},subscribe:function(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}};b("ExecutionEnvironment").canUseDOM&&a.init();e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},getStartTime:function(){f();return h[a].stopwatch.getStartTime()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("getUFI2CommentHighlightClasses",["cx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"_3iub"+(a?" _3iuc":"")}e.exports=a}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("URITruncator",["fbt","URI"],(function(a,b,c,d,e,f,g){var h,i=3,j=g._("..."),k=j.length||j.toString().length;function a(a,c){if(!a||c===void 0||a.length<=c||c<=k||a.toString().length<=k)return a;var d=(h||(h=b("URI"))).tryParseURI(a);if(!d)return a.substring(0,c-k)+j;a=d.getOrigin();if(a.length>c-k)return a.substring(0,c-k)+j;var e=!1;if(d.getFragment()){e=!0;d.setFragment("");if(d.toString().length<=c-k)return d.toString()+j}var f=d.getQueryData();if(f){f=Object.keys(f);if(f.length>0){e=!0;for(var g=f.length-1;g>=0;g--){d.removeQueryData(f[g]);if(d.toString().length<=c-k)return d.toString()+j}}}g=d.getPath()+(e?j:"");f=g.split("/");d=a.length+g.length-c;e=0;while(d>0&&f.length>e+1){g=e+1;var l=f[g];if(d+k+i<=l.length){var m=l.length-1,n=l.length-d-k,o=/[a-zA-Z0-9]/;d+=k;while(d>0){while(m>0&&o.test(l[m]))m--,d--;while(m>0&&!o.test(l[m]))m--,d--}m===0&&(m=n-1);f[g]=l.substring(0,m+1)+j}else e++,d-=l.length,e===1?d+=k:d--}e>0&&(f[f.length-1].length===0&&f.length===e+2&&e++,f.splice(1,e,j));o=a+f.join("/");o.length>c&&(o=o.substring(0,c-k)+j);return o}e.exports=a}),null);
__d("interpolateUFI2TextWithRange",["cx","fbt","FBLogger","React","RelayModern","TextDelightRange.react","UFI2CommentBodyTextWithEntitiesConfig","UFI2LinkWrapper.react","UFI2ProfileLinkDynamic.react","UFI2VideoTimeIndexLink.react","URI","URITruncator","isFacebookURI","isLinkshimURI","isRTL","nullthrows","interpolateUFI2TextWithRange_textWithEntities.graphql","interpolateUFI2TextWithRange_delightRange.graphql","interpolateUFI2TextWithRange_range.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=b("React");b("RelayModern").graphql;i!==void 0?i:i=b("interpolateUFI2TextWithRange_textWithEntities.graphql");j!==void 0?j:j=b("interpolateUFI2TextWithRange_delightRange.graphql");k!==void 0?k:k=b("interpolateUFI2TextWithRange_range.graphql");function n(a){if(a.url==null)return null;a=new(l||(l=b("URI")))(a.url);b("isFacebookURI")(a)&&!b("isLinkshimURI")(a)&&a.addQueryData({hc_location:"ufi"});return a}function a(a,c){switch(c.__typename){case"DelightAtRange":var d=b("nullthrows")(c.campaign,"Expected a `campaign` property to be present on a range of type `DelightAtRange`.");return m.jsx(b("TextDelightRange.react"),{campaignID:d.id,delightStyles:d.delight_styles.map(function(a){return{style:a.style,value:a.value}}),surface:"comment",children:a});case"EntityAtRange":d=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");var e=n(d);switch(d.__typename){case"ExternalUrl":var f=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);if(e)return m.jsx(b("UFI2LinkWrapper.react"),{dir:b("isRTL")(a)?"rtl":null,href:e,s:d.can_skip_redirect?"1":void 0,target:"_blank",children:f});else return f;case"Hashtag":if(e)return m.jsxs(b("UFI2LinkWrapper.react"),{className:"_3l3r",dir:b("isRTL")(a)?"rtl":null,href:e,children:[m.jsx("span",{"aria-label":h._("hashtag"),className:"_3l3v",children:a.substring(0,1)}),m.jsx("span",{className:"_3l3w",children:a.substring(1)})]});else return a;case"VideoTimeIndex":f=d.time_index;var g=d.video;g=g==null?void 0:g.id;if(g==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the video id was missing. Investigate why the query failed to materialize the video id.");return a}if(f==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the time index was missing. Investigate why the query failed to materialize the time index.");return a}return m.jsx(b("UFI2VideoTimeIndexLink.react"),{text:a,timeIndex:f,videoId:g});default:f=c.entity_is_weak_reference;if(e)return m.jsx(b("UFI2ProfileLinkDynamic.react"),{className:f?"_2-5h":"",dir:b("isRTL")(a)?"rtl":null,href:String(e),uid:d.id||"",children:a});else return a}default:return a}}e.exports=a}),null);
__d("isCommentFresh",["RelayModern","isCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;g!==void 0?g:g=b("isCommentFresh_comment.graphql");function a(a){return a.is_locally_composed===!0||a.is_created_from_subscription===!0}e.exports=a}),null);
__d("isCommentTokenOrFBID",["relay-runtime","isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("relay-runtime").graphql;g!==void 0?g:g=b("isCommentTokenOrFBID_comment.graphql");function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}e.exports=a}),null);
__d("isNotOutlierReaction",["RelayModern","qex","isNotOutlierReaction_feedback.graphql","isNotOutlierReaction_topReactionsEdge.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;g!==void 0?g:g=b("isNotOutlierReaction_feedback.graphql");h!==void 0?h:h=b("isNotOutlierReaction_topReactionsEdge.graphql");function a(a){var c,d;c=(c=a==null?void 0:(c=a.reactors)==null?void 0:c.count)!=null?c:0;d=(d=b("qex")._("1133283"))!=null?d:0;var e=Math.ceil(c*d);return function(b){var c;if(((c=a.viewer_feedback_reaction_info)==null?void 0:c.key)!==((c=b.node)==null?void 0:c.key)){return((c=b.reaction_count)!=null?c:0)>=e}else return!0}}e.exports=a}),null);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";var g=14,h=3;function a(a){if(!a||a.length>g*h)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=h}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","ScriptPath","WebSession","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.endpoint,e=a.isLivePinnedComment,f=a.isPageComment,g=a.isReply,h=a.isSponsored,i=a.milliseconds,j=a.storyRenderLocation,k=a.visibleStartTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentID","endpoint","isLivePinnedComment","isPageComment","isReply","isSponsored","milliseconds","storyRenderLocation","visibleStartTime"]);if(i<100)return;var l=a.referrerSource!=null?{referrer_source:a.referrerSource}:null,m=a.pageInsights!=null?{page_insights:a.pageInsights}:null,n=a.qid!=null?a.qid:null,o=a.xt!=null&&a.xt!==""?a.xt:null;a=a.mfStoryKey!=null?{mf_story_key:a.mfStoryKey}:null;i={container_module:j,duration_ms:i,endpoint:(j=d)!=null?j:b("ScriptPath").getScriptPath(),is_live_pinned_comment:e,is_on_sponsored_story:h,is_page_comment:f,is_reply:g,mfStoryKey:a,node_token:c,pageInsights:m,qid:n,referrerSource:l,sid_raw:b("WebSession").getId(),visible_start_time_ms:k,xt:o};b("Banzai").post("comment_vpvd",i)}e.exports=a}),null);
__d("useUFIVPVDEndpoint",["ScriptPath","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";function a(){var a;return(a=(a=b("useCurrentRoute")())==null?void 0:a.tracePolicy)!=null?a:b("ScriptPath").getScriptPath()}e.exports=a}),null);
__d("getScrollableAreaContainingNode",["DataStore","Parent"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("Parent").byClass(a,"uiScrollableArea");return a?b("DataStore").get(a,"ScrollableArea"):null}e.exports=a}),null);
__d("CSSFade",["cx","invariant","CSS","DataStore","Event","Style","requestAnimationFrameAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i="css-fade-animation",j="css-show-animation",k="CSSFade_hide",l="CSSFade_show";a=document.createElement("div").animate!==void 0;var m={cancel:function(){}};function n(a,c){a!=null||h(0,5875);a=b("DataStore").get(a,c);a&&a.cancel();return a}function o(a,b,c){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";b=b+"s "+c;a.length>5&&(b=a.slice(0,-1)+(", "+b));return b}function p(a,b){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";a=a.split(",");var c=a.findIndex(function(a){return a.indexOf(b)>-1});c!==-1&&a.splice(c,1);return a.join(",")}c={show:function(a,c){c===void 0&&(c={});var d=c.duration!=null?c.duration/1e3:.3;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,d,l)});var e=b("Event").listen(a,"animationend",function(){c.callback&&c.callback(),a.style.animation=p(a,l)}),f={cancel:function(){a.style.animation=p(a,l),e.remove(),f.cancel=function(){}}};b("DataStore").set(a,j,f);return f},hide:function(a,c){c===void 0&&(c={});var d=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback(),a.style.animation=p(a,k)};if(c.simple){d();return m}var e=c.duration!=null?c.duration/1e3:.3;n(a,j);n(a,i);b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,e,k)});var f=b("Event").listen(a,"animationend",d),g={cancel:function(){a.style.animation=p(a,k),f.remove(),g.cancel=function(){}}};b("DataStore").set(a,i,g);return g}};d={show:function(a,c){c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("Style").set(a,"opacity","1");d=a.animate([{opacity:"0"},{opacity:"1.0"}],{duration:d});c.callback&&(d.onfinish=c.callback);b("DataStore").set(a,j,d);return d},hide:function(a,c){c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,j);if(c.simple===!0){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem");return m}else{n(a,i);b("Style").set(a,"opacity","0");d=a.animate([{opacity:"1.0"},{opacity:"0"}],{duration:d});d.onfinish=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback()};b("DataStore").set(a,i,d);return d}}};e.exports=a?d:c}),null);
__d("LayerFadeOnHide",["invariant","CSSFade","Layer","SubscriptionsHandler","UserAgent_DEPRECATED","clearTimeout","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){if(b("UserAgent_DEPRECATED").ie()<9)return;this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};c._getDuration=function(){return 150};c._handleStartHide=function(){var a=!0,c=b("Layer").subscribe("show",function(){c.unsubscribe(),a=!1}),d=b("setTimeoutAcrossTransitions")(function(){var b=this;c.unsubscribe();c=null;var d=function(){b._layer.finishHide()};a?this._animate(d):d()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){b("clearTimeout")(d)}});return!1};c._animate=function(a){var c=this._layer.getRoot();c!=null||g(0,70);b("CSSFade").hide(c,{callback:function(){a()},duration:this._getDuration()})};a.forDuration=function(c){var d=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);d.prototype._getDuration=b("emptyFunction").thatReturns(c);return d};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("LayerHideOnTransition",["LayerHideSources","PageTransitionsRegistrar"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){var c=this;this._handler=function(a){c._enabled&&c.isTransitionRelevant(a)&&c._layer.hide(b("LayerHideSources").TRANSITION),c._subscribe()};this._layer=a}var c=a.prototype;c.enable=function(){this._enabled=!0,this._subscribed||setTimeout(this._subscribe.bind(this),0)};c.disable=function(){this._enabled=!1,b("PageTransitionsRegistrar").removeHandler(this._handler)};c.isTransitionRelevant=function(a){return!0};c._subscribe=function(){b("PageTransitionsRegistrar").registerHandler(this._handler),this._subscribed=!0};return a}();Object.assign(a.prototype,{_enabled:!1,_subscribed:!1});e.exports=a}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DialogX","DOM","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","React","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject"],(function(a,b,c,d,e,f,g){var h,i=b("React"),j,k;function l(a){var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!j){var e=(a=b("DOM")).create("div",{className:"_57-x"});j=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},a.create("div",null,e));k=a.create("div");a.insertBefore(e,k);b("ReactDOM").render(i.jsx(b("XUISpinner.react"),{size:"large"}),e);j.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){p();return!1}})}d?b("ReactDOM").render(i.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:d}),k):b("DOM").empty(k);j.setWidth(c);return j}var m={},n=1,o=[];function p(){b("forEachObject")(m,function(a,b){a.abandon(),q(b)})}function q(a){delete m[a],Object.keys(m).length||l().hide()}function r(a,c){var d=n++;o[d]=c;m[d]=a;var e=q.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();c!=null&&c instanceof HTMLElement&&l(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&s.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var s={send:function(a,c){r(a,c||b("emptyFunction"))},bootstrap:function(a,c,d,e){if(!a)return;var f=b("Parent").byClass(c,"stat_elem")||c;if(f&&b("CSS").hasClass(f,"async_saving"))return!1;var g=new(h||(h=b("URI")))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(g).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(f);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));s.send(a,e)},respond:function(a,b){var c=o[a];c&&(c(b),delete o[a])},getLoadingDialog:function(){return l()}};e.exports=s}),null);
__d("VideoUploadLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_CANCELED_START_REQUEST:"upload.client.canceled_sending_start_request",EVENT_STARTED_RECEIVE_REQUEST:"upload.client.started_sending_receive_request",EVENT_FINISHED_RECEIVE_REQUEST:"upload.client.finished_sending_receive_request",EVENT_FAILED_RECEIVE_REQUEST:"upload.client.failed_sending_receive_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_HANDLING_SERVER_FAILURE_RESPONSE:"upload.client.handling_server_failure_response",EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE:"upload.client.handling_transport_failure_response",EVENT_DUPLICATE_POST_REQUEST:"upload.client.duplicate_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_STARTED_FETCHING_STATUS:"upload.client.started_fetching_status",EVENT_FINISHED_FETCHING_STATUS:"upload.client.finished_fetching_status",EVENT_STARTED_POST_FLOW:"upload.client.started_post_flow",EVENT_FINISHED_POST_FLOW:"upload.client.finished_post_flow",EVENT_CANCELED_POST_FLOW:"upload.client.canceled_post_flow",EVENT_FAILED_POST_FLOW:"upload.client.failed_post_flow",EVENT_RETRY_ATTEMPT:"upload.client.retry_attempt",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_ENCODING_ABORT_OBSERVED:"encode.client.encoding_abort_observed",EVENT_FETCH_FAIL_OBSERVED:"encode.client.fetch_video_info_fail_observed",EVENT_ENCODING_SUBSCRIBE_TO_VIDEO_STATUS:"encode.client.subscribe_to_video_status",EVENT_ENCODING_POLLING_FALLBACK:"encode.client.polling_fallback",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1",EVENT_MEASURE_FREE_LOCAL_STORAGE:"upload.client.free_local_storage"});e.exports={VideoUploadLoggerEvents:a}}),null);
__d("VideoUploadLogger",["Banzai","VideoUploadLoggerEvents","VideoUploadLoggingConfig"],(function(a,b,c,d,e,f){a=b("VideoUploadLoggerEvents").VideoUploadLoggerEvents;c=babelHelpers["extends"]({BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer"},a);var g=new Set([a.EVENT_STARTED_FLOW,a.EVENT_FINISHED_FLOW,a.EVENT_FAILED_FLOW,a.EVENT_CANCELED_FLOW]);d=function(){"use strict";function a(b){this.$1=b.source,this.$2=b.composer_dialog_version,this.$3=b.waterfall_id,this.$4=b.ad_account_id,this.$5=b.target_id,this.$6=b.delay,this.$7=[],this.$8=b.is_chunked_upload,this.$9=b.actor_id,this.$10=b.composer_entry_point_ref,this.$11=b.composer_work_shared_draft_mode,this.$12=b.is_remote_upload,this.$13=b.container_type,this.$14=b.has_file_been_replaced,this.$15=b.composer_session_id,this.$16=!Boolean(b.reported_by_notifier)&&a.shouldSendFlowEventsViaNotifier({source_type:b.source,composer_entry_point_ref:b.composer_entry_point_ref})}a.shouldSendFlowEventsViaNotifier=function(a){return Boolean((b("VideoUploadLoggingConfig").FLOW_VIA_NOTIFIER_COMPOSERS||[]).find(function(b){return b.source_type===a.source_type&&b.composer_entry_point_ref===a.composer_entry_point_ref}))};var c=a.prototype;c.logEvent=function(c,d){if(this.$16&&g.has(c))return;d=babelHelpers["extends"]({},d);d.elapsed_time==null&&(c.indexOf("started")!==-1?this.$7[c]=Date.now():c.indexOf("finished")!==-1?d.elapsed_time=this.$17(c,"finished"):c.indexOf("canceled")!==-1?d.elapsed_time=this.$17(c,"canceled"):c.indexOf("failed")!==-1&&(d.elapsed_time=this.$17(c,"failed")));d.event=c;d.source=this.$1;d.composer_dialog_version=d.composer_dialog_version||this.$2;d.waterfall_id=this.$3;d.ad_account_id=this.$4;d.target_id=this.$5;d.is_chunked_upload=this.$8;d.actor_id=this.$9;d.composer_entry_point_ref=this.$10;d.composer_work_shared_draft_mode=this.$11;d.is_remote_upload=this.$12;d.container_type=this.$13;d.has_file_been_replaced=this.$14;d.trigger_time=Date.now();d.composer_session_id=this.$15;b("Banzai").post(a.BANZAI_ROUTE,d,{delay:this.$6,retry:!0})};c.postOnShutdown=function(a){return b("Banzai").subscribe(b("Banzai").SHUTDOWN,a)};c.getWaterfallID=function(){return this.$3};c.$17=function(a,b){a=a.replace(b,"started");b=this.$7[a];return b?Date.now()-b:null};return a}();Object.assign(d,c);e.exports=d}),null);
__d("VideoUploadLoggerTyped",["VideoUploadLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(b("VideoUploadLogger"));e.exports={VideoUploadLogger:a}}),null);
__d("VideoFeedFastPreloadController",["DOMQuery","Run"],(function(a,b,c,d,e,f){var g=0,h={preload:function(c){g<2&&(c=b("DOMQuery").scry(c,"video")[0],c instanceof a.HTMLVideoElement&&(g||b("Run").onBeforeUnload(function(){return h.reset()}),c.preload="auto",g+=1))},reset:function(){g=0}};h.reset();e.exports=h}),null);
__d("VideoPlayerShakaExperimentsConfig",["VideoPlayerShakaExperimentsPayload"],(function(a,b,c,d,e,f){"use strict";e.exports=b("VideoPlayerShakaExperimentsPayload").experiments}),null);
__d("VideoPlayerShakaExposureLogger",["QE2Logger","VideoPlayerShakaExperimentsPayload"],(function(a,b,c,d,e,f){var g=Object.keys(b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig).reduce(function(a,c){a[c]={};a[c].exposureCondition=b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig[c].exposure_condition;a[c].exposureParams=new Set(b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig[c].exposure_params);return a},{});a={logExposureForParamMaybe:function(a){Object.keys(g).forEach(function(c){g[c].exposureCondition==="any_param_accessed"&&g[c].exposureParams.has(a)?(b("QE2Logger").logExposureForUser(c),delete g[c]):g[c].exposureCondition==="all_params_accessed"&&(g[c].exposureParams["delete"](a),g[c].exposureParams.size===0&&(b("QE2Logger").logExposureForUser(c),delete g[c]))})}};e.exports=a}),null);
__d("VideoPlayerShakaParsedContextualConfig",["FBLogger","VideoPlayerShakaContextualConfig","removeFromArray"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=null,this.$2={},this.$3=[],this.parseConfig()}var c=a.prototype;c.getGlobalConfig=function(){return this.$2};c.getStaticConfig=function(){return b("VideoPlayerShakaContextualConfig").staticConfig};c.getRawContextualConfig=function(){return this.$1};c.parseConfig=function(){this.$4(),this.$5(),this.$3.forEach(function(a){return a()})};c.addParseConfigCallback=function(a){var c=this;this.$3.push(a);return{remove:function(){b("removeFromArray")(c.$3,a)}}};c.$4=function(){if(!b("VideoPlayerShakaContextualConfig").rawContextualConfig)return;try{this.$1=JSON.parse(b("VideoPlayerShakaContextualConfig").rawContextualConfig)}catch(a){b("FBLogger")("VideoPlayerShakaParsedContextualConfig").warn("Failed to parse raw config")}};c.$5=function(){var a=this;this.$2=Object.assign({},b("VideoPlayerShakaContextualConfig").staticConfig);this.$1&&this.$1.defaults.forEach(function(b){return a.$2[b.name]=b.value})};return a}();e.exports=new a()}),null);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig"],(function(a,b,c,d,e,f){a={getBool:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?d[a]==="true"||d[a]===!0:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c},getNumber:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?Number(d[a]):typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c},getString:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?String(d[a]):typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c}};e.exports=a}),null);
__d("VideoPlayerShakaError",["VideoPlayerShakaGlobalConfig","parseHeaders"],(function(a,b,c,d,e,f){"use strict";a={translateError:function(a,c,d){var e=b("VideoPlayerShakaGlobalConfig").getBool("fix_shaka_xhr_error_status",!0)?a.errorRawTransportStatus:a.errorCode,f=null;b("VideoPlayerShakaGlobalConfig").getBool("enable_double_ingest",!1)&&a.errorRawResponseHeaders!=null&&(f=b("parseHeaders")(a.errorRawResponseHeaders));a={name:a.errorType,message:a.errorMsg,type:d,url:c,status:e,responseHeaders:f};return a},createTimeoutError:function(a){a={name:"timeout",message:"timeout",type:"net",url:a,status:0,responseHeaders:null};return a}};e.exports=a}),null);
__d("VideoDashPrefetchCache",["regeneratorRuntime","Promise","requireCond","BanzaiODS","Deferred","MaybeNativePromise","cr:1209197","cr:1209198","URI","VideoAkamaiRequestHelper","VideoPlayerPrefetchExperiments","VideoPlayerShakaError","VideoPlayerShakaGlobalConfig","XHRRequest","clearTimeout","getCrossOriginTransport","recoverableViolation","requireWeak","setTimeout"],(function(a,b,c,d,e,f){var g,h=b("VideoPlayerShakaGlobalConfig").getNumber("video_dash_prefetch_cache_retention_duration_ms",5e3),i=function(a){b("cr:1209197")!=null?b("cr:1209197").onLeave(a):b("cr:1209198")!=null?b("cr:1209198").onUnload(a):b("recoverableViolation")("Dash prefetch cache onNavigatingAway handler was not properly set","video")},j=null;b("requireWeak")("VideoPlayerShakaBandwidthEstimator",function(a){return j=a});var k=null;b("requireWeak")("VideoStreamingTaskQueueProvider",function(a){return k=a});function l(a){return a.audio.length+a.video.length+a.manifest.length}function m(a,c){b("BanzaiODS").bumpEntityKey(2966,"www_video_playback","prefetch."+a,c)}function n(a){var b="aborted",c={status:0},d=new Error("Prefetch request aborted.");return Object.assign(d,{type:b,url:a,xhr:c})}function o(a){var c=a.getURI(),d=c.toString();if(b("VideoAkamaiRequestHelper").isAkamai(d)){var e=b("VideoAkamaiRequestHelper").getRequestHeadersFromUrl(d);d=c.removeQueryData(["bytestart","byteend"]);a.setURI(d);e&&Object.keys(e).forEach(function(b){a.setRequestHeader(b,e[b])})}return a}var p=null,q=new Map();function r(a){a=new(g||(g=b("URI")))(a);a=a.getDomain();return a.endsWith("fbcdn.net")&&!a.startsWith("interncache")&&!a.endsWith("ak.fbcdn.net")}function s(a,c){c===void 0&&(c=!1);return c&&r(a)?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport")}function t(a){return r(a.url)}function u(a,b,c){return{response:a.slice(b.start+0,b.end+1),responseTime:c}}function v(a){var c=new(g||(g=b("URI")))(a);if(c.getDomain()){c=c.removeQueryData(["oh"]);c=c.removeQueryData("__gda__");var d=Object.keys(c.getQueryData());for(var e=0;e<d.length;e++){var f=d[e];f.startsWith("_nc")&&(c=c.removeQueryData(f))}return c.toString()}return a}a=function(){"use strict";function a(){this.$2=new Map(),this.$9=new Map(),this.$10=new Map(),this.$1=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=b("VideoPlayerPrefetchExperiments").maxPrefetchVideosNum,this.$7=b("VideoPlayerPrefetchExperiments").consolidateFragmentedPrefetchRequest}var c=a.prototype;c.$11=function(a,c){var d=this;c===void 0&&(c=!1);var e=a,f=new(b("XHRRequest"))(e).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(s(e,c));o(f);c=new(b("MaybeNativePromise"))(function(c,g){f.setErrorHandler(function(a){d.$12(f),g(b("VideoPlayerShakaError").translateError(a,e,"preload"))}),f.setResponseHandler(function(a){a=a;var b=f;b.response=a;d.$12(f);c(b)}),f.setAbortHandler(function(){d.$12(f);var b=n(a);g(b)})});this.$13(a,c);this.$3.push(f);this.$8?this.$8.push(f):f.send();return c};c.genPrefetchMpdNow=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(!this.has(a)){b.next=2;break}return b.abrupt("return",null);case 2:return b.abrupt("return",this.$11(a));case 3:case"end":return b.stop()}},null,this)};c.$14=function(b,c,d){c===void 0&&(c=!1);d===void 0&&(d=null);var e=[];for(var f=0;f<b.length;f++){var g=a.createQueryStringURL(b[f]);this.has(g)||(e.push(this.$11(g,c).then(function(a){m("received",1);return a})),d!=null&&this.$2.set(g,d))}m("sent",e.length);return e};c.$15=function(c){var d=this,e=a.getConsolidatedURL(c);if(e==null)return this.$14(c);var f=new(b("XHRRequest"))(e).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(s(e));o(f);var g=Date.now(),h=[];for(var i=0;i<c.length;i++){var j=a.createQueryStringURL(c[i]),k=new(b("Deferred"))();this.has(j)||this.$13(j,k.getPromise());h.push(k)}f.setErrorHandler(function(c){d.$12(f);for(var a=0;a<h.length;a++)h[a].reject(b("VideoPlayerShakaError").translateError(c,e,"preload"))});f.setResponseHandler(function(b){b=b;var e=Date.now()-g;for(var a=0;a<c.length;a++){var i=h[a],j=c[a];i.resolve(u(b,j,e))}d.$12(f)});f.setAbortHandler(function(){for(var a=0;a<c.length;a++){var b=h[a];b.reject(new Error("Request aborted."))}});this.$3.push(f);f.send();m("consolidated.sent",1);m("sent",h.length);j=h.map(function(a){return a.getPromise().then(function(a){m("received",1);return a})});b("Promise").all(j).then(function(){return m("consolidated.received",1)});return j};c.$16=function(a){var c=this,d=a.useCredentials,e=a.connectionQualityLevel;this.$5++;var f=this.$7&&!d;b("VideoPlayerPrefetchExperiments").enableGlobalSchedulerForPrefetch&&(this.$8=[]);var g=f?this.$15(a.video):this.$14(a.video,d,e);f=f?this.$15(a.audio):this.$14(a.audio,d,e);e=this.$14(a.manifest,d);var h=g.concat(f,e);if(this.$8){var i=this.$8||[];this.$8=null;var j=""+a.videoID;d={name:"prefetch task, "+j,run:function(){j&&q["delete"](j);i.forEach(function(a){return a.send()});return b("MaybeNativePromise").all(h).then(function(){})["catch"](function(){})},cancel:function(){}};k?(b("VideoPlayerPrefetchExperiments").switchPrefetchTaskToHighPriWhenPlayed&&j&&q.set(j,d),k.getQueue("video").enqueue(d,b("VideoPlayerPrefetchExperiments").prefetchPriority),this.$17()):(d.run(),b("MaybeNativePromise").all(h).then(function(){return c.$17()})["catch"](function(){return c.$17()}))}else b("MaybeNativePromise").all(h).then(function(){return c.$17()})["catch"](function(){return c.$17()})};c.$13=function(a,c){var d=this;a=v(a);this.$1.values().next().done&&i(function(){for(var a=0;a<d.$3.length;a++)d.$3[a].abort();d.$3=[];d.$4=[];d.$5=0;d.$1.clear();d.$10.forEach(function(a){b("clearTimeout")(a)});d.$10.clear()});this.$1.set(a,c);if(b("VideoPlayerShakaGlobalConfig").getBool("clear_unused_prefetched_segments",!1)){c=b("setTimeout")(function(){d.$1.has(a)&&d.$1["delete"](a),d.$10["delete"](a)},h);this.$10.set(a,c)}};c.$12=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};c.$17=function(){this.$5--;var a=this.$4.shift();a&&this.$16(a)};c.has=function(a){a=v(a);return this.$1.has(a)};c.getConnectionQualityLevel=function(a){return this.$2.get(a)};c.getAndDelete=function(a){a=v(a);var c=this.$1.get(a);if(c){m("cache.hit",1);if(b("VideoPlayerShakaGlobalConfig").getBool("clear_unused_prefetched_segments",!1)){var d=this.$10.get(a);d!=null&&(b("clearTimeout")(d),this.$10["delete"](a))}}else m("cache.miss",1);this.$1["delete"](a);m("retrieve",1);return c};c.queueRequestBatch=function(a){this.$6===0||this.$5<this.$6?this.$16(a):(m("queued",l(a)),this.$4.push(a))};c.setCachedRepresentations=function(a,b){this.$9.set(a,b)};c.getCachedRepresentations=function(a){return this.$9.get(a)};a.getCachedRepresentations=function(b){return a.getInstance().getCachedRepresentations(b)};a.getInstance=function(){p===null&&(p=new a());return p};a.createQueryStringURL=function(a){var c=a.url,d=a.start;a=a.end;d!==null&&d!==void 0&&a!==null&&a!==void 0&&(c=new(g||(g=b("URI")))(c).addQueryData({bytestart:d,byteend:a}));return c.toString()};a.getConsolidatedURL=function(b){var c="",d=Infinity,e=0;for(var f=0;f<b.length;f++){var g=b[f],h=g.url,i=g.start;g=g.end;if(h==null||i==null||g==null)return null;if(c==="")c=h;else if(c!==h)return null;d=Math.min(d,i);e=Math.max(e,g)}return a.createQueryStringURL({url:c,start:d,end:e})};a.getPrefetchInfoFromRepresentation=function(a){return a.segments.map(function(b){return{url:a.url,start:b.start,end:b.end}})};a.getVideoRepresentationFromRepresentations=function(a,c){var d=a.find(function(a){return a.representation_id.endsWith("d")});!c&&j&&(c=j.getBandwidth());if(!c)return d;var e=b("VideoPlayerShakaGlobalConfig").getNumber("client_prefetch_bandwidth_aggressiveness",1);for(var f=0;f<a.length;f++){var g=a[f],h=d&&d.bandwidth||0;if(h>g.bandwidth)continue;else c>g.bandwidth/e&&(d=g)}return d};a.loadVideoGivenAllRepresentations=function(b,c,d){if(a.isAutoplayBandwidthRestrained())return;var e=[],f=[];c.audio.length>0&&(e=a.getPrefetchInfoFromRepresentation(c.audio[0]),e.length>0&&f.push(c.audio[0].representation_id));var g=[];c=a.getVideoRepresentationFromRepresentations(c.video,d);c&&(g=a.getPrefetchInfoFromRepresentation(c),g.length>0&&f.push(c.representation_id));d=a.getInstance();d.queueRequestBatch({audio:e,video:g,manifest:[],videoID:b,useCredentials:!1});d.setCachedRepresentations(b,f)};a.isAutoplayBandwidthRestrained=function(){return!!j&&j.isAutoplayBandwidthRestrained()};a.loadVideo=function(c,d,e){d=!!d;if(a.isAutoplayBandwidthRestrained())return;if(b("VideoPlayerPrefetchExperiments").disablePrefetchCache)return;var f=a.getInstance();c.manifest||(c.manifest=[]);f.queueRequestBatch({manifest:c.manifest.filter(t),video:c.video.filter(t),audio:c.audio.filter(t),videoID:c.videoID,useCredentials:d,connectionQualityLevel:e})};a.getCacheValue=function(b){return a.getInstance().getAndDelete(b)};a.getConnectionQualityLevel=function(b){return a.getInstance().getConnectionQualityLevel(b)};a.hasCacheValue=function(b){return a.getInstance().has(b)};a.getPrefetchTaskByID=function(a){a=q.get(a)||null;return a};return a}();e.exports=a}),null);
__d("VideoDisplayTimePlayButton",["CSS","DataStore","Event"],(function(a,b,c,d,e,f){"use strict";var g={},h="_spinner";a={getClicked:function(a){return b("DataStore").get(a,"clicked",!1)},register:function(a,c){var d=a.id;g[d]=b("Event").listen(a,"click",function(){c&&(b("CSS").hide(a),b("CSS").show(c)),b("DataStore").set(a,"clicked",!0)});c&&(g[d+h]=b("Event").listen(c,"click",function(){c&&b("CSS").hide(c),b("CSS").show(a),b("DataStore").set(a,"clicked",!1)}))},unregister:function(a){a=a.id;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove();a=a+h;Object.prototype.hasOwnProperty.call(g,a)&&g[a].remove()}};e.exports=a}),null);
__d("VideosRenderingInstrumentation",["DataStore","VideoPlayerHTML5Experiments","performanceAbsoluteNow"],(function(a,b,c,d,e,f){var g,h={storeRenderTime:function(a){var c=b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(g||(g=b("performanceAbsoluteNow")))():Date.now();b("DataStore").set(a,"videos_rendering_instrumentation",c);return c},retrieveRenderTime:function(a){var c=b("DataStore").get(a,"videos_rendering_instrumentation",NaN);Number.isNaN(c)&&(c=h.storeRenderTime(a));return c}};e.exports=h}),null);
__d("VideoUploadFlowNotifier",["Banzai","MediaCancelledPostFlowFalcoEvent","MediaFailedPostFlowFalcoEvent","MediaFinishedPostFlowFalcoEvent","MediaStartedPostFlowFalcoEvent","Run","SubscriptionsHandler","VideoUploadLoggerEvents","VideoUploadLoggerTyped","WaterfallIDGenerator"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoUploadLoggerEvents").VideoUploadLoggerEvents,h=b("VideoUploadLoggerTyped").VideoUploadLogger,i=Object.freeze({SUCCESSFUL:"successful",FAILED:"failed",CANCELED:"canceled",REQUESTED:"requested",STARTED:"started"}),j=function(){function a(){this.$1={}}var b=a.prototype;b.registerUpload=function(a,b){var c={isStarted:!1,isUploaded:!1,isCanceled:!1,isFailed:!1};this.$1[String(b)]=c;a.subscribe("upload-started",function(){c.isStarted=!0});a.subscribe("upload-canceled",function(){c.isCanceled=!0});a.subscribe("upload-failed",function(){c.isFailed=!0});a.subscribe("upload-finished",function(){c.isUploaded=!0})};b.cancelUpload=function(a){a=this.$1[String(a)];a!=null&&(a.isCanceled=!0)};b.$2=function(a){if(a.isCanceled)return i.CANCELED;else if(a.isUploaded)return i.SUCCESSFUL;else if(a.isFailed)return i.FAILED;else if(a.isStarted)return i.STARTED;else return i.REQUESTED};b.areAnyVideosIncludedInPost=function(){var a=this,b=Object.keys(this.$1).map(function(b){return a.$2(a.$1[b])});return b.some(function(a){return a!==i.CANCELED})};b.getSummary=function(){var a=this,b=Object.keys(this.$1).map(function(b){return a.$2(a.$1[b])});return{total:b.length,successful:b.filter(function(a){return a===i.SUCCESSFUL}).length,started:b.filter(function(a){return a===i.STARTED}).length,canceled:b.filter(function(a){return a===i.CANCELED}).length,failed:b.filter(function(a){return a===i.FAILED}).length}};return a}(),k=function(){function a(){}var b=a.prototype;b.logFlowStarted=function(){};b.logFlowFinished=function(){};b.logFlowCanceled=function(){};b.logFlowFailed=function(){};b.release=function(){};return a}(),l=function(){function a(a,c){var d=this;this.$2=c;this.$1=a;this.$4=new Set();this.$3=new(b("SubscriptionsHandler"))();a.cancel_on_unload&&this.$3.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){return d.$6("shutdown")}));a.cancel_on_leave&&this.$3.addSubscriptions(b("Run").onLeave(function(){return d.$6("leave")}))}var c=a.prototype;c.release=function(){this.$3.release()};c.$7=function(){var a=this.$2.getSummary(),b=this.$5;return{composer_session_id:this.$1.composer_session_id,source_type:this.$1.source,target_id:this.$1.target_id,target_type:this.$1.target_type,composer_entry_point_ref:this.$1.composer_entry_point_ref,total_uploads:a.total,started_uploads:a.started,successful_uploads:a.successful,canceled_uploads:a.canceled,failed_uploads:a.failed,elapsed_time:b!==null&&b!==void 0?Date.now()-b:null}};c.logFlowFinished=function(){var a=this;this.$4.has(b("MediaFinishedPostFlowFalcoEvent"))||(b("MediaFinishedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$4.add(b("MediaFinishedPostFlowFalcoEvent")))};c.logFlowStarted=function(){var a=this;this.$4.has(b("MediaStartedPostFlowFalcoEvent"))||(b("MediaStartedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$5=Date.now(),this.$4.add(b("MediaStartedPostFlowFalcoEvent")))};c.logFlowCanceled=function(){this.$6("user")};c.logFlowFailed=function(){var a=this;this.$4.has(b("MediaFailedPostFlowFalcoEvent"))||(b("MediaFailedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$4.add(b("MediaFailedPostFlowFalcoEvent")))};c.$6=function(a){var c=this;this.$4.has(b("MediaCancelledPostFlowFalcoEvent"))||(b("MediaCancelledPostFlowFalcoEvent").log(function(){return babelHelpers["extends"]({},c.$7(),{event_reason:a})}),this.$4.add(b("MediaCancelledPostFlowFalcoEvent")))};return a}(),m=function(){function a(a,c){var d=this;this.$1=c;this.$3=new Set();this.$4=new h({source:a.source,waterfall_id:a.composer_session_id,composer_session_id:a.composer_session_id,target_id:a.target_id,composer_entry_point_ref:a.composer_entry_point_ref,reported_by_notifier:!0});this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$4.postOnShutdown(function(){return d.$5("shutdown")}));a.cancel_on_leave&&this.$2.addSubscriptions(b("Run").onLeave(function(){return d.$5("leave")}))}var c=a.prototype;c.release=function(){this.$2.release()};c.logFlowFinished=function(){this.$6(g.EVENT_FINISHED_FLOW)};c.logFlowStarted=function(){this.$6(g.EVENT_STARTED_FLOW)};c.logFlowCanceled=function(){this.$5("user")};c.logFlowFailed=function(){this.$6(g.EVENT_FAILED_FLOW)};c.$6=function(a,b){if(!this.$3.has(a)){var c=this.$1.getSummary();this.$4.logEvent(a,babelHelpers["extends"]({},b,{debug:{total_uploads:c.total,started_uploads:c.started,successful_uploads:c.successful,canceled_uploads:c.canceled,failed_uploads:c.failed}}));this.$3.add(a)}};c.$5=function(a){this.$6(g.EVENT_CANCELED_FLOW,{event_reason:a})};return a}(),n=Object.freeze({UPLOAD_USER_REMOVED:"upload_removed"}),o=Object.freeze({POST_USER_CANCELED:"post_user_canceled",POST_USER_REQUESTED:"post_user_requested",POST_FAILED:"post_failed",POST_SUCCESSFUL:"post_successful"});function p(a){return a==null?b("WaterfallIDGenerator").generate():a}function a(a){if(a.extended_flow_logging_enabled)return new r(a);else return q.getInstance()}var q=function(){function a(){}a.getInstance=function(){return a.$1};var b=a.prototype;b.registerVideoUpload=function(a,b){return p(b)};b.notifyOnUploadAction=function(a){};b.notifyOnPostAction=function(a){};return a}();q.$1=new q();var r=function(){function a(a){this.$3=a,this.$5=new j(),this.$2=new k(),this.$1=!1,this.$4=a.composer_session_id==null?b("WaterfallIDGenerator").generate():a.composer_session_id}var c=a.prototype;c.$6=function(){var a=h.shouldSendFlowEventsViaNotifier({source_type:this.$3.source,composer_entry_point_ref:this.$3.composer_entry_point_ref});a=a?m:l;return new a({composer_entry_point_ref:this.$3.composer_entry_point_ref,source:this.$3.source,target_id:this.$3.target_id,target_type:this.$3.target_type,composer_session_id:this.$4,cancel_on_leave:this.$3.cancel_on_leave,cancel_on_unload:this.$3.cancel_on_unload===void 0||this.$3.cancel_on_unload===null?!0:this.$3.cancel_on_unload},this.$5)};c.registerVideoUpload=function(a,b){b=p(b);a.setComposerSessionID(this.$4);this.$5.registerUpload(a,b);return b};c.notifyOnUploadAction=function(a){switch(a.action){case n.UPLOAD_USER_REMOVED:this.$5.cancelUpload(a.trackingID);break}};c.notifyOnPostAction=function(a){switch(a.action){case o.POST_USER_REQUESTED:!this.$1&&this.$5.areAnyVideosIncludedInPost()&&(this.$2=this.$6(),this.$1=!0);this.$2.logFlowStarted();break;case o.POST_FAILED:this.$2.logFlowFailed();this.$2.release();break;case o.POST_SUCCESSFUL:this.$2.logFlowFinished();this.$2.release();this.$2=new k();break;case o.POST_USER_CANCELED:this.$2.logFlowCanceled();this.$2.release();break}};return a}();e.exports={VideoPostActions:o,VideoUploadActions:n,createVideoUploadFlowNotifier:a,NoOpVideoUploadFlowNotifier:q}}),null);
__d("VideoUploadSurface",["VideoUploadFlowNotifier","WaterfallIDGenerator","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoUploadFlowNotifier").NoOpVideoUploadFlowNotifier;a=b("$InternalEnum")({JEST_TESTS:"jest_tests",COMMENTS:"comments",FEED:"feed"});var h=function(){function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getByID=function(a){return this.$1[a]};c.getExistingOrNoOpByID=function(a){a=this.getByID(a);return a===void 0||a===null?this.$2.noOpProvider():a};c.register=function(a,c){c=c===null||c===void 0?b("WaterfallIDGenerator").generate():c;this.$1[c]=a;return c};c.clear=function(a){this.$1[a]=void 0};return a}();c=function(){function a(){this.$2=new h({noOpProvider:function(){return g.getInstance()}})}a.getOrCreate=function(b){var c=a.$1[b];(c===void 0||c===null)&&(c=new a(),a.$1[b]=c);return c};var b=a.prototype;b.notifiers=function(){return this.$2};return a}();c.$1={};e.exports={VideoUploadSurface:c,VideoUploadSurfaceIDs:a}}),null);
__d("renderCrosspostedTooltipText",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){var a=this.props,b=a.posts,c=a.postViews;a=a.otherPostsViews;var d=Math.max(0,b-1);return d<=1||a<1?null:h.jsxs("div",{children:[h.jsx("strong",{children:g._({"*":"Video Posted {number} Times","_1":"Video Posted 1 Time"},[g._plural(b,"number")])}),h.jsx("br",{}),g._({"*":"{number} views from this post","_1":"1 view from this post"},[g._plural(c,"number")]),h.jsx("br",{}),g._({"*":{"*":"{number} views from {posts count} other posts","_1":"{number} views from {posts count} other post"},"_1":{"*":"1 view from {posts count} other posts","_1":"1 view from {posts count} other post"}},[g._plural(a,"number"),g._param("posts count",d),g._plural(d)])]})};return a}(h.PureComponent);function a(a){var b=a.posts,c=a.otherPostsViews;b=Math.max(0,b-1);return b<=1||c<1?null:h.jsx(i,babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WebGraphQL",["ActorURI","AsyncRequest","Deferred","FBLogger","WebGraphQLConfig","XGraphQLBatchAPIController","getAsyncParams"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.getURIBuilder().getURI(),d={exec:function(a,b){return d.execAll([a],b)[0]},execAll:function(a,d){var e={},f={};a=a.map(function(a,c){c="o"+c;e[c]={doc_id:a.__getDocID(),query_params:a.__getVariables()};a=new(b("Deferred"))();f[c]=a;return a.getPromise()});var g=babelHelpers["extends"]({},b("getAsyncParams")("POST"));d&&d.actorID!=null&&(g[b("ActorURI").PARAMETER_ACTOR]=d.actorID);var h=d&&d.batchName?{batch_name:d.batchName}:{};h=new(b("AsyncRequest"))().setURI(c).setOption("suppressEvaluation",!0).setMethod("POST").setRequestHeader("Content-Type","application/x-www-form-urlencoded").setData(babelHelpers["extends"]({},h,g,{queries:JSON.stringify(e)})).setHandler(function(a){a=a.getPayload();try{var c=a.response.split("\r\n");c.pop();c=c.map(function(a){return JSON.parse(a)});c.forEach(function(a){return Object.keys(a).forEach(function(b){var c=f[b];if(c){b=a[b];b.errors?c.reject(b):b.data?c.resolve(b.data):c.reject({data:{},errors:[{message:"Unexpected response received from server.",severity:"CRITICAL",response:b}]})}})})}catch(d){c=a.response;b("FBLogger")("webgraphql").catching(d).mustfix("Bad response: ","%s%s",c.substr(0,250),c.length>250?"[truncated]":"")}Object.keys(f).forEach(function(a){f[a].isSettled()||f[a].reject({data:{},errors:[{message:"No response received from server.",severity:"CRITICAL"}]})})}).setTimeoutHandler(b("WebGraphQLConfig").timeout,function(){Object.keys(f).forEach(function(a){f[a].isSettled()||f[a].reject({data:{},errors:[{message:"Request timed out.",severity:"CRITICAL"}]})})}).setErrorHandler(function(a){var b=a.getErrorDescription();Object.keys(f).forEach(function(c){f[c].isSettled()||f[c].reject({data:{},errors:[{message:b,severity:"CRITICAL",error:a.getError()}]})})});d&&d.msgrRegion&&h.setRequestHeader("X-MSGR-Region",d.msgrRegion);h.setAllowCrossPageTransition(!0);h.send();return a},__forController:g};return d}a=g(b("XGraphQLBatchAPIController"));e.exports=a}),null);
__d("LineClamp.react",["cx","DOMContainer.react","Locale","React","getElementText","getVendorPrefixedName","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("getVendorPrefixedName")("lineClamp");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={enableTooltip:!1},c.$2=function(a){a instanceof HTMLElement&&(c.innerElement=a,c.$3())},c.$4=function(a){a instanceof HTMLElement&&(c.rootElement=a,c.$3())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a;this.props.lineHeight&&!this.props.customEllipsisDisableGradient&&(a={bottom:this.props.lineHeight+"px"});var c;this.props.customEllipsis&&this.props.customEllipsisDisableGradient?c=b("Locale").isRTL()?"_1osp":"_1osq":c=b("Locale").isRTL()?"_4ik3 _2k5c":"_4ik3"+(this.props.enableCustomizedStyleForEllipsis?" _6q5n":"")+(this.props.enableCustomizedStyleForEllipsis?"":" _2k5d");return h.jsx("div",{style:a,className:c,children:this.props.customEllipsis?this.props.customEllipsis:"\u2026"},"ellipsis")};d.$3=function(){if(!this.props.enableTooltipOnOverflow)return;if(!this.rootElement)return;var a=this.rootElement,b;if(this.$5())b=a.scrollHeight>a.offsetHeight;else{if(!this.innerElement)return;b=this.innerElement.offsetHeight>a.offsetHeight}this.state.enableTooltip!==b&&this.setState({enableTooltip:b})};d.$5=function(){return!!i&&!this.props.disableNative};d.componentDidMount=function(){this.$3()};d.componentDidUpdate=function(){this.$3()};d.render=function(){var a=this.$5(),c=b("joinClasses")(this.props.className,"_4ik4"+(a?" _4ik5":"")+(this.props.width?" _8hwj":"")),d=this.props.hasXHPChildren?h.jsx(b("DOMContainer.react"),{children:this.props.children}):this.props.children,e={};this.props.lineHeight&&(e={lineHeight:this.props.lineHeight+"px"},this.props.fitHeightToShorterText?e=babelHelpers["extends"]({},e,{maxHeight:this.props.lineHeight*this.props.lines}):e=babelHelpers["extends"]({},e,{height:this.props.lineHeight*this.props.lines}));this.props.width&&(e=babelHelpers["extends"]({},e,{width:this.props.width+"px"}));a?e[i]=this.props.lines:(c=b("joinClasses")(c,"clearfix"),this.props.customEllipsisDisableGradient?d=[h.jsx("div",{className:"_1osu"},"spacer"),this.$1(),h.jsx("div",{className:"_1osv",ref:this.$2,children:this.props.children},"inner")]:d=[h.jsx("div",{className:"_4ik6",ref:this.$2,children:d},"inner"),this.$1()]);var f={};this.props.enableTooltipOnOverflow&&(f["data-hover"]="tooltip",this.state.enableTooltip&&(f["data-tooltip-content"]=a?b("getElementText")(this.rootElement):b("getElementText")(this.innerElement),this.props.tooltipDelay!=null&&(f["data-tooltip-delay"]=this.props.tooltipDelay)));return h.jsx("div",babelHelpers["extends"]({},f,{className:c,ref:this.$4,style:e,children:d}))};return c}(h.Component);e.exports=a}),null);
__d("isKeyActivation",["Keys"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=0,d=a.charCode;a=a.keyCode;d!=null&&d!==0?c=d:a!=null&&a!==0&&(c=a);return[b("Keys").RETURN,b("Keys").SPACE].includes(c)}e.exports=a}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c,d;return d=c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var a;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a=c.call.apply(c,[this].concat(e))||this;a.$2=function(c){b("isKeyActivation")(c)&&(c.preventDefault(),c.stopPropagation(),a.$1&&a.$1.click())};a.$3=function(b){a.$1=b};a.$1=null;return a}var e=d.prototype;e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3}))};return d}(g.Component),c.displayName="KeyActivationToClickHOC",d};e.exports=a}),null);
__d("AsyncData",["requireCond","cr:696703"],(function(a,b,c,d,e,f){var g=Object.create(null),h=Object.create(null),i=Object.create(null),j={resolve:function(a,b){var c=i[a]={result:b,status:"success"};g[a]&&(g[a].forEach(function(a){return a(c.result)}),delete g[a]);delete h[a]},reject:function(a,b){var c=i[a]={error:b,status:"error"};h[a]&&(h[a].forEach(function(a){return a(c.error)}),delete h[a]);delete g[a]},resolveBlackBox:function(a,b){j.resolve(a,b)},rejectBlackBox:function(a,b){j.reject(a,b)},preload:function(a){var b={};b.onLoaded=l.bind(null,a,b);b.onError=m.bind(null,a,b);b.cleanup=n.bind(null,a);b.peek=k.bind(null,a);return b},blockDisplayUntilLoaded:function(a){var b=a.bigPipeContext;a=a.preloader;b=b?b.registerToBlockDisplayUntilDone_DONOTUSE():function(){};a.onLoaded(b).onError(b)},cleanup:n,__dumpValues:null};function k(a){a=i[a];return a&&!a.error?a.result:null}function l(a,c,d){var e=i[a];if(e&&!e.error)d(e.result);else{g[a]=g[a]||[];if(b("cr:696703")){var f=b("cr:696703").getCallbackScheduler(),h=d;d=function(a){f(function(){return h(a)})}}g[a].push(d)}return c}function m(a,c,d){var e=i[a];if(e)e.status==="error"&&d(e.error);else{h[a]=h[a]||[];if(b("cr:696703")){var f=b("cr:696703").getCallbackScheduler(),g=d;d=function(a){f(function(){return g(a)})}}h[a].push(d)}return c}function n(a){delete i[a]}e.exports=j}),null);
__d("AsyncDataPreloader",["AsyncData"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){a=a.id;this.$1=a;this.$2=b("AsyncData").preload.call(null,this.$1)}var c=a.prototype;c.getID=function(){return this.$1};c.peek=function(){return this.$2.peek()};c.onLoaded=function(a){this.$2.onLoaded(a);return this};c.onError=function(a){this.$2.onError(a);return this};c.cleanup=function(){b("AsyncData").cleanup(this.$1)};c.getContextProvider=function(){return null};return a}();e.exports=a}),null);
__d("PreloadedRelayQueryRendererContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("RelayAsyncDataPreloader",["Promise","FBLogger","PreloadedRelayQueryRendererContext","RelayAPIConfig","RelayPrefetchedResponseProvider","RelayPrefetchedStreamCache","promiseDone","stableStringifyPrefetchedRelayVariablesWithActor"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b,c,d){this.$4=!1,this.$1=a,this.$2=b,this.$3=c,this.$5=d}var c=a.prototype;c.get=function(a,c,d){if(!this.$4)if(this.$2!==c)b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).mustfix("Preloader QueryID Mismatch: %s !== %s (pinning status: %s)",c,this.$2,this.$5);else if(this.$1!==a)b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).mustfix("Preloader ActorID Mismatch: %s !== %s (pinning status: %s)",a,this.$1,this.$5);else{var e=b("stableStringifyPrefetchedRelayVariablesWithActor")(this.$1,this.$3),f=b("stableStringifyPrefetchedRelayVariablesWithActor")(a,d);e!==f&&b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).mustfix("Preloader Variables Mismatch: %s !== %s (pinning status: %s)",e,f,this.$5)}this.$4=!0;return b("RelayPrefetchedResponseProvider").get(a,c,d)};return a}();a=function(){function a(a){var c=this,d=a.asyncDataPreloader,e=a.queryID,f=a.queryVariables,g=a.pinnedStatus;a=a.actorID;this.$3=(a=a)!=null?a:b("RelayAPIConfig").actorID;b("RelayPrefetchedStreamCache").registerPreloader(d.getID(),e,f,this.$3);this.$1=g!=null?String(g):"(unknown)";this.$2=e;this.$4=f;this.$5=new(b("Promise"))(function(a,d){b("RelayPrefetchedStreamCache").subscribe(c.$3,e,f,{complete:a,error:d,next:a,start:function(){}})})}var c=a.prototype;c.getPrefetchedResponseCache=function(){this.$6||(this.$6=new g(this.$3,this.$2,this.$4,this.$1));return this.$6};c.getContextProvider=function(){return b("PreloadedRelayQueryRendererContext").Provider};c.getQueryVariables=function(){return this.$4};c.onLoaded=function(a){b("promiseDone")(this.$5.then(function(b){a(b);return b}));return this};c.onError=function(a){b("promiseDone")(this.$5["catch"](a));return this};return a}();e.exports=a}),null);
__d("RelayPreloadedQueryRenderer.react",["FBLogger","PreloadedRelayQueryRendererContext","React","RelayModern"],(function(a,b,c,d,e,f){"use strict";var g=b("PreloadedRelayQueryRendererContext").Consumer,h=b("React"),i=b("RelayModern").QueryRenderer;function j(a){if(!a)return"Null Query";else if(typeof a==="function")return k(a());return"Unknown Query"}function k(a){return a.kind==="Request"?a.params.name:a.name}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.hasRendered=!1,d.enforcedRenderer=function(a){var c=d.props,e=c.disableEnforcement,f=c.query;c=c.render;if(!e&&!d.hasRendered){e=a.error!=null||a.props!=null;e||b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to find preloaded query %s cache results.",j(f));d.hasRendered=!0}return c(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.query,e=c.cacheConfig,f=babelHelpers.objectWithoutPropertiesLoose(c,["query","cacheConfig"]),k=e?e.metadata:{};return h.jsx(g,{children:function(c){if(c==null){b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to get preloaded query (%s) variables.",j(d));return null}else return h.jsx(i,babelHelpers["extends"]({},f,{cacheConfig:babelHelpers["extends"]({metadata:babelHelpers["extends"]({prefetchedResponseProvider:c.getPrefetchedResponseCache()},k)},e),query:d,render:a.enforcedRenderer,variables:c.getQueryVariables()}))}})};return c}(h.Component);a.defaultProps={disableEnforcement:!1};e.exports=a}),null);
__d("BanzaiStorage",["BanzaiConsts","BanzaiUtils","CurrentUser","FBJSON","SetIdleTimeoutAcrossTransitions","WebSession","WebStorage","WebStorageMutex","isInIframe","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j="bz:",k=b("isInIframe")(),l,m=!1,n=null;function o(){var a="check_quota";try{var b=p();if(!b)return!1;b.setItem(a,a);b.removeItem(a);return!0}catch(a){return!1}}function p(){m||(m=!0,l=(g||(g=b("WebStorage"))).getLocalStorage());return l}a={flush:function(a){if(k)return;var c=p();if(c){n==null&&(n=parseInt(c.getItem((h||(h=b("BanzaiConsts"))).LAST_STORAGE_FLUSH),10));var d=n&&(i||(i=b("performanceAbsoluteNow")))()-n>=(h||(h=b("BanzaiConsts"))).STORAGE_FLUSH_INTERVAL;d&&a();(d||!n)&&(n=(i||(i=b("performanceAbsoluteNow")))(),(g||(g=b("WebStorage"))).setItemGuarded(c,(h||(h=b("BanzaiConsts"))).LAST_STORAGE_FLUSH,n.toString()))}},restore:function(a){if(k)return;var c=p();if(!c)return;var d=function(d){var e=[];for(var f=0;f<c.length;f++){var g=c.key(f);typeof g==="string"&&g.indexOf(j)===0&&g.indexOf("bz:__")!==0&&e.push(g)}e.forEach(function(d){var e=c.getItem(d);c.removeItem(d);if(e==null||e==="")return;d=b("FBJSON").parse(e);d.forEach(function(c){if(!c)return;var d=c.__meta=c.pop(),e=b("BanzaiUtils").canSend(c);if(!e)return;e=b("CurrentUser").getID();(d.userID===e||e==="0")&&(b("BanzaiUtils").resetPostStatus(c),a(c))})});d&&d.unlock()};o()?new(b("WebStorageMutex"))("banzai").lock(d):b("SetIdleTimeoutAcrossTransitions").start(d,0)},store:function(a){if(k)return;var c=p(),d=a.filter(function(a){var c=a.__meta.status===(h||(h=b("BanzaiConsts"))).POST_SENT;if(!c)return!0;c=a[0]===(h||(h=b("BanzaiConsts"))).ODS_ROUTE&&typeof a[1]==="object"&&(Boolean(a[1]["2887"])||Boolean(a[1]["2979"]));return!c});if(!c||d.length<=0)return;d=d.map(function(a){return[a[0],a[1],a[2],a[3]||0,a[4],a.__meta]});a.splice(0,a.length);(g||(g=b("WebStorage"))).setItemGuarded(c,j+b("WebSession").getId()+"."+(i||(i=b("performanceAbsoluteNow")))(),b("FBJSON").stringify(d))}};e.exports=a}),null);
__d("DeferredComponent.react",["React","createCancelableFunction","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({ComponentClass:a},function(){e.props.onComponentLoad&&e.props.onComponentLoad(a)})};var f=null;function g(a){f=a}e.props.deferredComponent(g);e.state={ComponentClass:f,cancelableModulesLoaded:b("createCancelableFunction")(e.$1)};return e}var d=c.prototype;d.componentDidMount=function(){this.props.deferredComponent(this.state.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.state.cancelableModulesLoaded.cancel()};d.render=function(){var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutPropertiesLoose(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return g.jsx(a,babelHelpers["extends"]({},b))};return c}(g.Component);a.propTypes={deferredPlaceholder:(c=b("prop-types")).element.isRequired,deferredComponent:c.func.isRequired,onComponentLoad:c.func,deferredForcePlaceholder:c.bool};e.exports=a}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","React","TimeSlice","performanceNow"],(function(a,b,c,d,e,f){var g,h=b("React");a=h.Component;var i=b("PerfUtils").appendListener;c=b("PerfUtils").markRedInDev;d=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.create=function(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){return c.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutPropertiesLoose(b,["bootloadLoader"]);return h.jsx(j,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:h.jsx("div",{})},b))};return b}(h.Component);b.displayName="BootloadedComponent("+a.getModuleId()+")";return b};return b}(a);f=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$BootloadedComponent1=function(a){var c=d.props.isContinuation,e;c=c?b("TimeSlice").PropagationType.CONTINUATION:b("TimeSlice").PropagationType.EXECUTION;b("TimeSlice").guard(b("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:c})([d.props.bootloadLoader],function(b){b=d.props.onComponentDidMount?i(b,d.props.onComponentDidMount):b,a(b)})};c.onBootloaderWillMount&&c.onBootloaderWillMount();return d}var d=c.prototype;d.render=function(){var a=this.props;a.bootloadLoader;a.isContinuation;var c=a.bootloadPlaceholder,d=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);return h.jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:c,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:d},a))};return c}(d);f.defaultProps={isContinuation:!0};var j=f;e.exports=j}),null);
__d("RelayFBCometMutations",["recoverableViolation","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getRequest,h=1;function a(a){return function(c,d,e){var f=d.variables.input||{},i=f.actor_id,j=f.client_mutation_id;f=babelHelpers.objectWithoutPropertiesLoose(f,["actor_id","client_mutation_id"]);b("warning")(j==null,"RelayFBCometMutations: Found `client_mutation_id` in mutation input`. In the Facebook context, `client_mutation_id` and `actor_id` are added automatically.");var k;c.options!=null&&c.options.actorID!=null&&typeof c.options.actorID==="string"?k=c.options.actorID:b("recoverableViolation")("RelayFBCometMutations: Expected a non-nullable string actorID to be set on the Relay environment. https://fburl.com/wiki/m19zmtlh","relay");if(i!=null&&i!==k){var l=g(d.mutation);l=l.params.name;b("recoverableViolation")('You passed an actor_id parameter "'+i+'" to mutation "'+l+'", but the parameter was overridden by the actor_id "'+((l=k)!=null?l:"")+'" defined in the ActorContext that wraps your React tree. Update your code to avoid passing the actor_id parameter to your mutation.',"relay");k=i}i=babelHelpers["extends"]({},d.variables,{input:babelHelpers["extends"]({},f,{actor_id:k,client_mutation_id:(l=j)!=null?l:""+h++})});return a(c,{configs:d.configs,mutation:d.mutation,onCompleted:d.onCompleted,onError:d.onError,optimisticResponse:d.optimisticResponse,optimisticUpdater:d.optimisticUpdater,updater:d.updater,uploadables:d.uploadables,variables:i},e)}}e.exports={addFBisms:a}}),null);
__d("SeeMore.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:!0},c.handleClick=function(a){c.props.clickCallback!==null&&c.props.clickCallback(a),c.setState({isCollapsed:!1},function(){return c.props.expandCallback&&c.props.expandCallback()})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.state.isCollapsed,c=this.props.exposeTextInHtml,d=null;if(a){var e=null;this.props.allowSeeMoreLinebreak&&(e=i.jsx("span",{className:"_1ipe",role:"hidden",children:" "}));d=i.jsxs("span",{className:"_5uzb",children:[h._("\u2026"),e]})}e=this.props.children[0];var f=null;a?c&&(f=i.jsx("span",{className:"_1x3s",children:this.props.children[1]})):f=i.jsx("span",{children:this.props.children[1]});c=a?i.jsx("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button",children:h._("See More")}):null;return i.jsxs("span",{className:b("joinClasses")(this.props.className,"_1n4g"),children:[e,d,c,f]})};return c}(i.Component);a.defaultProps={clickCallback:null,expandCallback:null,exposeTextInHtml:!1,allowSeeMoreLinebreak:!1};e.exports=a}),null);
__d("XUIText.react",["cx","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getAriaLevel=function(a,b){if(a==="header1")return 1;else if(a==="header2")return 2;else if(a==="header3")return 3;else if(a==="header4")return 4;return b};d.render=function(){var a=this.props,c=a.color,d=a.palette,e=a.type,f=a.size,g=a.weight,i=a.display,j=a.headingLevel,k=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","palette","type","size","weight","display","headingLevel","children"]);e=(e==="serif"?"_5s6c":"")+(f==="small"?" _50f3":"")+(f==="medium"?" _50f4":"")+(f==="large"?" _50f5":"")+(f==="xlarge"||f==="xlarge_DEPRECATED"?" _50f6":"")+(g==="bold"?" _50f7":"")+(g==="normal"?" _5kx5":"")+(f==="display"?" _2iei":"")+(f==="header1"?" _2iej":"")+(f==="header2"?" _2iek":"")+(f==="header3"?" _2iel":"")+(f==="header4"?" _2iem":"")+(f==="body1"?" _2ien":"")+(f==="body2"?" _2ieo":"")+(f==="body3"?" _2iep":"")+(f==="meta1"?" _2ieq":"")+(c==="blueLink"?" _rzx":"")+(c==="white"?" _2ier":"")+(c==="highlight"?" _1hk0":"")+(c==="positive"?" _2iet":"")+(c==="negative"?" _2ieu":"")+(d!=="dark"&&c==="placeholder"?" _rzy":"")+(d!=="dark"&&c==="primary"?" _2iev":"")+(d!=="dark"&&c==="secondary"?" _2iex":"")+(d!=="dark"&&c==="disabled"?" _2iey":"")+(d==="dark"&&c==="primary"?" _2iez":"")+(d==="dark"&&c==="secondary"?" _2ie-":"")+(d==="dark"&&c==="disabled"?" _2ie_":"");g=this.getAriaLevel(f,j);g!==void 0&&g!==null&&(a=babelHelpers["extends"]({},a,{role:"heading","aria-level":""+g}));return i==="block"?h.jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),children:k})):h.jsx("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),children:k}))};return c}(h.Component);a.propTypes={color:(c=b("prop-types")).oneOf(["primary","secondary","blueLink","placeholder","disabled","white","highlight","positive","negative"]),display:c.oneOf(["inline","block"]),headingLevel:c.oneOf([1,2,3,4,5,6]),palette:c.oneOf(["light","dark"]),size:c.oneOf(["small","medium","large","xlarge","xlarge_DEPRECATED","inherit","display","header1","header2","header3","header4","body1","body2","body3","meta1"]),type:c.oneOf(["serif","inherit"]),weight:c.oneOf(["bold","inherit","normal"])};a.defaultProps={type:"inherit",size:"inherit",weight:"inherit",display:"inline"};e.exports=a}),null);
__d("QueryString",[],(function(a,b,c,d,e,f){function a(a){var b=[];Object.keys(a).sort().forEach(function(c){var d=a[c];if(d===void 0)return;if(d===null){b.push(c);return}b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))});return b.join("&")}function b(a,b){b===void 0&&(b=!1);var c={};if(a==="")return c;a=a.split("&");for(var d=0;d<a.length;d++){var e=a[d].split("=",2),f=decodeURIComponent(e[0]);if(b&&Object.prototype.hasOwnProperty.call(c,f))throw new URIError("Duplicate key: "+f);c[f]=e.length===2?decodeURIComponent(e[1]):null}return c}function c(a,b){return a+(a.indexOf("?")!==-1?"&":"?")+(typeof b==="string"?b:g.encode(b))}var g={encode:a,decode:b,appendToUrl:c};e.exports=g}),null);
__d("RTLKeys",["Keys","Locale"],(function(a,b,c,d,e,f){var g=null;function h(){g===null&&(g=b("Locale").isRTL());return g}a=b("Keys").RIGHT;c=b("Keys").LEFT;d=babelHelpers.objectWithoutPropertiesLoose(b("Keys"),["RIGHT","LEFT"]);var i=babelHelpers["extends"]({},d,{REAL_RIGHT:a,REAL_LEFT:c,getLeft:function(){return h()?i.REAL_RIGHT:i.REAL_LEFT},getRight:function(){return h()?i.REAL_LEFT:i.REAL_RIGHT}});e.exports=i}),null);
__d("VisualCompletionInst",["VisibilityListener","getElementRect","gkx","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h,i=/url\(.*(http.*)\)/gi,j=1,k=0;a=function(){function a(a){this.$4=0,this.$8=0,this.$9=0,this.$10=0,this.markerPoints=new Map(),this.annotations=new Map(),this.$5=new Map(),this.$3=new Map(),this.$1=[],this.$2=[],this.$7=0,this.$11=a,this.$6={width:window.innerWidth,height:window.innerHeight}}var c=a.prototype;c.addMarkerPoint=function(a,b){this.markerPoints.set(a,b)};c.addNavigationTiming=function(){var a=((g||(g=b("performance")))==null?void 0:(g||(g=b("performance"))).timing)||{};for(var c in a)typeof a[c]==="number"&&a[c]>=this.$4&&this.addMarkerPoint(c,a[c]-this.$4)};c.calculate=function(a,c,d){var e=this;if(!this.$11.size)return null;k++;var f=(h||(h=b("performanceAbsoluteNow")))();this.$4=a;this.$7=0;this.$9=0;this.$10=0;this.setResourceTimingMap();this.setViewportSize();this.initTree();this.getImages();b("gkx")("676838")&&this.getBackgroundImages();this.$8=this.traverseTree(this.$1,this.$6.width*this.$6.height);var g={annotations:this.annotations,viewport:this.$6,totalPixels:this.$8,paintedPixels:this.$9,bgNum:0,imgNum:0,compNum:0,bgPixels:0,imgPixels:0,compPixels:0,elements:this.$2,calcLatency:0,bgChecked:this.$7,bgCheckLatency:this.$10,markerPoints:this.markerPoints,speedIndex:0,startTime:a,visuallyComplete:0,scrollY:window.scrollY,navSequence:k,pageType:c,page:d};this.$2.length&&(this.$2=this.$2.sort(function(a,b){return b.latency-a.latency}),g.visuallyComplete=this.$2[0].latency,this.addMarkerPoint("FP",this.$2[this.$2.length-1].latency),this.$2.forEach(function(a){!e.markerPoints.has("vcWithoutImage")&&a.type==="component"&&e.addMarkerPoint("vcWithoutImage",a.latency);g.speedIndex+=a.pixels/e.$9*a.latency;switch(a.type){case"component":g.compNum++;g.compPixels+=a.pixels;break;case"img":g.imgNum++;g.imgPixels+=a.pixels;break;case"bg":g.bgNum++;g.bgPixels+=a.pixels;break}}));g.calcLatency=h()-f;this.logPixelProgress();this.setMetadata(g);k===1&&this.addNavigationTiming();return g};c.findParent=function(a){a=a.parentElement;while(a){var b=a.getAttribute("data-veid");if(b!=null&&b!==""&&this.$3.has(b))return this.$3.get(b);a=a.parentElement}return null};c.getBackgroundImages=function(){var a=this,c=(h||(h=b("performanceAbsoluteNow")))();this.$1.forEach(function(c){c=c.element.querySelectorAll(":not(img)");Array.prototype.forEach.call(c,function(c){var d=a.findParent(c);if(!d)return;var e=a.getRectangle(c,d.rectangle),f=a.getPixels(e);if(!f)return;var h=a.trimHash(a.getStyleBackground(c));if(h!=null&&h!==""){var i=a.$5.get(h);if(i!=null){c={veid:String(j++),element:c,rectangle:e,pixels:f,children:[],parent:d,type:"bg",latency:i+(g||(g=b("performance"))).timing.navigationStart-a.$4,timestamp:i+g.timing.navigationStart,url:h};d.children.push(c)}}})});this.$10=h()-c};c.getImages=function(){var a=this,c=document.querySelectorAll("img");Array.prototype.forEach.call(c,function(c){var d=a.findParent(c);if(!d)return;var e=a.getRectangle(c,d.rectangle);if(c.parentElement){var f=a.getRectangle(c.parentElement,d.rectangle);e=a.getRectIntersection(e,f)}f=a.getPixels(e);if(!f)return;var h=a.trimHash(c.getAttribute("src"));if(h!=null&&h!==""&&a.$5.has(h)){var i=a.$5.get(h);if(i!=null){c={veid:String(j++),element:c,rectangle:e,pixels:f,children:[],parent:d,type:"img",latency:i+(g||(g=b("performance"))).timing.navigationStart-a.$4,timestamp:i+g.timing.navigationStart,url:h};d.children.push(c)}}})};c.getPixels=function(a){return(a.right-a.left)*(a.bottom-a.top)};c.getRectangle=function(a,c){a=b("getElementRect")(a);return this.getRectIntersection(a,c)};c.getRectIntersection=function(a,b){return{top:Math.min(Math.max(a.top,b.top),b.bottom),bottom:Math.max(Math.min(a.bottom,b.bottom),b.top),left:Math.min(Math.max(a.left,b.left),b.right),right:Math.max(Math.min(a.right,b.right),b.left)}};c.getStyleBackground=function(a){if(typeof window.getComputedStyle!=="function")return null;this.$7++;a=window.getComputedStyle(a);var b=a["background-image"];if(a.visibility!=="hidden"&&b&&b!=="none"){i.lastIndex=0;a=i.exec(b);if(a&&a.length>1)return a[1].replace('"',"")}return null};c.logPixelProgress=function(){var a=this,b=new Map([["vc98",.02],["vc95",.05]]),c=0,d=0,e=function(e){var f=a.$2[e];c+=f.pixels;if(b.size===0)return"break";b.forEach(function(b,d){!a.markerPoints.has(d)&&c/a.$9>=b&&a.addMarkerPoint(d,f.latency)});f.type==="component"&&(d+=f.pixels,f.children.forEach(function(a){a.type!=="component"&&(d+=a.pixels)}),b.forEach(function(c,e){!a.markerPoints.has(e+"WithoutImage")&&d/a.$9>=c&&(a.addMarkerPoint(e+"WithoutImage",f.latency),b["delete"](e))}))};for(var f=0;f<this.$2.length;f++){var g=e(f);if(g==="break")break}};c.initTree=function(){var a=this,b={top:0,left:0,bottom:this.$6.height,right:this.$6.width};this.$11.forEach(function(c){var d=c[0],e=c[1];c=c[2];var f=a.getRectangle(e,b);if(a.getPixels(f)===0)e.removeAttribute("data-veid"),a.$11["delete"](d);else{e={veid:d,element:e,rectangle:f,pixels:a.getPixels(f),children:[],parent:null,type:"component",latency:c-a.$4,timestamp:c};a.$3.set(d,e)}});this.$3.forEach(function(b){var c=a.findParent(b.element);c?(b.rectangle=a.getRectIntersection(b.rectangle,c.rectangle),b.pixels=a.getPixels(b.rectangle),c.children.push(b),b.parent=c):(a.$1.forEach(function(c){c=a.getRectIntersection(b.rectangle,c.rectangle);a.getPixels(c)>0&&(b.rectangle.top=c.bottom,b.pixels=a.getPixels(b.rectangle))}),a.$1.push(b))})};c.setMetadata=function(a){var c=b("VisibilityListener").getHiddenTime(a.startTime,a.startTime+a.visuallyComplete);c=c!=null&&c>0?1:0;this.annotations.set("height",a.viewport.height);this.annotations.set("width",a.viewport.width);this.annotations.set("page",a.page);this.annotations.set("scrollY",a.scrollY);this.annotations.set("overhead",a.calcLatency);this.annotations.set("navSequence",a.navSequence);this.annotations.set("hidden",c);a.navSequence===1&&(g||(g=b("performance")))&&(g||(g=b("performance"))).timing&&((g||(g=b("performance"))).timing.responseStart&&this.addMarkerPoint("TTFB",(g||(g=b("performance"))).timing.responseStart-a.startTime));a.speedIndex>0&&this.addMarkerPoint("speedIndex",a.speedIndex)};c.setResourceTimingMap=function(){var a=this;if(window.performance&&typeof window.performance.getEntriesByType==="function"){var b=window.performance.getEntriesByType("resource");b.forEach(function(b){var c=a.trimHash(b.name);c!=null&&c!==""&&a.$5.set(c,b.responseEnd)})}};c.setViewportSize=function(){this.$6={width:window.innerWidth,height:window.innerHeight}};c.traverseTree=function(a,b){var c=this,d=b,e=0;a.sort(function(a,b){return b.timestamp-a.timestamp}).forEach(function(a){a.pixels=Math.min(d,a.pixels),e+=a.pixels,d-=a.pixels,a.pixels-=c.traverseTree(a.children,a.pixels),a.timestamp>c.$4&&(a.type!=="component"&&a.parent&&a.parent.timestamp>a.timestamp&&(a.latency=a.parent.latency),c.$9+=a.pixels,c.$2.push(a))});return e};c.trimHash=function(a){return a!=null&&a!==""&&a.indexOf("#")>=0?a.substring(0,a.indexOf("#")):a};return a}();e.exports=a}),null);
__d("VisualCompletionQPL",["QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){b("QuickPerformanceLogger").markerStartFromNavStart(27983875),a.markerPoints.forEach(function(c,d){b("QuickPerformanceLogger").markerPoint(27983875,d,{timestamp:c+a.startTime})}),a.annotations.forEach(function(a,c){typeof a==="number"?b("QuickPerformanceLogger").annotateMarkerInt(27983875,c,a,0):b("QuickPerformanceLogger").annotateMarkerString(27983875,c,a,0)}),b("QuickPerformanceLogger").markerEnd(27983875,2,0,a.visuallyComplete+a.startTime)}};e.exports=a}),null);
__d("VisualCompletion",["csx","NavigationMetrics","VisualCompletionInst","VisualCompletionQPL"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i,j=[],k=new Set(),l=new Map(),m=1;function n(a,b){if(!a)return;var c="vc_"+m++,d=a.getAttribute("data-veid");d!=null&&d!==""&&l["delete"](d);a.setAttribute("data-veid",c);l.set(c,[c,a,b])}function o(){j.forEach(function(a){a(i)}),i&&b("VisualCompletionQPL").log(i)}var p={addElements:function(a,b,c){h||p.init();b&&b.forEach(function(a){n(a,c)});if(a==="first_response"){if(k.has(a))return;b=document.getElementById("pagelet_bluebar");if(b!=null){b=b.querySelector("._2s1y");b&&n(b,c)}k.add(a)}else if(a==="pagelet_sidebar"){if(k.has(a))return;b=document.getElementById("pagelet_sidebar");if(b!=null){b=b.querySelector("._51x_");b&&n(b,c)}k.add(a)}},getReport:function(){return i},init:function(){b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){if(c.pageType!=="normal"&&c.pageType!=="quickling")return;a=new(b("VisualCompletionInst"))(l);i=a.calculate(c.start,c.pageType,c.page);o()}),h=!0},subscribe:function(a){j.push(a)},unsubscribe:function(a){j=j.filter(function(b){return b!==a})}};e.exports=p}),null);