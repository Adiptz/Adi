if (self.CavalryLogger) { CavalryLogger.start_js(["y9K0H"]); }

__d("TimelineJumperCursorConfig",[],(function(a,b,c,d,e,f){e.exports={BOUNDARY_PREFIX:"boundary",CURSOR_PREFIX:"jumper",CURSOR_DELIMITER:"_"}}),null);
__d("PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingFakeNewsDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingInitialLoadAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INITIAL_LOAD");e.exports=a}),null);
__d("PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("PageWebsiteLogger",["Banzai","Event"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c,d,e){var f=this;b("Event").listen(a,"click",function(a){f.log({user_id:c,page_id:d,website_url:e})})},log:function(a){b("Banzai").post("page_website_logger",a)}};e.exports=a}),null);
__d("OptimisticPostMetadata.react",["cx","BackgroundImage.react","Link.react","React","XUIText.react","getDOMImageSize"],(function(a,b,c,d,e,f,g){var h=b("React"),i="/images/video/play_circle_80dp.png",j=80,k=470,l=263,m=472;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={height:l},c.onGetSize=function(a,b,d){d=a<b?k:l;c.setState({height:d})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("getDOMImageSize")(this.props.image,this.onGetSize)};d.render=function(){var a=this.props.image?h.jsx(b("BackgroundImage.react"),{src:this.props.image,backgroundSize:"contain",width:m,height:this.state.height}):h.jsx("div",{className:"_6r9x",style:{height:this.state.height},children:h.jsx(b("BackgroundImage.react"),{src:i,backgroundSize:"contain",width:j,height:j})});return h.jsxs("div",{children:[h.jsxs("div",{className:"_1gi0",children:[h.jsx(b("XUIText.react"),{size:"header4",weight:"bold",display:"block",children:h.jsx(b("Link.react"),{children:this.props.title})}),h.jsx(b("XUIText.react"),{size:"header4",weight:"normal",display:"block",children:this.props.description})]}),h.jsx("div",{className:"_2bc-",children:a})]})};return c}(h.Component);e.exports=a}),null);
__d("OptimisticPostMetadataWithoutThumbnail.react",["cx","EventListener","OptimisticPostMetadata.react","React","ReactDOM","generateVideoThumbnails","promiseDone"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thumbnail:""},d.$1=null,d.generateVideoThumbnails=function(){var a=b("ReactDOM").findDOMNode(d.refs.videoPlayer);b("promiseDone")(b("generateVideoThumbnails")(a,200,200,1),function(a){d.setState({thumbnail:a.thumbnails[0].getURL()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.videoPlayer);this.$1=b("EventListener").listen(a,"loadedmetadata",this.generateVideoThumbnails)};d.componentWillUnmount=function(){this.$1&&(this.$1.remove(),this.$1=null)};d.render=function(){return h.jsxs("div",{children:[h.jsx(b("OptimisticPostMetadata.react"),{title:this.props.title,description:this.props.description,image:this.state.thumbnail}),h.jsx("video",{ref:"videoPlayer",className:"_2mpk",src:this.props.videoFileUrl},"videoPlayer")]})};return c}(h.Component);e.exports=a}),null);
__d("OptimisticPostUFISection.react",["ix","cx","fbt","Image.react","React","SUIBusinessThemeContainer.react","SUIText.react","XUICardSection.react","XUIPopoverButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.isPagePost&&(a=j.jsx("div",{className:"_2qa2",children:j.jsx(b("XUIPopoverButton.react"),{haschevron:!0,image:j.jsx(b("Image.react"),{width:16,height:16,src:this.props.profilePicture}),ref:"open-menu-button",suppressed:!0,type:"button"})}));return j.jsx(b("SUIBusinessThemeContainer.react"),{children:j.jsx(b("XUICardSection.react"),{children:j.jsxs("div",{className:"_2qa3",children:[j.jsxs("div",{className:"_2qa4",children:[j.jsxs("div",{className:"_2qa5",children:[j.jsx(b("Image.react"),{className:"_2qa7",src:g("529238")}),j.jsx(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold",children:i._("Like")})]}),j.jsxs("div",{className:"_2qa5",children:[j.jsx(b("Image.react"),{className:"_2qa7",src:g("510900")}),j.jsx(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold",children:i._("Comment")})]}),j.jsxs("div",{className:"_2qa5",children:[j.jsx(b("Image.react"),{className:"_2qa7",src:g("508130")}),j.jsx(b("SUIText.react"),{color:"secondary",size:"body2",weight:"bold",children:i._("Share")})]})]}),a]})})})};return c}(j.Component);e.exports=a}),null);
__d("PremiereLivingRoomStoryPreview.react",["cx","fbt","LeftRight.react","LivingRoomFeedAttachmentBadgeRow.react","LivingRoomFeedAttachmentFooterNoContentItem.react","LivingRoomNoVideoPreview.react","React","ScheduledLiveStoryVideoPreviewFooter.react","StoryProfile.react","XUICard.react","XUICardSection.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){var i=b("React");function a(a){return i.jsxs(b("XUICard.react"),{children:[i.jsxs(b("XUICardSection.react"),{children:[i.jsx("div",{className:"_3-8j",children:i.jsx(b("StoryProfile.react"),{profilePicture:"/images/silhouettes/person_50x50.png",useRoundPicture:!0,username:a.creatorName,uploadTime:h._("Just Now"),description:a.plannedStartTime>0?h._("plans to premiere a new video"):h._("is hosting a new video release")})}),i.jsx(b("XUIText.react"),{className:"_as3",display:"block",size:"header4",children:a.description})]}),i.jsxs("div",{className:"_15qs",children:[i.jsx(b("LivingRoomNoVideoPreview.react"),{}),i.jsx(b("LivingRoomFeedAttachmentBadgeRow.react"),{livingRoomID:null,premiereLivingRoomBadgeText:a.plannedStartTime>0?h._("PREMIERE"):h._("NEW RELEASE"),presentUserCount:0}),a.plannedStartTime>0?i.jsx("div",{className:"_7qc-",children:i.jsx(b("ScheduledLiveStoryVideoPreviewFooter.react"),{isPremiere:!0,plannedStartTime:a.plannedStartTime})}):i.jsx("div",{className:"_2lu6",children:i.jsx(b("LeftRight.react"),{children:i.jsx(b("LivingRoomFeedAttachmentFooterNoContentItem.react"),{})})})]})]})}e.exports=a}),null);
__d("OptimisticVideoPost.react",["fbt","cx","ActorURI","AsyncRequest","Layout.react","LeftRight.react","OptimisticPostMetadata.react","OptimisticPostMetadataWithoutThumbnail.react","OptimisticPostUFISection.react","PremiereLivingRoomStoryPreview.react","PrivacyConst","ProgressBar.react","prop-types","React","ScheduledLiveStoryPreview.react","StoryProfile.react","VideoLibraryButton.react","VideoThumbnailConfig","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardSection.react","XVideoEditController","XVideoEditDialogController"],(function(a,b,c,d,e,f,g,h){var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowVideoLibraryNux:d.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0},d.getThumbnail=function(){return d.props.thumbnail?d.props.thumbnail:b("VideoThumbnailConfig").defaultThumbnailURL},d.onEditClick=function(){var a;d.props.shouldShowVideoEditDialog?(a=b("XVideoEditDialogController").getURIBuilder().setInt("video_id",d.props.videoID).setEnum("source","optimistic_video_post").getURI(),d.props.targetID&&(a=b("ActorURI").create(a,d.props.targetID)),new(b("AsyncRequest"))(a).send()):(a=b("XVideoEditController").getURIBuilder().setInt("v",d.props.videoID).setEnum("source","optimistic_video_post").getURI(),window.open(a,"_blank"))},d.onNuxDismiss=function(){d.setState({shouldShowVideoLibraryNux:!1}),d.props.onVideoLibraryNuxDismiss()},d.renderLayers=function(){return!d.props.shouldShowVideoLibraryNux?null:k.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return d.refs.video_library_button},shown:!0,position:"above",onCloseButtonClick:d.props.onVideoLibraryNuxDismiss,children:"Manage your videos, all in one place."},"videoLibraryNux")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Just Now"),c;this.props.progress>=100&&this.props.progressCompleteText?c=this.props.progressCompleteText:c=g._("Preparing... {number} \u0025",[g._param("number",this.props.progress)]);var d=null;this.props.shouldShowVideoLibraryButton&&(d=k.jsx(b("VideoLibraryButton.react"),{ref:"video_library_button",pageID:this.props.targetID,source:"optimistic_video_post",refSource:"optimistic_video_post"}));var e=null;this.props.shouldShowVideoEditButton&&!this.props.isPremiereLivingRoom&&(e=k.jsx(b("XUIButton.react"),{className:"_4p26",label:"Edit",size:"small",onClick:this.onEditClick}));c=k.jsx(b("XUICardSection.react"),{background:"light-wash",children:k.jsx("div",{className:"_pro",children:k.jsx("div",{className:"_2uu3",children:k.jsxs(b("Layout.react"),{className:"_1mg",children:[k.jsx(j,{children:k.jsx("div",{children:k.jsx(b("ProgressBar.react"),{className:"_prp",value:this.props.progress,label:c})})}),k.jsx(i,{children:k.jsxs("div",{children:[d,e]})})]})})})});d=this.props.profilePicture||"";e=this.props.username||"";var f=this.props.privacySetting||-1;d=this.props.isPremiere||this.props.isPremiereLivingRoom?null:k.jsx(b("StoryProfile.react"),{className:"_4r8g",profilePicture:d,username:e,uploadTime:a,privacySetting:f});a=null;f=(this.props.premiereTimeSeconds||0)*1e3;this.props.isPremiereLivingRoom?a=k.jsx(b("PremiereLivingRoomStoryPreview.react"),{creatorName:e,description:this.props.metadataDescription,plannedStartTime:f}):this.props.isPremiere?a=k.jsx(b("ScheduledLiveStoryPreview.react"),{description:this.props.metadataDescription||"",isPremiere:!0,plannedStartTime:f,previewTitle:this.props.metadataTitle,targetID:this.props.targetID||""}):a=this.props.thumbnail?k.jsx(b("OptimisticPostMetadata.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,image:this.getThumbnail()}):k.jsx(b("OptimisticPostMetadataWithoutThumbnail.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,videoFileUrl:this.props.videoFileUrl});e=g._("Boost Post");f=this.props.isPagePost?k.jsx("div",{className:"_5c_1",children:k.jsxs(b("LeftRight.react"),{children:[k.jsx("div",{}),k.jsx(b("XUIButton.react"),{label:e,use:"confirm"})]})}):null;e=k.jsx(b("OptimisticPostUFISection.react"),{profilePicture:this.props.profilePicture,isPagePost:this.props.isPagePost});d=k.jsxs("div",{children:[d,a,f,e]});a=k.jsx("div",{className:"_5c_3"});return k.jsxs("div",{className:this.props.isPagePost?"_5ctl":"",children:[k.jsxs(b("XUICard.react"),{className:"_4p28",children:[c,k.jsxs("div",{className:"_prq",children:[d,a]})]}),this.renderLayers()]})};return c}(k.Component);a.propTypes={profilePicture:(c=b("prop-types")).string,username:c.string,privacySetting:c.number,metadataTitle:c.string,metadataDescription:c.string,thumbnail:c.string,videoID:c.string,isPagePost:c.bool,isPremiere:c.bool,isPremiereLivingRoom:c.bool,premiereTimeSeconds:c.number,progress:c.number,progressCompleteText:c.string,shouldShowVideoEditButton:c.bool,shouldShowVideoEditDialog:c.bool,targetID:c.string,videoFileUrl:c.string,shouldShowVideoLibraryNux:c.bool};a.defaultProps={profilePicture:"",username:"",privacySetting:b("PrivacyConst").BaseValue.EVERYONE,metadataTitle:"",metadataDescription:"",thumbnail:"",progress:0,videoID:"",isPagePost:!1,isPremiere:!1,isPremiereLivingRoom:!1,premiereTimeSeconds:0,progressCompleteText:"",shouldShowVideoEditButton:!0,shouldShowVideoEditDialog:!1,videoFileUrl:"",shouldShowVideoLibraryNux:!1};e.exports=a}),null);
__d("OptimisticVideoPostLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){a={logEvent:function(a,c,d,e,f){b("BanzaiLogger").log("OptimisticVideoPostLoggerConfig",{number_of_posts:d,source:c,event:a,target_id:e,video_id:f})}};e.exports=a}),null);
__d("OptimisticVideoPostUtils",["AsyncRequest"],(function(a,b,c,d,e,f){a={shouldShowOptimisticPost:function(a){return a.isScheduledPost||a.isHiddenFromTimeline||a.isSecret||!a.isPageToPage&&!a.isToUserProfile||a.isDraft?!1:!0},checkVideoStatus:function(a,c,d,e){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){var f=b.getPayload();b.error||f.error?d(a,b):f.is_ready?c(a):e(a)}).send()}};e.exports=a}),null);
__d("PagesIntegrityLoggingActions",["PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction","PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction","PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction","PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction","PagesIntegrityLoggingFakeNewsDialogShownAction","PagesIntegrityLoggingInitialLoadAction","PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction"],(function(a,b,c,d,e,f){"use strict";a=function(a){b("PagesIntegrityLoggingInitialLoadAction").dispatch({pageID:a},{line:"20",module:"PagesIntegrityLoggingActions.js"})};c=function(){b("PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction").dispatch({},{line:"26",module:"PagesIntegrityLoggingActions.js"})};d=function(){b("PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction").dispatch({},{line:"32",module:"PagesIntegrityLoggingActions.js"})};f=function(){b("PagesIntegrityLoggingFakeNewsDialogShownAction").dispatch({},{line:"38",module:"PagesIntegrityLoggingActions.js"})};var g=function(){b("PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction").dispatch({},{line:"42",module:"PagesIntegrityLoggingActions.js"})},h=function(){b("PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction").dispatch({},{line:"48",module:"PagesIntegrityLoggingActions.js"})},i=function(){b("PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction").dispatch({},{line:"54",module:"PagesIntegrityLoggingActions.js"})};e.exports={initializeLoggingStore:a,logFakeNewsDialogShown:f,logFakeNewsSubmitted:d,logFakeNewsNotSubmitted:c,logUnpublishedContentBankMatchNotSubmitted:g,logUnpublishedContentBankMatchSubmitted:h,logUnpublishedContentWarningDialogShown:i}}),null);
__d("PagesIntegrityLoggingActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INITIAL_LOAD:null,FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null})}),null);
__d("PagesIntegrityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageAdminNotified=function(a){this.$1.page_admin_notified=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPageSurface=function(a){this.$1.page_surface=a;return this};c.setPostSessionUuid=function(a){this.$1.post_session_uuid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,page_admin_notified:!0,page_id:!0,page_surface:!0,post_session_uuid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PagesIntegrityLoggingStore",["AdsDataAtom","FluxReduceStore","PagesIntegrityLoggingActionType","PagesIntegrityTypedLogger","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({composerPostSessionUUID:null,pageID:null}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new g()};d.reduce=function(a,c){c=c.action;switch(c.type){case b("PagesIntegrityLoggingActionType").INITIAL_LOAD:c=c.pageID;return a.set("composerPostSessionUUID",b("uuid")()).set("pageID",c);case b("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN",a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN",a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("FAKE_NEWS_LINK_SHARED_BY_ADMIN",a,!0);case b("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN",a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN",a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1("UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN",a,!0);default:return a}};d.$PagesIntegrityLoggingStore1=function(a,c,d){new(b("PagesIntegrityTypedLogger"))().setEvent(a).setPageID(c.get("pageID")).setPostSessionUuid(c.get("composerPostSessionUUID")).setPageSurface("COMPOSER").log();return d?c.set("composerPostSessionUUID",b("uuid")()):c};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XUnpublishedPostSuccessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/unpublished_posts/post_success/",{type:{type:"String",required:!0}})}),null);
__d("PagesComposer",["csx","ActorURI","Arbiter","AsyncRequest","Bootloader","ComposerXMarauderLogger","ComposerXStore","DOM","PagesComposerActions","PagesComposerUnpublishedPostsStore","PagesIntegrityLoggingActions","Parent","React","ReactComposerPagesStore","ReactComposerStore","ReactDOM","ReactPagesComposerGlobalFlags","ReloadPage","Run","XUnpublishedPostSuccessController","$","getObjectValues","goURI","ifRequired","pagesComposerReplaceByID","PagesIntegrityLoggingStore"],(function(a,b,c,d,e,f,g){var h=b("PagesComposerActions").updatePreviewConfig,i=b("React"),j,k;function l(){b("ComposerXMarauderLogger").logCompleted(j.id)}function m(a){var c=a.matchData?a.matchData.status_id||a.matchData.content_id:void 0,d=b("PagesComposerUnpublishedPostsStore").getIsPreview(a.composer_id),e=b("ReactComposerPagesStore").getIsDialogComposer(a.composer_id);!e&&!!k&&d&&!!c&&h(a.composer_id,!1,c,null,null);if(!!k&&b("ReactComposerStore").getRef(a.composer_id)==="page_left_nav_create_post_button"&&!!c){var f=b("PagesComposerUnpublishedPostsStore").getPostActionType(a.composer_id);b("Bootloader").loadModules(["ReactPagesComposerPostConfirmationDialogContainer.react"],function(d){b("ReactDOM").render(i.jsx(d,{composerID:a.composer_id,contentID:c,pageID:k,postType:f,success:!!a.streamStory}),b("DOM").create("div"))},"PagesComposer")}if(a.hidePost){e=b("ComposerXStore").getAllForComposer(a.composer_id);if(!b("getObjectValues")(e).length){d=null;b("PagesComposerUnpublishedPostsStore").getIsDraft(a.composer_id)&&(d="draft");b("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(a.composer_id)&&(d="scheduled");if(d){e=b("XUnpublishedPostSuccessController").getURIBuilder().setString("type",d).getURI();e=b("ActorURI").create(e,k);new(b("AsyncRequest"))().setURI(e).send()}}a.isLocalDevPlatformPost&&(b("Bootloader").loadModules(["FBModal.react","FDSSpinner.react"],function(a,c){var d={display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"};b("ReactDOM").render(i.jsx(a,{shown:!0,children:i.jsx("div",{style:d,children:i.jsx(c,{})})},"dialog"),b("DOM").create("div"))},"PagesComposer"),b("ReloadPage").now());l();return}if(a.redirect){d=b("ComposerXStore").getAllForComposer(a.composer_id);b("getObjectValues")(d).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(a.redirect);l();return}if(!a.streamStory){e=b("ReactComposerStore").getRef(a.composer_id);d=n()||e==="branded_content_creator_deal_view"||e==="election_page_megaphone";if(d||a.shouldNotReload)return;b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["PagesStoryPublisher"],function(b){b.publish(a)},"PagesComposer");l();return}e=o.renderStory(j,a.streamStory);b("Arbiter").inform("TimelineComposer/on_after_publish",e,"persistent");l()}function n(){var a=!1;b("Bootloader").loadModules(["ReactComposerTaggerStore","ReactComposerTaggerType"],function(b,c){var d=b.getTaggerData(j.id,c.SPONSOR);b=b.getTaggersConfig(j.id,c.SPONSOR);d&&d.sponsors&&d.sponsors.length>0&&b&&b.showBCMPPostPostModal&&(a=!0)},"PagesComposer");b("ifRequired")("AdsUEditorAdgroupPagePostField.react",function(){a=!0});var c=b("PagesComposerUnpublishedPostsStore").getIsPreview(j.id);c&&(a=!0);return a}var o={init:function(a,c){j=b("$")(a);k=c;var d=b("Arbiter").subscribe("composer/publish",function(a,b){m(b)}),e=b("Arbiter").subscribe("LitestandComposer/publishTemp",function(b,c){m({composer_id:a,streamStory:c.markup})});b("Run").onLeave(d.unsubscribe.bind(d));b("Run").onLeave(e.unsubscribe.bind(e));b("ReactPagesComposerGlobalFlags").setIsPagesComposer(!0);b("PagesIntegrityLoggingStore");b("PagesIntegrityLoggingActions").initializeLoggingStore(c)},renderStory:function(a,c){a=b("Parent").bySelector(a,"#pagelet_timeline_main_column");if(!a)return;a=b("DOM").scry(a,"._5sem")[0];var d=b("DOM").insertAfter(a,c)[0];b("Bootloader").loadModules(["Animation"],function(a){new a(d).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"PagesComposer")},replaceByID:function(a,c){b("pagesComposerReplaceByID")(a,c)}};e.exports=o}),null);
__d("ProfileVideoWWWFrontendActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUploadError=function(a){this.$1.upload_error=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,session_id:!0,time:!0,upload_error:!0,weight:!0};e.exports=a}),null);
__d("XVideoCaptionRenderGenerateHeaderAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/pagePosts/",{video_id:{type:"Int"}})}),null);
__d("VideoPostGenerateCaptionHeader",["csx","AsyncRequest","DOM","Parent","XVideoCaptionRenderGenerateHeaderAsyncController"],(function(a,b,c,d,e,f,g){a={renderHeader:function(a,c){a=b("Parent").bySelector(a,"#pagelet_timeline_main_column");if(!a)return;a=b("DOM").scry(a,"._5sem")[0];if(a){var d=b("DOM").create("div");b("DOM").prependContent(a,d);a=b("XVideoCaptionRenderGenerateHeaderAsyncController").getURIBuilder().setInt("video_id",c).getURI();new(b("AsyncRequest"))().setMethod("GET").setRelativeTo(d).setURI(a).setReadOnly(!0).setAllowCrossPageTransition(!0).send()}}};e.exports=a}),null);
__d("XProfileVideoRefreshController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/refresh_profile_video/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoLibraryNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/video_library/nux/",{action:{type:"Enum",required:!0,enumType:1},nux_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XVideoOptimisticPostingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/optimistic_posting/",{video_id:{type:"Int",required:!0}})}),null);
__d("OptimisticVideoPostList.react",["Arbiter","AsyncRequest","ChannelConstants","OptimisticVideoPost.react","OptimisticVideoPostLogger","OptimisticVideoPostUtils","PagesComposer","ProfileVideoWWWFrontendActionTypedLogger","React","ReactDOM","ReloadPage","Run","TimelineComposer","VideoPostGenerateCaptionHeader","VideoUploadProgressUtils","XProfileVideoRefreshController","XVideoGenerateStoryController","XVideoLibraryNuxController","XVideoOptimisticPostingController","clearInterval","clearTimeout","setInterval","setTimeout"],(function(a,b,c,d,e,f){var g=b("React"),h=a.URL||a.webkitURL||{},i="video_encode",j=7,k=5e3,l=2,m=1e3,n=30;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4={},d.state={videoPostsMetadata:{},videoPosts:[],shouldRefreshAfterEncoding:!1,shouldShowVideoEditButton:d.props.shouldShowVideoEditButton,shouldShowVideoLibraryButton:d.props.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:d.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0,videoLibraryNuxImpressionLogged:!1,renderedVideoPosts:[]},d.initializePosts=function(){var a=[],c={};for(var e=0;e<d.props.data.length;e++){if(!b("OptimisticVideoPostUtils").shouldShowOptimisticPost(d.props.data[e]))break;var f=babelHelpers["extends"]({},d.props.data[e],{shouldRender:!1});f.progress=0;f.progressWithoutFake=0;var g=f.videoID;f.inactivityTimer=d.startInactivityTimer(g);a.push(g);c[g]=f}d.setState({videoPostsMetadata:c,videoPosts:a})},d.getChannelType=function(){return b("ChannelConstants").getArbiterType(i)},d.updateVideoData=function(a){var c={};c[a.videoID]=babelHelpers["extends"]({},a,{shouldRender:!0,fakeProgressTimer:b("setInterval")(function(){return d.fakeInitialProgress(a.videoID)},3e3),inactivityTimer:d.startInactivityTimer(a.videoID)});c[a.videoID].progress=0;c[a.videoID].progressWithoutFake=0;c=babelHelpers["extends"]({},d.state.videoPostsMetadata,c);var e=[a.videoID].concat(d.state.videoPosts);d.$1=a.refreshTimeout;d.$2=a.originalComposerID;d.$3=a.progressCompleteText;d.setState({shouldRefreshAfterEncoding:!!a.shouldRefreshAfterEncoding,shouldShowVideoEditButton:a.shouldShowVideoEditButton!=null?a.shouldShowVideoEditButton:!0,shouldShowVideoLibraryButton:a.shouldShowVideoLibraryButton!=null?a.shouldShowVideoLibraryButton:d.state.shouldShowVideoLibraryButton,videoPostsMetadata:c,videoPosts:e});d.logEvent("video_post_added",a.videoID)},d.onVideoPostSubmitted=function(a,c){if(!b("OptimisticVideoPostUtils").shouldShowOptimisticPost(c))return;if(!c.isToUserProfile){d.updateVideoData(c);return}a=b("XVideoOptimisticPostingController").getURIBuilder().setInt("video_id",c.videoID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){d.updateVideoData(babelHelpers["extends"]({},a.payload,{videoFileUrl:c.videoFileURL}))}).send()},d.checkVideoStatus=function(a){b("OptimisticVideoPostUtils").checkVideoStatus(a,d.onEncodeFinish,d.onEncodeFinish,d.restartInactivityTimer)},d.startInactivityTimer=function(a){return b("setTimeout")(function(){return d.checkVideoStatus(a)},k)},d.restartInactivityTimer=function(a){d.stopInactivityTimer(a);var b=babelHelpers["extends"]({},d.state.videoPostsMetadata),c=babelHelpers["extends"]({},b[a]);c.inactivityTimer=d.startInactivityTimer(a);b[a]=c;d.setState({videoPostsMetadata:b})},d.stopInactivityTimer=function(a){b("clearTimeout")(d.state.videoPostsMetadata[a].inactivityTimer)},d.logEvent=function(a,c){b("OptimisticVideoPostLogger").logEvent(a,d.props.isPagePost?"pages_timeline":"users_timeline",d.state.videoPosts.length,d.props.targetID,c)},d.fakeInitialProgress=function(a){var b=d.state.videoPostsMetadata[a].progress;if(b>j){d.stopFakeInitialProgress(a);return}b=babelHelpers["extends"]({},d.state.videoPostsMetadata);var c=babelHelpers["extends"]({},b[a]);c.progress+=1;b[a]=c;d.setState({videoPostsMetadata:b});d.restartInactivityTimer(a)},d.stopFakeInitialProgress=function(a){if(!d.state.videoPostsMetadata[a].fakeProgressTimer)return;var c=babelHelpers["extends"]({},d.state.videoPostsMetadata);b("clearTimeout")(c[a].fakeProgressTimer);var e=babelHelpers["extends"]({},c[a]);e.fakeProgressTimer=null;c[a]=e;d.setState({videoPostsMetadata:c})},d.onEncodeUpdate=function(a,c){a=String(c.obj.videoID);if(!d.state.videoPostsMetadata[a])return;var e=babelHelpers["extends"]({},d.state.videoPostsMetadata),f=babelHelpers["extends"]({},e[a]),g={progress:f.progress,progressWithoutFake:f.progressWithoutFake};g=b("VideoUploadProgressUtils").getUpdatedProgress(c,g);g.progress!==-1&&(d.stopFakeInitialProgress(a),f.progress=g.progress,f.shouldRender=!0);f.progressWithoutFake=g.progressWithoutFake;e[a]=f;d.setState({videoPostsMetadata:e});b("VideoUploadProgressUtils").isEncodingFinished(c.obj.stage)?d.onEncodeFinish(a):d.restartInactivityTimer(a)},d.onEncodeFinish=function(a){if(!d.state.videoPostsMetadata[a])return;d.stopInactivityTimer(a);var c=d.props.isPagePost?36:10,e=b("XVideoGenerateStoryController").getURIBuilder().setInt("video_id",a).setEnum("feed_location",c).getURI();new(b("AsyncRequest"))().setURI(e).setData({video_id:a,feed_location:c}).setHandler(function(b){return d.handleRequest(b,a)}).send()},d.refreshWhenDone=function(a){var c=!0,e=Date.now(),f=b("setInterval")(function(){if(c){c=!1;var g=b("XProfileVideoRefreshController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))().setURI(g).setHandler(function(a){c=!0,a.payload.profile_video_is_set?(b("clearInterval")(f),new(b("ProfileVideoWWWFrontendActionTypedLogger"))().setEvent("profile_video_set").setSessionID(d.$2).log(),b("ReloadPage").now()):Date.now()-e>d.$1&&b("clearInterval")(f)}).send()}},m)},d.removeOptimisticPost=function(a){var b=babelHelpers["extends"]({},d.state.videoPostsMetadata);delete b[a];var c=d.state.videoPosts;c=d.removeVideoID(c,a);d.setState({videoPostsMetadata:b,videoPosts:c});d.logEvent("video_post_removed",a)},d.removeVideoID=function(a,b){b=a.indexOf(b);a.splice(b,1);return a},d.onVideoLibraryNuxShown=function(){var a=d.state.videoLibraryNuxImpression+1;d.setState({videoLibraryNuxImpression:a});a>=l&&d.setState({shouldShowVideoLibraryNux:!1})},d.onVideoLibraryNuxDismiss=function(){d.setState({shouldShowVideoLibraryNux:!1});var a=b("XVideoLibraryNuxController").getURIBuilder().setEnum("action","dismiss").setEnum("nux_type","optimistic_post_nux").getURI();new(b("AsyncRequest"))().setURI(a).send()},d.setThumbnailURL=function(a,b){var c=babelHelpers["extends"]({},d.state.videoPostsMetadata);c[b].videoThumbnail=a;d.setState({videoPostsMetadata:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){if(!this.state.videoLibraryNuxImpressionLogged&&this.state.videoPosts.length>0&&this.state.shouldShowVideoLibraryNux){var a=b("XVideoLibraryNuxController").getURIBuilder().setEnum("action","impression").setEnum("nux_type","optimistic_post_nux").getURI();new(b("AsyncRequest"))().setURI(a).send();this.setState({videoLibraryNuxImpressionLogged:!0})}};d.componentDidMount=function(){var a=b("Arbiter").subscribe("videoUpload/complete",this.onVideoPostSubmitted),c=b("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);b("Run").onLeave(function(){return a.unsubscribe()});b("Run").onLeave(function(){return c.unsubscribe()});this.props.data.length>0&&this.initializePosts()};d.handleRequest=function(a,c){var d=this,e;e=!!((e=this.state.videoPostsMetadata[c])==null?void 0:e.isPremiereLivingRoom);a=a.payload;if(e&&!a){e=this.$4[c]||0;if(e<n){this.$4[c]=e+1;window.setTimeout(function(){return d.onEncodeFinish(c)},m);return}}if(a)if(this.props.isPagePost){if(this.state.renderedVideoPosts.includes(c))return;this.setState(function(a,b){return{renderedVideoPosts:a.renderedVideoPosts.concat([c])}});b("PagesComposer").renderStory(b("ReactDOM").findDOMNode(this),a);this.props.shouldShowVideoCaptionHeader&&b("VideoPostGenerateCaptionHeader").renderHeader(b("ReactDOM").findDOMNode(this),c)}else b("TimelineComposer").renderCapsuleBasedStory(b("ReactDOM").findDOMNode(this),a);else this.logEvent("post_removed_without_replacement",c);this.state.shouldRefreshAfterEncoding?this.refreshWhenDone(c):this.removeOptimisticPost(c)};d.renderOptimisticPost=function(a,c){if(!a.shouldRender)return g.jsx("div",{},a.videoID);var d;a.videoThumbnail?d=a.videoThumbnail:h.createObjectURL&&a&&a.videoThumbnailBlob?(d=h.createObjectURL(a.videoThumbnailBlob),this.setThumbnailURL(d,a.videoID)):d="";return g.jsx(b("OptimisticVideoPost.react"),{username:a.userDisplayName,profilePicture:a.userProfilePictureURI,metadataTitle:a.videoTitle,metadataDescription:a.videoDescription,thumbnail:d,videoID:a.videoID,videoFileUrl:a.videoFileUrl,progress:a.progress,privacySetting:a.privacySetting,isPagePost:this.props.isPagePost,isPremiere:a.isPremiere,isPremiereLivingRoom:a.isPremiereLivingRoom,shouldShowVideoEditButton:this.state.shouldShowVideoEditButton,shouldShowVideoEditDialog:this.props.shouldShowVideoEditDialog,targetID:this.props.targetID,premiereTimeSeconds:a.premiereTimeMs/1e3,progressCompleteText:this.$3,shouldShowVideoLibraryButton:this.state.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:c,onVideoLibraryNuxDismiss:this.onVideoLibraryNuxDismiss,onVideoLibraryNuxShown:this.onVideoLibraryNuxShown},a.videoID)};d.render=function(){var a=this,b=this.state.videoPostsMetadata,c=this.state.videoPosts.map(function(c,d){return a.renderOptimisticPost(b[c],d===0&&a.state.shouldShowVideoLibraryNux)});return g.jsx("ul",{children:c})};return c}(g.Component);e.exports=c}),null);
__d("OptimisticVideoPostController",["CSS","OptimisticVideoPostList.react","React","ReactDOM"],(function(a,b,c,d,e,f){var g=b("React");a={init:function(a,c,d,e,f,h,i,j,k){this._postsContainer=a,b("ReactDOM").render(g.jsx(b("OptimisticVideoPostList.react"),{data:c,targetID:d,isPagePost:e,shouldShowVideoEditButton:f,shouldShowVideoEditDialog:h,shouldShowVideoLibraryButton:i,shouldShowVideoLibraryNux:j,shouldShowVideoCaptionHeader:k}),this._postsContainer),b("CSS").show(this._postsContainer)}};e.exports=a}),null);
__d("XPageStoryComposerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page_story/composer/",{page_id:{type:"FBID"}})}),null);
__d("PageStoryComposer",["ActorURI","AsyncRequest","XPageStoryComposerController"],(function(a,b,c,d,e,f){"use strict";a={composePageStory:function(a,c){a.addEventListener("click",function(){var a=b("XPageStoryComposerController").getURIBuilder().getURI();a=b("ActorURI").create(a,c);new(b("AsyncRequest"))(a).setMethod("POST").setData({page_id:c}).send()})}};e.exports=a}),null);
__d("TimelineJumperStoryUtil",["DataStore","FBJSON"],(function(a,b,c,d,e,f){"use strict";a={getTimeFromStory:function(a){if(!a.id)return null;a=b("DataStore").get(a,"store");if(!a)return null;a=b("FBJSON").parse(a);return parseInt(a.timestamp,10)}};e.exports=a}),null);
__d("TimelineMonitorElements",["csx","Arbiter","DOMQuery","Event","Run","TimelineJumperStoryUtil","Vector","ViewportBounds","ge","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=0,k=null,l=!1;function m(){h=null,i=null,j=0,k&&k.remove(),k=null,l=!1}function n(){b("queryThenMutateDOM")(p,o,"TimelineMonitorElements/scroll")}function o(){i&&(b("Arbiter").inform(r.ELEMENT_CHANGED,i),h=i,i=null)}function p(){var a=b("ViewportBounds").getTop()+b("Vector").getScrollPosition().y,c=q(a);if(c){if(h&&h.id===c.id){j=a;return}var d=b("TimelineJumperStoryUtil").getTimeFromStory(c);if(!d)return;i={id:c.id,timestamp:d,fromAbove:j<a}}j=a}function q(a){var c=b("ge")("timeline_tab_content");if(!c)return null;c=b("DOMQuery").scry(c,"._2q8l");for(var d=0;d<c.length;d++){var e=c[d],f=b("Vector").getElementPosition(e).y+b("Vector").getElementDimensions(e).y;if(a<=f)return e}return null}var r={ELEMENT_CHANGED:"TimelineMonitorElements/elementChanged",init:function(){k||(k=b("Event").listen(window,"scroll",b("throttle")(n,100))),l||(b("Run").onLeave(m),l=!0),n()}};e.exports=r}),null);
__d("TimelineSectionTokenConstants",[],(function(a,b,c,d,e,f){"use strict";a={KEY_MONTH_POSITION:2,KEY_YEAR_POSITION:1,LAST_MONTH_OF_YEAR:12,MIN_TOKENS_PER_KEY:2,KEY_LENGTH_WITH_MONTH:3,KEY_DELIMITER:"_",RECENT_TOKEN:"recent",MONTH_TOKEN_PREFIX:"month",YEAR_TOKEN_PREFIX:"year"};e.exports=a}),null);
__d("TimelineSectionToken",["invariant","DateConsts","TimelineJumperCursorConfig","TimelineSectionTokenConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=b("DateConsts").MS_PER_SEC,i=b("TimelineJumperCursorConfig").CURSOR_DELIMITER,j=b("TimelineJumperCursorConfig").CURSOR_PREFIX,k=(a=b("TimelineSectionTokenConstants")).KEY_DELIMITER,l=a.KEY_LENGTH_WITH_MONTH,m=a.KEY_MONTH_POSITION,n=a.KEY_YEAR_POSITION,o=a.LAST_MONTH_OF_YEAR,p=a.MIN_TOKENS_PER_KEY,q=a.MONTH_TOKEN_PREFIX;function r(a){a=a.split(k);a.length>=p||g(0,4411,p.toString());return a}var s={createMonthTokenWithYearAndMonth:function(a,b){b<=12&&b>0||g(0,4410);return q.concat(k,a.toString(),k,b.toString())},createMonthTokenWithKey:function(a,b){a=s.getYearFrom(a);return s.createMonthTokenWithYearAndMonth(a,b)},getMonthFrom:function(a){a=r(a);return a.length===l?parseInt(a[m],10):o},getYearFrom:function(a){a=r(a);return parseInt(a[n],10)},getCursorFromRecentToken:function(){var a=Date.now()/h;return j.concat(i,a.toString())},getCursorFrom:function(a){var b=s.getYearFrom(a);a=s.getMonthFrom(a);b=(new Date(b,a,1).valueOf()/h-1).toString();return j.concat(i,b)}};e.exports=s}),null);
__d("ButtonGroup",["CSS","DataStore","Parent"],(function(a,b,c,d,e,f){var g="firstItem",h="lastItem";function i(a,c){a=b("Parent").byClass(a,c);if(!a)throw new Error("invalid use case");return a}function j(a){return b("CSS").shown(a)&&Array.from(a.childNodes).some(b("CSS").shown)}function k(a){var c,d,e;Array.from(a.childNodes).forEach(function(a){e=j(a),b("CSS").removeClass(a,g),b("CSS").removeClass(a,h),b("CSS").conditionShow(a,e),e&&(c=c||a,d=a)});c&&b("CSS").addClass(c,g);d&&b("CSS").addClass(d,h);b("CSS").conditionShow(a,c)}function a(a,b){b=i(b,"uiButtonGroupItem");a(b);k(b.parentNode)}c=function(){"use strict";function a(a){this._root=i(a,"uiButtonGroup"),b("DataStore").set(this._root,"ButtonGroup",this),k(this._root)}a.getInstance=function(c){c=i(c,"uiButtonGroup");var d=b("DataStore").get(c,"ButtonGroup");return d||new a(c)};return a}();Object.assign(c.prototype,{hideItem:a.bind(null,b("CSS").hide),showItem:a.bind(null,b("CSS").show),toggleItem:a.bind(null,b("CSS").toggle)});e.exports=c}),null);
__d("TimelineStickyHeader",["Animation","Arbiter","BlueBar","Bootloader","CSS","DOM","DOMQuery","Event","ProfileTabConst","ProfileTabUtils","ProfileTimelineUILogger","Style","TimelineComponentKeys","TimelineController","Vector","ViewportBounds","emptyFunction","ge","getOrCreateDOMID","nullthrows","queryThenMutateDOM"],(function(a,b,c,d,e,f){var g=200,h=358,i=48,j=!1,k,l,m,n=!1,o=0,p,q,r=!1,s={},t={VISIBLE:"TimelineStickyHeader/visible",ADJUST_WIDTH:"TimelineStickyHeader/adjustWidth",init:function(a){k=a;t.reset();k=a;l=b("DOM").find(a,"div.name");b("DOM").find(a,"div.actions");j=b("CSS").hasClass(a,"fbTimelineStickyHeaderVisible");var c,d=!1,e=!0;b("queryThenMutateDOM")(function(){var a=b("BlueBar").getBar();a&&a.offsetTop&&!b("ge")("page_admin_panel")&&b("TimelineController").getCurrentKey()!==b("ProfileTabConst").TIMELINE&&(c=b("Vector").getElementDimensions(a).y,d=!0);e=b("BlueBar").hasFixedBlueBar()},function(){d?b("Bootloader").loadModules(["StickyController"],function(b){new b(a,c).start()},"TimelineStickyHeader"):b("CSS").addClass(a,"fixed_elem"),e||b("CSS").addClass(a,"fbTimelineStickyHeaderNonFixedBlueBar"),t.updateBounds(),t.toggleVisibilityOnFocus(),b("queryThenMutateDOM")(b("emptyFunction"),function(){t.check(b("Vector").getScrollPosition().y)},"TimelineStickyHeader/afterInit"),b("TimelineController").register(b("TimelineComponentKeys").STICKY_HEADER,t)},"TimelineStickyHeader/init")},reset:function(){j=!1,k=null,l=null,s={},m&&m.remove(),m=null},toggleVisibilityOnFocus:function(){b("Event").listen(k,"focusin",function(){t.toggle(!0)}),b("Event").listen(k,"focusout",function(a){a=a.relatedTarget||null;b("DOMQuery").contains(k,a)||t.check(b("Vector").getScrollPosition().y)})},handleTabChange:function(a){var c=b("nullthrows")(k);r=b("ProfileTabUtils").tabHasStickyHeader(a);o=r?h-i:0;if(!r){t.toggle(!1,function(){b("CSS").hide(c)});return}else b("CSS").show(c)},updateBounds:function(){b("queryThenMutateDOM")(function(){k&&(p=k.offsetTop,q=k.scrollHeight)},function(){m=b("ViewportBounds").addTop(function(){return j?p+q:0})},"TimelineStickyHeader/init")},check:function(a){a=o===0||a>=o;t.toggle(a)},toggle:function(a,c){if(!k)return;if(a===j||!r&&a){c&&c();return}b("ge")("private_sharing_confirmation_bar")?b("CSS").addClass(k,"privateSharingConfirmationBar"):p=k.offsetTop;var d=a?p-q:p,e=a?p:p-q;b("Style").set(k,"top",d+"px");b("CSS").addClass(k,"fbTimelineStickyHeaderAnimating");var f=b("getOrCreateDOMID")(k);s[f]&&s[f].stop();s[f]=new(b("Animation"))(k).from("top",d).to("top",e).duration(g).ondone(function(){s[f]=null,a&&!n&&(b("ProfileTimelineUILogger").logStickyHeaderImpression(),n=!0),b("queryThenMutateDOM")(b("emptyFunction"),function(){if(!k)return;b("CSS").conditionClass(k,"fbTimelineStickyHeaderHidden",!a);k.setAttribute("aria-hidden",a?"false":"true");b("CSS").removeClass(k,"fbTimelineStickyHeaderAnimating");b("Style").set(k,"top","");t.updateBounds();b("Arbiter").inform(t.VISIBLE,a);c&&c()})}).go();j=a;j&&t.adjustWidth()},adjustWidth:function(){b("Arbiter").inform(t.ADJUST_WIDTH,l,"state")},dismissConfirmationBar:function(){k&&b("CSS").removeClass(k,"privateSharingConfirmationBar")},scrollIntoView:function(){var a;b("queryThenMutateDOM")(function(){a=b("ge")("contentArea")},function(){a&&(a.style.minHeight=window.innerHeight+o+"px");try{window.scrollTo({top:o,left:0})}catch(a){window.scrollTo(0,o)}})}};e.exports=t}),null);
__d("TimelineStickyHeaderWithJumperNav",["Arbiter","ButtonGroup","CSS","DataStore","DateConsts","DOM","Event","Parent","ProfileTabUtils","ProfileTimelineUILogger","Run","SelectorDeprecated","SubscriptionsHandler","TimelineJumperController","TimelineMonitorElements","TimelineSectionToken","TimelineSectionTokenConstants","TimelineStickyHeader","URI","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g,h=b("DateConsts").MS_PER_SEC,i=(a=b("TimelineSectionTokenConstants")).KEY_DELIMITER,j=a.KEY_LENGTH_WITH_MONTH,k=a.RECENT_TOKEN,l=a.YEAR_TOKEN_PREFIX,m=!1,n=null,o=null,p=null,q={},r=null,s=null;function t(a){if(!a.timestamp||!p)return;a=new Date(parseInt(a.timestamp,10)*h);var c=(a.getMonth()+1).toString();a=l.concat(i,a.getFullYear().toString());if(b("SelectorDeprecated").getOption(p,a)){b("SelectorDeprecated").setSelected(p,a,!0);w(a);a=q[a];a&&b("SelectorDeprecated").setSelected(a,c,!0)}else b("SelectorDeprecated").setSelected(p,k,!0),w(k)}function u(){var a=b("SelectorDeprecated").getSelectorMenu(p);b("nullthrows")(s).addSubscriptions(b("Event").listen(a,"click",function(a){return v(a)}))}function v(a){var c=a.target;if(!(c instanceof Node))return;c=b("Parent").byTag(c,"a");c=c&&b("DataStore").get(c,"key");c&&(b("ProfileTimelineUILogger").logStickyHeaderScrubberWithJumperClick(c),a.preventDefault(),w(c),b("TimelineStickyHeader").scrollIntoView(),b("TimelineJumperController").loadSection(c))}function w(a){a===k?x():y(a)}function x(){n&&n.hideItem(r)}function y(a){if(a.split(i).length===j||!r)return;a=z(a);b("DOM").insertAfter(r,a);b("CSS").hide(r);for(var c in q){var d=q[c];b("CSS").conditionShow(d,d===a)}n&&n.showItem(r)}function z(a){if(!r)return null;var c=q[a];if(!c){c=q[a]=r.cloneNode(!0);var d=b("DOM").scry(c,"li.activityLog a")[0];d&&(d.href=new(g||(g=b("URI")))(d.href).addQueryData({key:a}));d=b("TimelineSectionToken").getYearFrom(a);var e=b("DOM").scry(c,"li.monthSelector a");for(var f=0;f<e.length;f++){var h=e[f],i=h.getAttribute("data-key");h.setAttribute("data-key",b("TimelineSectionToken").createMonthTokenWithKey(a,i));new Date(d,i-1)>new Date()&&b("CSS").hide(h)}b("nullthrows")(s).addSubscriptions(b("Event").listen(c,"click",function(a){return v(a)}))}return c}function A(a){a=a.target;if(!(a instanceof Element))return;a=b("Parent").byClass(a,"itemAnchor");if(a){a=b("DataStore").get(a,"tab-key");a&&b("ProfileTimelineUILogger").logStickyHeaderNavItemWithJumperClick(a)}}function B(){m=!1,n=null,o=null,p=null,q={},r=null,s&&(s.release(),s=null)}c={init:function(a){if(m)return;m=!0;o=b("DOM").scry(a,"div.pageMenu")[0];p=b("DOM").find(a,"div.sectionMenu");n=b("ButtonGroup").getInstance(p);s=new(b("SubscriptionsHandler"))();o&&s.addSubscriptions(b("Event").listen(o,"click",function(a){return A(a)}));r=b("DOM").find(a,"div.subsectionMenu");u();s.addSubscriptions(b("Arbiter").subscribe(b("TimelineMonitorElements").ELEMENT_CHANGED,function(a,b){t(b)}),b("Arbiter").subscribe("TimelineController/sectionKeyChange",function(a,c){a=b("ProfileTabUtils").isTimelineTab(c[0]);o&&b("CSS").conditionShow(o,a);p&&b("CSS").conditionShow(p,a);if(!a)for(var d in q){c=q[d];b("CSS").hide(c)}}));b("TimelineMonitorElements").init();b("Run").onLeave(function(){return B()})}};e.exports=c}),null);
__d("FeedProfilePhotoFooter",["SubscriptionsHandler","UFICentralUpdates","URI","destroyOnUnload"],(function(a,b,c,d,e,f){var g;a=function(a,c){"use strict";var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("UFICentralUpdates").subscribe("actor-changed",function(d,e){return a.setAttribute("href",new(g||(g=b("URI")))(c).addQueryData("profile_id",e.actorID).toString())}));b("destroyOnUnload")(function(){return d.release()})};e.exports=a}),null);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","DataStore","Layer","Parent","SelectorDeprecated"],(function(a,b,c,d,e,f){function g(a,c){a=b("Parent").byClass(a,"bg_stat_elem")||b("Parent").byClass(a,"uiButtonGroup");!a&&c&&(a=b("DataStore").get(c,"toggleElement",null));a&&(c&&b("DataStore").set(c,"toggleElement",a),b("CSS").toggleClass(a,"uiButtonGroupActive"))}b("Layer").subscribe(["hide","show"],function(a,c){(c instanceof b("ContextualLayer")||c instanceof b("ContextualDialog"))&&g(c.getCausalElement(),c)});b("SelectorDeprecated").subscribe(["close","open"],function(a,b){g(b.selector)})}),null);