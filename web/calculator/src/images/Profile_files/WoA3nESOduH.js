if (self.CavalryLogger) { CavalryLogger.start_js(["v9rXM"]); }

__d("SRDevModeParams",[],(function(a,b,c,d,e,f){e.exports={items:["__spin_r","__spin_b","__spin_t","__spin_dev_mhenv"],escapeParam:"reset_spin"}}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadFBID"}],b=[{kind:"Variable",name:"id",variableName:"threadFBID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MessengerStoriesRingPresenceMontageQueryContainer_messageThread"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:b,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},c],storageKey:null},c],storageKey:null}]},params:{id:"2316808138401460",metadata:{},name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WorkChatActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setHscrollPosition=function(a){this.$1.hscroll_position=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setThreadIds=function(a){this.$1.thread_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,app_version:!0,event:!0,group_id:!0,hscroll_position:!0,message_id:!0,thread_ids:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("WorkDoNotDisturbSettingsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setOption=function(a){this.$1.option=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,option:!0,source:!0,time:!0,weight:!0};e.exports=a}),null);
__d("ChatNotificationConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1})}),null);
__d("ChatBehavior",["Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","ChatNotificationConstants","mixin"],(function(a,b,c,d,e,f){var g=b("AvailableList").getWebChatNotification&&b("AvailableList").getWebChatNotification(),h=!1;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ON_CHANGED="changed",b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.notifiesUserMessages=function(){return g!==b("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION};d.ignoresRemoteTabRaise=function(){return h};return c}(b("mixin")(b("ArbiterMixin")));var i=new a();function j(){i.inform(i.ON_CHANGED)}b("AvailableList").subscribe&&b("AvailableList").subscribe(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var a=g,c=b("AvailableList").getWebChatNotification();g=c;a!=c&&j()});b("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(a,b){h=!!b,j()});b("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(a,b){!!b,j()});e.exports=i}),null);
__d("MessengerPresenceStatusUtils",["fbt","AvailableListConstants","CurrentUser","LastActiveTimes","MercuryIDs","PresenceStatus","WorkChatAvailabilityStatusLoader"],(function(a,b,c,d,e,f,g){"use strict";a={getStatusFromCanonicalThread:function(a,c){var d=null;if(c&&c.is_canonical){a=a.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id));if(a){a.is_messenger_user?c=b("CurrentUser").isWorkUser()?g._("Workplace Chat"):g._("Messenger"):c=b("CurrentUser").isWorkUser()?g._("Workplace"):g._("Facebook");var e=null,f=!1;if(b("WorkChatAvailabilityStatusLoader").isLoaded()&&b("CurrentUser").isWorkUser()){var h=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();e={isDoNotDisturb:h.getIsDoNotDisturb(a.fbid),description:h.getDescriptionWithUserName(a.short_name,a.fbid)};f=e.isDoNotDisturb}h=b("PresenceStatus").get(a.fbid);var i,j;h!==b("AvailableListConstants").ACTIVE&&(i=b("LastActiveTimes").get(a.fbid),j=b("LastActiveTimes").getShortDisplay(a.fbid));h=h===b("AvailableListConstants").ACTIVE&&!f;d={contact:a,platform:c,isUserActive:h,availabilityStatusData:e,lastActiveTS:f?null:i,lastActive:f?null:j}}}return d}};e.exports=a}),null);
__d("MessengerComposerActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null,MOVE_DRAFT:null});a={Types:g,addToken:function(a){b("MessengerDispatcher").dispatch({type:g.ADD_TOKEN,entry:a})},moveDraftToNextThread:function(a){b("MessengerDispatcher").dispatch({type:g.MOVE_DRAFT,threadID:a})},removeToken:function(a){b("MessengerDispatcher").dispatch({type:g.REMOVE_TOKEN,entry:a})},focusComposer:function(){b("MessengerDispatcher").dispatch({type:g.FOCUS_COMPOSER})},focusTypeahead:function(){b("MessengerDispatcher").dispatch({type:g.FOCUS_TYPEAHEAD})},exitComposeState:function(){b("MessengerDispatcher").dispatch({type:g.EXIT_COMPOSE_STATE})},exitComposeStateAbandonSearch:function(){b("MessengerDispatcher").dispatch({type:g.EXIT_COMPOSE_STATE,abandon_search:!0})}};e.exports=a}),null);
__d("LinkWithHiddenURLBar.react",["Link.react","React","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.link=null,d.$5=function(a){d.link=a},d.$4=function(a){d.$6(),d.props.onFocus&&d.props.onFocus(a)},d.$2=function(a){d.$1(),d.props.onBlur&&d.props.onBlur(a)},d.$3=function(a){d.$6(),!a.metaKey&&d.props.onClick&&(d.props.onClick(a),a.preventDefault()),d.props.onAllClicks&&d.props.onAllClicks(a),b("setImmediate")(function(){return d.$1()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this.props,c=a.label;a.onBlur;a.onAllClicks;a.onClick;a.onFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","onBlur","onAllClicks","onClick","onFocus"]);return g.jsx(b("Link.react"),babelHelpers["extends"]({},a,{label:c,onBlur:this.$2,onClick:this.$3,onFocus:this.$4,linkRef:this.$5}))};d.$1=function(){if(this.link){var a=this.link;a.href&&(a.setAttribute("data-href",a.href),a.removeAttribute("href"))}};d.$6=function(){if(this.link){var a=this.link,b=a.getAttribute("data-href");b&&(a.setAttribute("href",b),a.removeAttribute("data-href"))}};return c}(g.Component);e.exports=a}),null);
__d("MessengerThreadListGridWrapper.react",["cx","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.label;return h.jsxs("div",{children:[h.jsx("h2",{className:"accessible_elem",children:a}),h.jsx("ul",{"aria-label":a,role:"grid",children:this.props.children})]})};return b}(h.PureComponent);a.propTypes={label:b("prop-types").string.isRequired};e.exports=a}),null);
__d("MessengerDeleteAllDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("messengerDeleteAllDialogReactComponent").__setRef("MessengerDeleteAllDialogBootloader.react"),placeholder:g.jsx("div",{})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MessengerMessageRequestsTypedLoggerBootloader",["Promise","Bootloader"],(function(a,b,c,d,e,f){"use strict";a={_loggerLoader:null,_loadLogger:function(){this._loggerLoader||(this._loggerLoader=new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(b){b=new b();a(b)},"MessengerMessageRequestsTypedLoggerBootloader")}));return this._loggerLoader},log:function(a,b,c,d,e,f){this._loadLogger().done(function(g){g.setAction(a).setThreadKeyList(b).setSurface(c).setFolderType(d).setEntryPoint(e).setExtraClientData(f).log()})}};e.exports=a}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/fb_iframe_target/",{gk_spoof:{type:"String"}})}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/messenger_dot_com_iframe/",{redirect_uri:{type:"String",required:!0}})}),null);
__d("MessengerSpoof",["Arbiter","DOM","JSXDOM","URI","XMessengerDotComSpoofIFrameController","XSpoofMessengerDotComIFrameController"],(function(a,b,c,d,e,f){"use strict";var g,h=6e3;function a(a){var c=b("JSXDOM").iframe({src:i().toString(),width:0,height:0});b("DOM").appendContent(document.body,c);b("Arbiter").subscribeOnce("messengerdotcom_spoof",function(){b("DOM").remove(c),a()});setTimeout(function(){b("Arbiter").inform("messengerdotcom_spoof")},h)}function i(){var a=new(g||(g=b("URI")))(document.URL),c=b("XMessengerDotComSpoofIFrameController").getURIBuilder().getURI().getQualifiedURI().toString();c=b("XSpoofMessengerDotComIFrameController").getURIBuilder().setString("redirect_uri",c).getURI();return c.setDomain(a.getDomain().replace("messenger.com","facebook.com")).setPort(a.getPort()).setProtocol("https")}e.exports={init:a}}),null);
__d("MessengerComposerState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({step:null,recipients:b("immutable").List()});a.__TCmeta={type:"MessengerComposerState"};e.exports=a}),null);
__d("MessengerComposerSteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});e.exports=a}),null);
__d("MessengerComposerStore",["EditorState","MessengerActions","MessengerBootloadedSecondarySearchLogger","MessengerComposerActions","MessengerComposerState","MessengerComposerSteps","MessengerConstants","MessengerDispatcher","MessengerEditorStateManager","MessengerSecondarySearchFunnelConstants","MessengerStore","MessengerURIStore","MessengerView","immutable","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=new(b("MessengerComposerState"))({step:b("MessengerComposerSteps").NULL,recipients:b("immutable").List()});c=(a=b("MessengerSecondarySearchFunnelConstants")).EVENTS;var h=c.CLICK_OTHER_THREAD,i=c.END,j=c.START,k=c.RESULT_SELECTED,l=c.TOKEN_REMOVED;d=a.END_ACTIONS;var m=d.ABANDON,n=d.ENTER_THREAD,o=a.CLIENTS.MESSENGER_DOT_COM,p=a.SELECTION_TYPES.ADD,q=a.ENTRY_SURFACES.COMPOSER,r=a.LOGGING_IDS.M_APP_COMPOSER;f=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerComposerStore1=g;return b}var d=c.prototype;d.getState=function(){return this.$MessengerComposerStore1};d.__onDispatch=function(a){b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var c=b("MessengerURIStore").getState().detailView,d=this.$MessengerComposerStore1.recipients,e=this.$MessengerComposerStore1.step,f=null,g=null;switch(a.type){case b("MessengerComposerActions").Types.ADD_TOKEN:if(d.some(function(b){return b.getUniqueID()===a.entry.getUniqueID()}))break;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:k,id:a.entry.getUniqueID(),query:null,surface:q,loggingID:r,selectionType:p});f=d.push(a.entry);break;case b("MessengerComposerActions").Types.REMOVE_TOKEN:var s=a.entry.getUniqueID(),t=d.findIndex(function(a){return a.getUniqueID()===s});t!==-1&&(f=d["delete"](t),b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:l,clearedAll:!1,deletedIDs:[a.entry.getUniqueID()],loggingID:r}));break;case b("MessengerComposerActions").Types.FOCUS_COMPOSER:e===b("MessengerComposerSteps").SELECT_RECIPIENTS&&(g=b("MessengerComposerSteps").COMPOSE);break;case b("MessengerComposerActions").Types.FOCUS_TYPEAHEAD:e===b("MessengerComposerSteps").COMPOSE&&(g=b("MessengerComposerSteps").SELECT_RECIPIENTS);break;case b("MessengerActions").Types.REPLACE_STATE:t=b("MessengerURIStore").getPrevState().detailView;t!==b("MessengerView").DETAIL.COMPOSE&&c===b("MessengerView").DETAIL.COMPOSE?(g=b("MessengerComposerSteps").SELECT_RECIPIENTS,b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:j,client:o,surface:q,loggingID:r})):t===b("MessengerView").DETAIL.COMPOSE&&c!==b("MessengerView").DETAIL.COMPOSE&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:h,loggingID:r});break;case b("MessengerComposerActions").Types.MOVE_DRAFT:t=a.threadID.split(":");c=t.length>1?t[1]:"";b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:c,isNewThread:!1});b("MessengerEditorStateManager").set(a.threadID,b("MessengerEditorStateManager").get(b("MessengerConstants").NEW_THREAD_KEY));break;case b("MessengerComposerActions").Types.EXIT_COMPOSE_STATE:var u=b("EditorState").createEmpty();b("setTimeout")(function(){b("MessengerEditorStateManager").set(b("MessengerConstants").NEW_THREAD_KEY,b("EditorState").forceSelection(u,u.getSelection()))},0);a.abandon_search?b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:m}):b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:i,surface:q,loggingID:r,end_reason:n,threadID:a.threadID,isNewThread:!1});g=b("MessengerComposerSteps").NULL;f=b("immutable").List();break}(f||g)&&(this.$MessengerComposerStore1=new(b("MessengerComposerState"))({step:g||e,recipients:f||d}),this.emitChange())};return c}(b("MessengerStore"));e.exports=new f()}),null);
__d("MessengerCrossIconSVGM4React.bs",["React","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.size;a=String(b("bs_belt_Option").getWithDefault(a,36))+"px";return g.jsx("svg",{children:g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),g.jsx("path",{id:"Fill-1",d:"M24.4386402,26.5608358 L18.4998126,20.6218774 L12.5614847,26.5608358 C11.9754458,27.1463881 11.0251934,27.1463881 10.4391545,26.5608358 C9.85361517,25.974784 9.85361517,25.0250103 10.4391545,24.4389584 L16.377982,18.5 L10.4391545,12.5610416 C9.85361517,11.9754893 9.85361517,11.025216 10.4391545,10.4391642 C11.0251934,9.85361194 11.9754458,9.85361194 12.5614847,10.4391642 L18.4998126,16.3786222 L24.4386402,10.4391642 C25.0246791,9.85361194 25.9744319,9.85361194 26.5604708,10.4391642 C27.1465097,11.025216 27.1465097,11.9754893 26.5604708,12.5610416 L20.6211437,18.5 L26.5604708,24.4389584 C27.1465097,25.0250103 27.1465097,25.974784 26.5604708,26.5608358 C25.9744319,27.1463881 25.0246791,27.1463881 24.4386402,26.5608358 Z",fill:"#000000"})],id:"Cancel"}),id:"cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:a,width:a,viewBox:"0 0 36 36"})}c=a;f.make=c}),null);
__d("MessengerThreadlistNewMessageRow.react",["cx","fbt","ix","Image.react","LinkWithHiddenURLBar.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerCrossIconSVGM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerView","React","ShimButton.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerCrossIconSVGM4React.bs").make,k=b("MessengerProfileImageWrapperReact.bs").jsComponent,l=b("React"),m=50,n=i("86935");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:c.$3()},c.$8=function(a){a.preventDefault(),c.props.onClose&&c.props.onClose(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("MessengerComposerStore").addListener("change",function(){var b=a.$3();a.setState({participants:b})})};d.$3=function(){var a=this;this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2);var c=b("MessengerParticipants.bs").getMultiEager(this.$4(),function(b){a.$2=null,a.setState({participants:b})}),d=c[0];c=c[1];this.$2=c;return d};d.$4=function(){return b("MessengerComposerStore").getState().recipients.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray()};d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2)};d.renderM4=function(){return l.jsx("li",{className:"_5l-3 _1ht1 _6zk9"+(this.props.isActive?" _1ht2":""),children:l.jsx(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,tabIndex:0,className:"_1ht5 _2il3 _6zka _5l-3",children:l.jsxs("div",{className:"_6zkb _7t1l _6zkc",children:[this.$6(),l.jsx("div",{className:"_1qt4 _7vuo _5l-m",children:l.jsx("div",{className:"_1qt5 _5l-3",children:l.jsx("div",{className:"_1ht6 _7st9",children:this.$7()})})}),l.jsx("div",{className:"_6zv8",children:l.jsx(b("ShimButton.react"),{className:"_23ct _6zv9"+(this.props.isActive?" _6zva":""),onClick:this.$8,children:l.jsx(j,{size:18})})})]})})})};d.render=function(){if(b("MessengerDotComAndInboxM4Check.bs").yes)return this.renderM4();else return l.jsx("li",{className:"_5l-3 _1ht1"+(this.props.isActive?" _1ht2":""),children:l.jsxs(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,className:"_1ht5 _2il3 _5l-3",children:[this.$6(),l.jsxs("div",{className:"_1qt4 _5l-m",children:[l.jsxs("div",{className:"_1qt5 _5l-3",children:[l.jsx("div",{className:"_1ht6",children:this.$7()}),l.jsx(b("ShimButton.react"),{"aria-label":h._("Close"),className:"_23ct",onClick:this.$8})]}),l.jsx("div",{className:"_1qt5 _5l-3",children:"\xa0"})]})]})})};d.$6=function(){var a=this.state.participants;return a.length>0?l.jsx("div",{className:"_1qt3 _5l-3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":""),children:l.jsx(k,{isMessengerUser:a.length===1&&a[0].is_messenger_user,size:m,showBadge:!1,children:l.jsx(b("MercuryParticipantsImage.react"),{participants:a.map(function(a){return a.id}).slice(0,3),size:m})})}):l.jsx("div",{className:"_1qt3 _5l-3",children:l.jsx(b("Image.react"),{height:m,src:n,width:m})})};d.$7=function(){return this.state.participants.length===0?h._("New message"):h._("New message to {List of message recipients}",[h._param("List of message recipients",new(b("MercuryParticipantListRenderer"))().renderParticipantList(this.state.participants.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))])};d.$5=function(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE)};return c}(l.PureComponent);a.propTypes={isActive:b("prop-types").bool,onClose:b("prop-types").func.isRequired};e.exports=a}),null);
__d("MNAdsMessageRequestUtils",["fbt","AdPageMessageTypeEnum","MessagingTag","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");e.exports={isAdsMessageRequest:function(a){return a.folder==b("MessagingTag").PENDING&&!!a.last_message_type&&a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD},renderAdsMessageRequestStatus:function(){var a=g._("Sponsored");return h.jsx("span",{children:a})}}}),null);
__d("MessengerBlockDialogReact.re",["MessengerBlockDialogReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerBlockDialogReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerConfirmBlockThreadDialogReact.re",["MessengerConfirmBlockThreadDialogReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerConfirmBlockThreadDialogReact.bs").make;f.make=a}),null);
__d("MessengerConfirmLeaveGroupDialogReact.bs",["bs_curry","React","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c,d=a.isViewerAdmin,e=a.onLeave;a=a.thread;var f=function(a){b("bs_curry")._1(e,0);return b("MessengerDialogs.bs").removeDialog(void 0,0)},h=b("MessengerAdminGroupUtils").getLeaveGroupBodyText(d,a),i=b("MessengerAdminGroupUtils").getLeaveGroupButtonText(d,a);d=b("MessengerAdminGroupUtils").getLeaveGroupTitleText(d,a);return(a=b("ReasonReact.bs")).element(void 0,void 0,(c=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[g.createElement(b("MessengerDialogHeaderReact.bs").make,{children:d}),g.createElement(b("MessengerDialogBodyReact.bs").make,{children:h}),a.element(void 0,void 0,c.Footer.make(void 0,void 0,[a.element(void 0,void 0,c.CancelButton.make(void 0,[])),a.element(void 0,void 0,c.Button.make(void 0,i,void 0,"danger",f,0,void 0,void 0,void 0,[]))]))]))}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MessengerConfirmLeaveGroupDialogReact.re",["MessengerConfirmLeaveGroupDialogReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerGalahadGating.bs",["WorkGalahadSettings","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("WorkGalahadSettings").isGalahadEnabled)return b("MessengerEnvironment").facebookdotcom;else return!1}f.isGalahadUIEnabled=a}),null);
__d("MessengerPinIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){return g.jsx("div",{children:g.jsxs("svg",{children:[g.jsx("title",{children:"PinChatIcon"}),g.jsx("path",{id:"Fill-1",d:"M13.9355,-3.55271368e-15 C13.4005,-3.55271368e-15 12.8985,0.208 12.5205,0.586 L11.5435,1.562 C11.0045,2.102 10.8195,2.886 11.0605,3.609 L11.3765,4.559 L8.5715,7.364 L7.2425,7.364 C5.3635,7.364 3.5955,8.096 2.2675,9.425 C1.9845,9.707 1.8285,10.084 1.8285,10.485 C1.8285,10.886 1.9845,11.263 2.2675,11.546 L9.3385,18.617 C9.6225,18.9 9.9985,19.057 10.3995,19.057 C10.8005,19.057 11.1775,18.9 11.4605,18.617 C12.7895,17.289 13.5205,15.521 13.5205,13.643 L13.5205,12.313 L16.3265,9.508 L17.2755,9.824 C17.4795,9.893 17.6925,9.927 17.9075,9.927 C18.4415,9.927 18.9445,9.719 19.3225,9.341 L20.2985,8.363 C20.6765,7.986 20.8845,7.484 20.8845,6.949 C20.8845,6.415 20.6765,5.913 20.2985,5.535 L15.3495,0.586 C14.9715,0.208 14.4695,-3.55271368e-15 13.9355,-3.55271368e-15 M13.9355,1 C14.1915,1 14.4475,1.098 14.6425,1.293 L19.5915,6.242 C19.9825,6.633 19.9825,7.267 19.5915,7.656 L18.6155,8.634 C18.4235,8.824 18.1675,8.927 17.9075,8.927 C17.8015,8.927 17.6955,8.91 17.5915,8.876 L16.6425,8.56 C16.5395,8.525 16.4325,8.508 16.3275,8.508 C16.0655,8.508 15.8105,8.61 15.6195,8.801 L12.8135,11.606 C12.6255,11.794 12.5205,12.049 12.5205,12.313 L12.5205,13.643 C12.5205,15.243 11.8845,16.778 10.7525,17.91 C10.6555,18.008 10.5275,18.057 10.3995,18.057 C10.2715,18.057 10.1435,18.008 10.0455,17.91 L2.9745,10.839 C2.7795,10.644 2.7795,10.327 2.9745,10.132 C4.1065,9 5.6415,8.364 7.2425,8.364 L8.5715,8.364 C8.8355,8.364 9.0905,8.259 9.2785,8.071 L12.0835,5.266 C12.3515,4.998 12.4455,4.602 12.3255,4.242 L12.0085,3.293 C11.8895,2.934 11.9825,2.538 12.2505,2.27 L13.2285,1.293 C13.4235,1.098 13.6795,1 13.9355,1",fill:b}),g.jsx("path",{id:"Fill-3",d:"M0.1465,20.7383 C-0.0485,20.5433 -0.0485,20.2263 0.1465,20.0313 L4.3885,15.7883 C4.5835,15.5933 4.9015,15.5933 5.0965,15.7883 C5.2915,15.9833 5.2915,16.3013 5.0965,16.4963 L0.8535,20.7383 C0.6585,20.9333 0.3415,20.9333 0.1465,20.7383",fill:b})],viewBox:"0 0 22 22"}),className:a})}f.make=a}),null);
__d("MessengerThreadImageReact.re",["MessengerThreadImageReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerThreadImageReact.bs").jsComponent;f.jsComponent=a}),null);
__d("MessengerDeleteDialogReact.bs",["fbt","bs_block","bs_curry","React","gkx","CurrentUser","ReasonReact.bs","MessagingTag","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("ReasonReact.bs").reducerComponent("MessengerDeleteDialogReact");function a(a,c,d,e,f,j,k){return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:i.didMount,didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(i){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,i.state.shown,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Delete Conversation")}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:b("CurrentUser").isWorkUser()?g._("Deleting message history cannot be undone. You will still receive any new messages in this chat."):g._("This will permanently delete the conversation history.")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Delete"),void 0,"danger",function(a){b("bs_curry")._1(j,0);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])),!c&&a===b("MessagingTag").INBOX?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,b("CurrentUser").isWorkUser()?g._("Hide"):!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Hide Conversation"):g._("Archive"),void 0,"danger",function(a){b("bs_curry")._1(e,a);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])):a===b("MessagingTag").PENDING?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,d?g._("Ignore"):g._("Block"),void 0,"danger",function(a){b("bs_curry")._1(f,0);return b("bs_curry")._1(i.send,0)},0,void 0,void 0,void 0,[])):null]))]))},initialState:function(a){return{shown:!0}},retainedProps:i.retainedProps,reducer:function(a,c){return b("bs_block").__(0,[{shown:!1}])},jsElementWrapped:i.jsElementWrapped}}f.component=i;f.make=a}),null);
__d("MessengerDotsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsx("g",{children:a.jsx("path",{id:"Fill-1",d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z"}),id:"Page-1",fill:"#000000"}),id:"dots-3-horizontal",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerIgnoreDialogReact.bs",["cx","fbt","bs_curry","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){var c=a.onIgnore,d=a.onToggle,e=a.contact,f=a.threadID;a=a.isGroupChat;var g=function(a){b("bs_curry")._1(c,0);return b("bs_curry")._1(d,!1)};e=e!==void 0?b("bs_caml_option").valFromOption(e).short_name:void 0;if(!(f==null)){f=new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_clicked").setThreadID(f).setPlatform("messengerdotcom");f.log()}return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:a?h._("Ignore group?"):h._("Ignore this conversation?")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{children:i.jsx("div",{children:a?h._("You won't be notified when someone messages this group, and the group will move to Filtered Messages. We won't tell anyone in the group that the messages have been ignored."):h._("You won't be notified when {short_name_or_description} messages you directly, and the conversation will move to Filtered Messages. We won't tell {sameParam} that the messages have been ignored.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(e,h._("this person"))),h._param("sameParam",b("bs_belt_Option").getWithDefault(e,h._("this person")))]),className:"_1q73"})}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Ignore Messages"),void 0,"danger",g,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onIgnore:a.onIgnore,onToggle:a.onToggle,threadID:a.threadID,isGroupChat:a.isGroupChat};a=b("bs_caml_option").nullable_to_opt(a.contact);a!==void 0&&(c.contact=b("bs_caml_option").valFromOption(a));return j(c)}c=b("bs_belt_Option").getWithDefault;d=j;f.$pipe$question=c;f.make=d;f.jsComponent=a}),null);
__d("MessengerP2BFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={bootloadOpenFRXDialog:function(a){b("Bootloader").loadModules(["MessengerP2BFRXUtils","FRXEntryPoint","NFXStoryLocation"],function(b,c,d){b.openFRXDialog(a,d.MESSENGER_P2B_DIRECT_THREAD_DETAILS,c.REPORT_BUTTON)},"MessengerP2BFRXBootloaderUtils")}};e.exports=a}),null);
__d("MessengerContactListReact.re",["react","MessengerContactList.react","bs_curry"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=b("MessengerContactList.react");f.makeTypeChecked=i;a=function(a){var c={actionsClass:a.actionsClass,admins:a.admins,className:a.className,contactAdapter:a.contactAdapter,disableRole:a.disableRole,extraActionsEnabled:a.extraActionsEnabled,listSections:a.listSections,onAction:a.onAction==null?a.onAction:function(c,d){c=b("bs_curry")._2(a.onAction,c,d);return c},onSelect:a.onSelect==null?a.onSelect:function(c,d){c=b("bs_curry")._2(a.onSelect,c,d);return c},rowClassName:a.rowClassName,viewer:a.viewer,thread:a.thread,children:a.children};c=h.createElement(i,c);return c};f.make=a}),null);
__d("WorkChatReportParticipantDialogReact.bs",["cx","fbt","React","immutable","MercuryIDs","FantaFRXUtil","ImmutableObject","MessengerDialogs.bs","MessengerDialog.react","MercuryParticipantTypes","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return new(b("ImmutableObject"))({alias:a.vanity,uid:a.id,photo:a.image_src,title:a.name,type:a.user_type,isMessengerUser:a.is_messenger_user,href:a.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:a.work_foreign_entity_info})}function a(a){var c=a.participants,d=a.thread,e=a.viewer;a=function(a,c){b("FantaFRXUtil").FRXClicked(d.thread_id,!0,a.id);return b("MessengerDialogs.bs").removeAllDialogs(0)};c=c.filter(function(a,c,d){if(a==null||a.user_type===b("MercuryParticipantTypes").PAGE)return!1;else{c=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(c==null)return!1;else return c!==e}}).toArray();var f=i.jsxs(i.Fragment,{children:[i.jsx(b("MessengerDialogCancelButton.react"),{}),i.createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Report User")}),i.jsx("div",{className:"_8hif"})]});return i.jsxs(b("MessengerDialog.react"),{className:"_84gd",type:"default",width:350,children:[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:f}),i.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_84ge",children:i.jsx(b("MessengerContactListReact.re").make,{contactAdapter:j,disableRole:!0,extraActionsEnabled:!0,listSections:b("immutable").OrderedMap([[[null],c]]),onSelect:a,rowClassName:"_84gf",viewer:e,thread:d})})]})}c=a;d=a;f.fromMercuryParticipant=j;f.make=c;f.jsComponent=d}),null);
__d("WorkGalahadQuickChatActions",["MercuryIDs","WorkGalahadBeeperActions","WorkGalahadBeeperStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hide"})}function c(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/close"})}function d(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showCompose"})}function f(a){if(!b("MercuryIDs").isValidThreadID(a))return;b("WorkGalahadBeeperStore").getChatBeeps()[a]&&b("WorkGalahadBeeperActions").xoutBeeper(a);b("WorkGalahadDispatcher").dispatch({type:"quickChat/openThreadID",threadID:a})}function g(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showInbox"})}function h(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hideInbox"})}e.exports={hide:a,close:c,openThreadID:f,showCompose:d,showInbox:g,hideInbox:h}}),null);
__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","Keys","bs_block","bs_curry","React","gkx","bs_caml_obj","QE2Logger","immutable","JSResource","MercuryIDs","bs_caml_option","CurrentUser","ReasonReact.bs","joinClasses","MessagingTag","MessengerDialogs.bs","BootloaderResource","MessengerPageUtils.bs","MessengerMenu.react","MessengerParticipants.bs","MessengerGalahadGating.bs","MessengerAdminGroupUtils","MessengerMuteDialogReact.bs","MessengerBlockDialogReact.bs","MessengerDeleteDialogReact.bs","MessengerIgnoreDialogReact.bs","MessengerPopoverMenu.react","MessengerDotsIconSVGM4React.bs","MessengerFRXBootloaderUtils","WorkGalahadQuickChatActions","MessengerDotComAndInboxM4Check.bs","MessengerP2BFRXBootloaderUtils","WorkChatReportParticipantDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("JSResource")("WorkChatHideDialogReact.bs").__setRef("MessengerThreadlistRowActionsReact.bs");function k(a,b,c,d){return{onIgnore:a,onArchive:b,onToggle:c}}function l(a){return i.createElement(b("BootloaderResource").read(j).make,a)}d={reasonResource:j,makeProps:k,make:l};function m(a,c,d){if(!b("CurrentUser").isWorkUser()&&!c&&!a.is_archived&&a.folder!==b("MessagingTag").OTHER)if(d)return!0;else if(a.folder===b("MessagingTag").INBOX)return b("MercuryIDs").isGroupChat(a.thread_id);else return!1;else return!1}function n(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(void 0,0)}function o(a){a.preventDefault();a.stopPropagation();return 0}var p=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),q="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":""),r="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+" _4-0i"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":"");function a(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(a.other_user_fbid);return 0}function s(a){var c=a.is_canonical,d=b("CurrentUser").isWorkUser();if(c||!d){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id);return 0}else return b("MessengerDialogs.bs").showDialog(function(c){return i.createElement(b("WorkChatReportParticipantDialogReact.bs").make,{participants:b("immutable").OrderedMap(a.participants.map(function(a){return[a,b("MessengerParticipants.bs").getNow(a)]})),thread:a,viewer:b("CurrentUser").getID()})})}function c(a){b("MessengerFRXBootloaderUtils").bootloadEmptyThreadFRXDialog(a.thread_id);return 0}function t(a,c,d,e,f,g,j,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,aa){var Q=a!==void 0?a:"",R=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDeleteDialogReact.bs").make(P.folder,P.is_archived,d,v,H,w,[]))})},S=function(a){if(f)return b("bs_curry")._1(E,0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(A,[]))})},T=function(a){if(u)if(F!==void 0)return b("bs_curry")._1(F,0);else return 0;else if(B!==void 0)return b("bs_curry")._1(B,0);else return 0},U=function(a){if(j)return b("bs_curry")._1(y,0);else return b("bs_curry")._1(z,0)},V=function(a){return b("MessengerDialogs.bs").showDialog(function(a){a={onIgnore:G,onToggle:n,threadID:P.thread_fbid,isGroupChat:b("MercuryIDs").isGroupChat(P.thread_id)};c!==void 0&&(a.contact=b("bs_caml_option").valFromOption(c));return i.createElement(b("MessengerIgnoreDialogReact.bs").make,a)})},W=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return i.jsx(l,k(G,v,n,0))})},X=function(a){if(t)return b("bs_curry")._1(I,0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(H,c,P.thread_fbid,[]))})},Y=function(a){return b("MessengerPageUtils.bs").toggleBlock(P,t)},Z=function(a){return s(P)},ba=function(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(P.other_user_fbid);return 0},$=function(a){return{handleIgnoreClick:V,handleBlockClick:X,handleBlockPageClick:Y,handleWorkHideClick:W,handleDeleteClick:R,handleMarkReadClick:U,handleMuteClick:S,handlePinClick:T,handleReportPageThread:ba,handleReportThread:Z}};return{debugName:p.debugName,reactClassInternal:p.reactClassInternal,handedOffState:p.handedOffState,getDerivedStateFromProps:p.getDerivedStateFromProps,didMount:p.didMount,didUpdate:p.didUpdate,willUnmount:p.willUnmount,shouldUpdate:function(a){var b=a.newSelf;a=a.oldSelf;if(b.retainedProps||b.retainedProps!==a.retainedProps)return!0;else return b.state!==a.state},render:function(a){var c=a.state;b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",b("CurrentUser").getID());if(g){var k=u?h._("Unpin"):h._("Pin"),l=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(P);l=l?P.participants.length===1?h._("Delete Group and Chat"):h._("Leave Group and Chat"):e?d?h._("Leave Chat"):h._("Leave Room"):h._("Leave Group");var n=h._("Ignore Messages"),p=t?h._("Unblock Messages"):h._("Block Messages"),s=t?h._("Turn On Messages"):h._("Turn Off Messages"),w=b("bs_caml_obj").caml_equal(P.other_user_fbid,b("CurrentUser").getID()),y=P.message_count===0,z=P.thread_id,A=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),B=M===!0;if(B){var D={label:h._("Rename")};C!==void 0&&(D.onclick=b("bs_caml_option").valFromOption(C));D=i.jsx(b("MessengerMenu.react").Item,D)}else D=null;if(J){l={label:l};x!==void 0&&(l.onclick=b("bs_caml_option").valFromOption(x));l=i.jsx(b("MessengerMenu.react").Item,l)}else l=null;A=i.jsxs(b("MessengerMenu.react"),{children:[A?i.jsx(b("MessengerMenu.react").Item,{label:h._("Open Quick Chat"),onclick:function(a){b("WorkGalahadQuickChatActions").openThreadID(z);return 0}}):null,D,B?i.jsx(b("MessengerMenu.react").Separator,{}):null,L===!0?i.jsx(b("MessengerMenu.react").Item,{label:k,onclick:c.handlePinClick}):null,i.jsx(b("MessengerMenu.react").Item,{label:f?h._("Unmute"):h._("Mute"),onclick:c.handleMuteClick}),i.jsx(b("MessengerMenu.react").Separator,{}),l,P.is_archived||P.folder!==b("MessagingTag").INBOX?null:i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?h._("Hide"):h._("Archive"),onclick:b("CurrentUser").isWorkUser()?W:v}),i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Delete Message History"):h._("Delete"),onclick:c.handleDeleteClick}),i.jsx(b("MessengerMenu.react").Separator,{}),P.is_archived?null:i.jsx(b("MessengerMenu.react").Item,{label:j?h._("Mark as Read"):h._("Mark as Unread"),onclick:c.handleMarkReadClick}),w||y||!P.can_viewer_report?null:N===!0?i.jsx(b("MessengerMenu.react").Item,{label:h._("Something's Wrong"),onclick:c.handleReportPageThread}):i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Report Chat"):h._("Something's Wrong"),onclick:c.handleReportThread}),m(P,t,K)?i.jsx(b("MessengerMenu.react").Item,{label:n,onclick:c.handleIgnoreClick}):null,K?i.jsx(b("MessengerMenu.react").Item,{label:p,onclick:c.handleBlockClick}):b("MessengerPageUtils.bs").isPageThread(P)?i.jsx(b("MessengerMenu.react").Item,{label:s,onclick:c.handleBlockPageClick}):null]});D=Q===""?r:b("joinClasses")(Q,r);return i.jsx("div",{children:i.jsx(b("MessengerPopoverMenu.react"),{disableArrowKeyActivation:!0,isOpen:g,menu:A,onHide:function(c){return b("bs_curry")._1(a.send,1)},ref:function(c){return b("bs_curry")._1(a.send,[c==null?void 0:b("bs_caml_option").some(c)])},children:i.jsx("div",{children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null,ref:"button","aria-label":h._("Conversation actions"),className:D,role:"button",tabIndex:0,onClick:o})}),className:"_3d85"})}else{B=Q===""?q:b("joinClasses")(Q,q);return i.jsx("div",{children:i.jsx("div",{children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null,ref:"button","aria-label":h._("Conversation actions"),className:B,role:"button",tabIndex:O,onKeyUp:function(c){return b("bs_curry")._1(a.send,c.keyCode===b("Keys").RETURN?0:2)},onClick:function(c){return b("bs_curry")._1(a.send,0)}}),className:"_3d85"})}},initialState:$,retainedProps:g,reducer:function(a,c){if(typeof a==="number")switch(a){case 0:return b("bs_block").__(2,[$(0),function(a){return b("bs_curry")._1(D,!0)}]);case 1:return b("bs_block").__(1,[function(a){return b("bs_curry")._1(D,!1)}]);case 2:return 0}else{c=a[0];if(c!==void 0){var d=b("bs_caml_option").valFromOption(c);return b("bs_block").__(1,[function(a){return d.showPopover()}])}else return 0}},jsElementWrapped:p.jsElementWrapped}}e=b("ReasonReact.bs").wrapReasonForJs(p,function(a){var c,d=a.tabIndex;return t((c=b("bs_caml_option")).nullable_to_opt(a.className),c.nullable_to_opt(a.contact),a.isGroupChat,a.isJoinableThread,a.isMuted,a.isOpen,a.isUnread,a.isBlocked,a.isPinned,a.onArchive,a.onDelete,c.nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,c.nullable_to_opt(a.onRename),a.onToggle,a.onUnmute,a.onUnpin,a.onIgnore,a.onBlock,a.onUnblock,a.showLeaveGroup,a.showBlock,c.nullable_to_opt(a.showPin),c.nullable_to_opt(a.showRename),c.nullable_to_opt(a.showReport),d==null?-1:d,a.thread,[])});f.WorkChatHideDialogReact=d;f.shouldRenderIgnoreMessagesButton=m;f.handleReasonDialogToggle=n;f.handleClick=o;f.component=p;f.actionButtonClassesClosed=q;f.actionButtonClassesOpen=r;f.handleReportPageThread=a;f.handleReportThread=s;f.handleReportEmptyThread=c;f.make=t;f.jsComponent=e}),null);
__d("MessengerThreadlistRowPendingThreadButtonsReact.bs",["cx","fbt","React","Bootloader","MercuryIDs","CurrentUser","MessagingTag","MessengerDialogs.bs","MercuryThreadActions","MessengerButtonReact.bs","MessengerMessageRequestsTypedLogger.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.onBlock,d=a.onDelete,e=a.onToggle,f=a.thread,g=b("MercuryIDs").getThreadKeyfromThreadIDUserID(f.thread_id,b("CurrentUser").getID()),j=function(a){a.preventDefault();a.stopPropagation();b("MercuryThreadActions").get().changeFolder(f.thread_id,b("MessagingTag").INBOX);b("MessengerMessageRequestsTypedLogger.bs").make(0).setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(f.thread_id)).setFolderType("pending").setThreadKey(g).setEntryPoint("inbox_banner").log();return 0},k=function(a){a.preventDefault();a.stopPropagation();b("Bootloader").loadModules(["MessengerDeclineDialogReact.bs"],function(a){var h=b("MercuryIDs").isGroupChat(f.thread_id);b("MessengerDialogs.bs").showDialog(function(b){return i.jsx(a.make,{onBlock:c,onDelete:d,onToggle:e,isGroupChat:h,thread:f})});b("MessengerMessageRequestsTypedLogger.bs").make(0).setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(f.thread_id)).setFolderType("pending").setThreadKey(g).setEntryPoint("inbox_banner").log();return 0},"MessengerThreadlistRowPendingThreadButtonsReact.bs");return 0};a=function(a){return i.jsx(b("MessengerButtonReact.bs").make,{onClick:j,className:"_3yvh",label:h._("Accept"),type:0})};var l=function(a){return i.jsx(b("MessengerButtonReact.bs").make,{onClick:k,className:"_3yvh _1d-z",label:h._("Decline"),type:2})};return i.jsxs("div",{children:[a(0),l(0)],className:"_5l-3"})}c=a;f.make=c}),null);
__d("MessengerThreadlistRowPendingThreadButtonsReact.re",["MessengerThreadlistRowPendingThreadButtonsReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerThreadlistRowPendingThreadButtonsReact.bs").make;f.make=a}),null);
__d("MessengerThreadlistRowSeenHeadReact.bs",["cx","Image.bs","MercuryIDs","bs_caml_option","ReasonReact.bs","joinClasses","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c,d,e){var f=d.snippet_sender;if(e!==void 0){e=b("bs_caml_option").valFromOption(e);if(e.author===a&&c.watermark>=e.timestamp&&!b("MessengerMessage.bs").isSending(e))return!b("MessengerMessage.bs").hasError(e);else return!1}else if(!(f==null)&&f===a)return c.watermark>=d.timestamp;else return!1}function i(a){var c=a.className,d=a.isHidden,e=a.lastMessage,f=a.participants,g=a.readReceipts,i=a.thread;a=a.viewer;c=c!==void 0?c:"";var j=i.is_canonical,k=i.other_user_fbid;if(d!==void 0&&j&&!(k==null||d)){j=b("MercuryIDs").getParticipantIDFromUserID(a);d=b("MercuryIDs").getParticipantIDFromUserID(k);a=g.get(d);k=f.get(d);if(!(k==null)&&!(a==null)&&h(j,a,i,e))return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(c,"_2_a2"),void 0,void 0,void 0,k.image_src,void 0,k.name,void 0,void 0,[]));else return null}else return null}function a(a){var c={participants:a.participants,readReceipts:a.readReceipts,thread:a.thread,viewer:a.viewer},d=b("bs_caml_option").nullable_to_opt(a.className);d!==void 0&&(c.className=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.isHidden);d!==void 0&&(c.isHidden=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.lastMessage);d!==void 0&&(c.lastMessage=b("bs_caml_option").valFromOption(d));return i(c)}c=i;f.shouldRender=h;f.make=c;f.jsComponent=a}),null);
__d("MessengerThreadlistWorkDenseMode",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({QUICK_CHAT:null,TEAMWORK:null});c=Object.freeze(a);e.exports=c}),null);
__d("WorkGalahadChannelStatusBadge.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var b=a.canToggle,c=a.isNested;c=c===void 0?!1:c;var d=a.onClick;a=a.unread;var e=j({canToggle:b,unread:a});return i.jsx("div",{"aria-label":e,className:(c?"":"_2ph-")+(a?"":" _1qum")+(a?" _1qun":"")+(b?" _1quo":""),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":e,onClick:b?function(a){a.stopPropagation(),a.preventDefault(),d&&d()}:void 0,role:b?"button":void 0,children:i.jsx("div",{className:"_1qvo"})})}function j(a){var b=a.canToggle;a=a.unread;return!b?null:a?h._("Mark as Read"):h._("Mark as Unread")}e.exports=a}),null);
__d("WIGDeferredPopoverTrigger.react",["CometDeferredPopoverTrigger.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometDeferredPopoverTrigger.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WIGInteractiveElementContext.react",["React"],(function(a,b,c,d,e,f){a=b("React");e.exports=a.createContext({hovered:!1,focused:!1,pressed:!1})}),null);
__d("FocusTable.react",["FocusManager.react","React","ReactKeyboardEvent.react","react","setElementCanTab","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){var g,h=b("FocusManager.react").focusElement;c=b("React");var i=c.useContext,j=c.useRef,k=b("ReactKeyboardEvent.react").useKeyboard,l=g||(g=b("react")),m=5;function n(a,c,d){if(c){c=c.scopeRef.current;if(c!==null){c=c.DO_NOT_USE_queryFirstNode(a);c!==null&&(b("setElementCanTab")(c,!0),h(c),d.preventDefault(),d.stopPropagation())}}}function o(a,b,c,d,e){b=b.getChildContextValues(d).filter(function(a){return a&&a.disabled!==!0});if(b.length>0){d=0;for(var f=0;f<b.length;f++){var g=b[f];if(g){d+=g&&g.colSpan||1;if(d>c){n(a,g,e);return}}}n(a,b[b.length-1],e)}}function p(a,b){b=(a=a.getChildContextValues(b).filter(function(a){return a&&a.disabled!==!0}))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function q(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function r(a,b,c){b=b.getChildContextValues(c).filter(function(a){return a&&a.disabled!==!0});if(b.length>0){c=q(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function s(a,b,c,d){if(a&&b){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(c);c=[];for(var e=0;e<a.length;e++){var f=a[e];if(f){f=f.current;f&&(f.getChildContextValues(d).every(function(a){return a&&a.disabled===!0})||c.push(f))}}if(c.length>0){f=c.indexOf(b);return[c,f]}}}return[null,-1]}function t(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var c=l.unstable_createScope(),d=l.createContext(null),e=l.createContext(null),f=l.createContext(null);function g(a){var b=a.children,e=a.wrapX,f=a.wrapY,g=a.wrapXToNextLine,h=a.tabScopeQuery,i=a.allowModifiers;a=a.pageJumpSize;a=a===void 0?m:a;var k=j(null);return l.jsx(d.Provider,{value:{scopeRef:k,wrapXToNextLine:g,wrapX:e,wrapY:f,tabScopeQuery:h,allowModifiers:i,pageJumpSize:a},children:l.jsx(c,{ref:k,children:b})})}function h(a){a=a.children;var b=j(null);return l.jsx(e.Provider,{value:b,children:l.jsx(c,{ref:b,children:a})})}function q(g){var h=g.children,m=g.colSpan,q=g.disabled,u=i(d),v=i(e),w=j(null);g=k(w,{onKeyDown:function(c){var d=w.current;if(d===null)return;var g=c.key;if(g==="Tab"&&u){var h=u.tabScopeQuery,i=u.scopeRef.current;if(h&&i){var j=document.activeElement;i=i.DO_NOT_USE_queryAllNodes(h);if(i!==null)for(var h=0;h<i.length;h++){var k=i[h];k!==j?b("setElementCanTab")(k,!1):b("setElementCanTab")(k,!0)}}return}if(t(c)&&u){k=u.allowModifiers;if(k!==!0)return}j=c.ctrlKey||c.metaKey;if(v===null)return;h=v.current;if(h===null)return;switch(g){case"Home":i=r(d,h,f);k=i[0];g=i[1];i=s(u,h,e,f);var l=i[0];i=i[1];if(k!==null&&l!==null)if(j){if(i!==0||g!==0){k=l[0];o(a,k,0,f,c)}}else if(g!==0){k=l[i];o(a,k,0,f,c)}return;case"End":g=r(d,h,f);l=g[0];i=g[1];k=s(u,h,e,f);g=k[0];k=k[1];if(l!==null&&g!==null)if(j){if(k!==g.length-1||i!==l.length-1){k=g[g.length-1];g=k.getChildContextValues(f).filter(function(a){return a&&a.disabled!==!0});g.length>0&&n(a,g[g.length-1],c)}}else i!==l[l.length-1]&&n(a,l[l.length-1],c);return;case"ArrowUp":k=r(d,h,f);g=k[0];i=k[2];if(g!==null&&u){l=s(u,h,e,f);k=l[0];g=l[1];if(k!==null)if(g===0){l=u.wrapY;if(l===!0&&!j){l=k[k.length-1];o(a,l,i,f,c)}}else if(j){l=k[0];o(a,l,i,f,c)}else{l=k[g-1];o(a,l,i,f,c)}}return;case"PageUp":k=r(d,h,f);g=k[0];l=k[2];i=s(u,h,e,f);k=i[0];i=i[1];if(g!==null&&k!==null&&u&&i!==0){g=u.pageJumpSize;k=k[Math.max(0,i-g)];o(a,k,l,f,c)}return;case"ArrowDown":i=r(d,h,f);g=i[0];k=i[2];l=s(u,h,e,f);i=l[0];l=l[1];if(g!==null&&i!==null&&u&&l!==-1)if(l===i.length-1){g=u.wrapY;if(g===!0&&!j){g=i[0];o(a,g,k,f,c)}}else if(j){g=i[i.length-1];o(a,g,k,f,c)}else{j=i[l+1];o(a,j,k,f,c)}return;case"PageDown":g=r(d,h,f);i=g[0];l=g[2];j=s(u,h,e,f);k=j[0];g=j[1];if(i!==null&&k!==null&&u&&g!==k.length-1){j=u.pageJumpSize;i=k[Math.min(k.length-1,g+j)];o(a,i,l,f,c)}return;case"ArrowLeft":k=r(d,h,f);g=k[0];j=k[1];i=s(u,h,e,f);l=i[0];k=i[1];if(g!==null&&l!==null&&u)if(j>0)n(a,g[j-1],c);else if(j===0){i=u.wrapX;j=u.wrapXToNextLine;i===!0?n(a,g[g.length-1],c):j===!0&&l[k-1]&&o(a,l[k-1],p(l[k-1],f),f,c)}return;case"ArrowRight":i=r(d,h,f);g=i[0];j=i[1];l=s(u,h,e,f);k=l[0];d=l[1];if(g!==null&&k!==null&&u&&j!==-1)if(j===g.length-1){i=u.wrapX;h=u.wrapXToNextLine;i===!0?n(a,g[0],c):h===!0&&k[d+1]&&o(a,k[d+1],0,f,c)}else n(a,g[j+1],c);return}}});b("useLayoutEffect_SAFE_FOR_SSR")(function(){window.requestAnimationFrame(function(){var c=w.current;if(c!=null){c=c.DO_NOT_USE_queryFirstNode(a);c!==null&&b("setElementCanTab")(c,!q)}})},[q]);return l.jsx(f.Provider,{value:{scopeRef:w,disabled:q,colSpan:m},children:l.jsx(c,{DEPRECATED_flareListeners:g,ref:w,children:h})})}return[g,h,q]}e.exports={createFocusTable:a}}),null);
__d("WorkGalahadChannelFocusableTable.react",["FocusTable.react","TabbableScopeQuery.react"],(function(a,b,c,d,e,f){"use strict";a=b("FocusTable.react").createFocusTable;c=a(b("TabbableScopeQuery.react"));d=c[0];f=c[1];a=c[2];e.exports={WorkGalahadChannelFocusableTable:d,WorkGalahadChannelFocusableTableRow:f,WorkGalahadChannelFocusableTableCell:a,WorkGalahadChannelFocusableScopeQuery:b("TabbableScopeQuery.react")}}),null);
__d("WorkGalahadUIChannelMetaButton.react",["ix","React","WIGCircleButton.react","WIGInteractiveElementContext.react","WorkGalahadChannelFocusableTable.react","WorkGalahadHoverHelper","fbicon","stylex","useFocusState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useContext,k=b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,l=b("WorkGalahadHoverHelper").useHover;function a(a,c){var d=a.forceVisible,e=a.icon;e=e===void 0?b("fbicon")._(g("484385"),12):e;var f=a.label;a=a.onPress;var m=j(b("WIGInteractiveElementContext.react")),n=m.focused;m=m.hovered;var o=b("useFocusState")(),p=o[0],q=o[1];o=o[2];var r=l(),s=r[0];r=r[1];var t=r.onMouseEnter;r=r.onMouseLeave;return i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"opacity-1":"fchkd3bi","position-1":"i8ovu4tj","border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","width-1":"ez34a2ks","height-1":"mhmrsd19","box-shadow-1":"t2u441ym"},d===!0||m||n||p||s?{"opacity-1":"pt8wzkwh","position-1":"hal92y33"}:null),children:i.jsx(k,{children:i.jsx("div",{role:"gridcell",children:i.jsx(b("WIGCircleButton.react"),{onFocusIn:q,onFocusOut:o,onHoverIn:t,onHoverOut:r,icon:e,label:f,size:24,onPress:a,ref:c})})})})}e.exports=i.forwardRef(a)}),null);
__d("WorkGalahadUIChannelMeta.react",["React","WIGDeferredPopoverTrigger.react","WorkGalahadUIChannelMetaButton.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState;function a(a){var c=a.label,d=a.onHide,e=a.onShow,f=a.forceVisible,i=f===void 0?!1:f;f=a.popoverProps;a=a.popoverResource;var j=h(!1),k=j[0],l=j[1];return g.jsx(b("WIGDeferredPopoverTrigger.react"),{align:"start",popoverProps:f,popoverResource:a,popoverType:"menu",position:"below",onVisibilityChange:function(a){l(a),a?e&&e():d&&d()},children:function(d,a){return g.jsx(b("WorkGalahadUIChannelMetaButton.react"),{forceVisible:k||i,label:c,onPress:a,ref:d})}})}e.exports=a}),null);
__d("WorkGalahadChatChannelOverflowButton.react",["fbt","requireDeferred","React","WorkGalahadUIChannelMeta.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("requireDeferred")("WorkGalahadChatChannelOverflowMenu.react");function a(a){var c=a.onToggle;a=a.thread;return h.jsx(b("WorkGalahadUIChannelMeta.react"),{popoverProps:{label:g._("Chat actions"),thread:a},popoverResource:i,label:g._("Chat actions"),forceVisible:!0,onShow:function(){return c(!0)},onHide:function(){return c(!1)}})}e.exports=a}),null);
__d("WorkGalahadGroupEmojiConsts",[],(function(a,b,c,d,e,f){"use strict";a=128172;e.exports={DEFAULT_EMOJI_CODEPOINT:a}}),null);
__d("WorkGalahadMessageRow.react",["cx","React","WorkGalahadHoverHelper"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("WorkGalahadHoverHelper").useHover;function a(a){var b=a.children,c=a.hideMeta,d=a.isActive;a=a.meta;var e=i(),f=e[0];e=e[1];return h.jsxs("div",babelHelpers["extends"]({className:"_3-gp _23dk _6inw"+(d?" _69pu":"")+(f?" _6aio":"")},e,{children:[b,a!=null&&c!==!0?h.jsx("div",{className:"_3-gq _3nmu",children:a}):null]}))}e.exports=a}),null);
__d("getMessengerThreadlistWorkDenseMode",["CurrentUser","MessengerThreadlistWorkDenseMode","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===!0?b("MessengerThreadlistWorkDenseMode").QUICK_CHAT:b("CurrentUser").isWorkUser()&&b("gkx")("779201")?b("MessengerThreadlistWorkDenseMode").TEAMWORK:null}e.exports=a}),null);
__d("MessengerThreadlistRow.react",["cssVar","cx","fbt","ix","requireCond","Bootloader","CurrentUser","FBEmojiUtils","Image.react","ImmutableObject","LinkWithHiddenURLBar.react","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryParticipantListRenderer","MercuryThreadActions","MercuryThreadSnippet.react","MercuryThreadTimestampReact.re","MercuryThreadTitleSafe.react","MercuryTimestamp","MessageRequestUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerBlockDialogReact.re","MessengerButtonReact.re","MessengerConfig","MessengerConfirmBlockThreadDialogReact.re","MessengerConfirmLeaveGroupDialogReact.re","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerGalahadGating.bs","MessengerMessage.bs","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerPinIconSVGReact.bs","MessengerPresenceStatusUtils","cr:999311","cr:861811","MessengerThreadImageReact.re","MessengerThreadlistRowActionsReact.bs","MessengerThreadlistRowPendingThreadButtonsReact.re","MessengerThreadlistRowSeenHeadReact.bs","MessengerThreadlistWorkDenseMode","MessengerURIStore","MessengerURIUtils.bs","MNAdsMessageRequestUtils","React","ReactDOM","RTWebUserActionLogger","ShimButton.react","cr:1358619","Tooltip","UserAgent","WorkGalahadChannelStatusBadge.react","WorkGalahadChatChannelOverflowButton.react","WorkGalahadGroupEmojiConsts","WorkGalahadMessageRow.react","asset","clearTimeout","getMessengerThreadlistWorkDenseMode","getPageIDFromThreadID","gkx","immutable","joinClasses","messengerRTLClasses","prop-types","qex","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("FBEmojiUtils").codepointsToString,l=b("MercuryThreadTimestampReact.re").make,m=b("MessengerBlockDialogReact.re").jsComponent,n=b("MessengerButtonReact.re").make,o=b("MessengerConfirmBlockThreadDialogReact.re").make,p=b("MessengerConfirmLeaveGroupDialogReact.re").jsComponent,q=b("MessengerThreadImageReact.re").jsComponent,r=b("MessengerThreadlistRowActionsReact.bs").jsComponent,s=b("MessengerThreadlistRowPendingThreadButtonsReact.re").make,t=b("MessengerThreadlistRowSeenHeadReact.bs").jsComponent,u=b("React"),v=b("WorkGalahadGroupEmojiConsts").DEFAULT_EMOJI_CODEPOINT,w=50,x=24,y=j("86913"),z=j("86914"),A=function(a){var b;switch(a){case"pending":case"other":case"inbox":case"thread":b=a;break;default:b=null}return b};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={actionsOpen:!1,participantNames:"",isMiniInbox:!1},d.$1=b("uniqueID")(),d.$2=0,d.$3=null,d.$5=u.createRef(),d.$6=function(a){return d.setState({isMiniInbox:a.matches})},d.$25=function(){var a=d.props.thread.thread_id;a=b("MercuryIDs").isGroupChat(a);if(a)d.$28();else{a=d.props.thread.other_user_fbid;var c=a?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)):null,e=c==null?void 0:c.short_name;e&&b("MessengerDialogs.bs").showDialog(function(){return u.jsx(m,{onBlock:function(){d.$29(e)},contact:c})})}},d.$26=function(){var a=b("CurrentUser").getID();a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.thread.thread_id,a);b("MercuryThreadActions").get()["delete"](d.props.thread.thread_id);d.props.isActive&&b("MessengerActions").selectThread(null);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.thread.thread_id)).setSurface(A(d.props.folder)).setFolderType("pending").setThreadKey(a).setEntryPoint("inbox_banner").log()},d.$27=function(a){var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.thread.thread_id,c);a||(b("MessengerDialogs.bs").removeDialog(),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.thread.thread_id)).setSurface(A(d.props.folder)).setFolderType("pending").setThreadKey(c).setEntryPoint("inbox_banner").log())},d.$9=function(a){a.preventDefault(),d.props.onFocus(d.props.thread.thread_id)},d.$10=function(a){d.$2++;if(d.$3)return;d.$3=b("setTimeout")(function(){d.props.onSelect&&d.props.onSelect(),d.$2=0,d.$3=null},1e3)},d.$11=function(a){d.$2--,d.$2===0&&(b("clearTimeout")(d.$3),d.$3=null)},d.$12=function(a){d.props.onSelect()},d.$13=function(a){if(d.props.logClickHandler){a=d.props.thread.is_canonical?b("MercuryIDs").getUserIDFromThreadID(d.props.thread.thread_id)||"0":d.props.thread.thread_fbid;d.props.logClickHandler&&d.props.logClickHandler(a)}},d.$21=function(a){d.setState({actionsOpen:a})},d.$32=function(a){a.preventDefault();a.stopPropagation();a=window.callWindow&&!window.callWindow.closed&&window.callWindow.focus;if(a)window.callWindow.focus();else{a=d.props.thread;var c=a.rtc_call_data,e=a.thread_fbid;a="GROUP:"+e;var f=c.call_state==="VIDEO_GROUP_CALL";b("RTWebUserActionLogger").logClick({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:b("RTWebUserActionLogger").getMediaType(!f)});b("Bootloader").loadModules(["StartCallWithZenonOrFBRTC","FBRTCLogger"],function(a,b){b=b.Trigger;a.startGroupCall(!f,e,[],f?b.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:b.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,c)},"MessengerThreadlistRow.react")}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.getParticipantNames(),this.$4=window.matchMedia("(max-width: 900px)"),this.setState({isMiniInbox:this.$4.matches}),this.$4.addListener(this.$6)};d.componentWillUnmount=function(){this.$4.removeListener(this.$6)};d.componentDidUpdate=function(a){this.props.isFocused&&(!a.isFocused?this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.$5.current).focus():b("ReactDOM").findDOMNode(this.refs.link).focus():!a.isActionsFocused&&this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.$5.current).focus():a.isActionsFocused&&!this.props.isActionsFocused&&b("ReactDOM").findDOMNode(this.refs.link).focus());if(this.$7(this.props.thread)&&!this.$7(a.thread)){a=this.props.thread;var c=a.rtc_call_data;a=a.thread_fbid;a="GROUP:"+a;c=c.call_state==="VIDEO_GROUP_CALL";b("RTWebUserActionLogger").logImpression({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:b("RTWebUserActionLogger").getMediaType(!c)})}this.getParticipantNames()};d.getParticipantNames=function(){var a=this;if(this.state.participantNames!=="")return;var c=this.props,d=c.thread;c=c.viewer;var e=d.participants||[],f=b("MercuryIDs").getParticipantIDFromUserID(c);e.length>1&&(e=e.filter(function(a){return a!=f}));var g=d.custom_nickname?{}:null;if(g)for(var h in d.custom_nickname)g[h]=d.custom_nickname[h];b("MessengerParticipants.bs").getMulti(e,function(c){var d=e.map(function(a){return c[a]});d=new(b("MercuryParticipantListRenderer"))().setNickname(g).renderParticipantList(d);a.setState({participantNames:d})})};d.render=function(){var a=this,c,d=this.props,e=d.isActive,f=d.isActionsFocused,g=d.isTabbable,h=d.participants,j=d.thread;d=d.viewer;var l=j.unread_count>0,m=b("MessengerURIUtils.bs").getURIForThreadID(j.thread_id),n=j.name?j.name:this.state.participantNames,o=b("MNAdsMessageRequestUtils").isAdsMessageRequest(j)?b("MNAdsMessageRequestUtils").renderAdsMessageRequestStatus():this.$8(j),p=b("getMessengerThreadlistWorkDenseMode")(this.props.isDenseRow),r=b("MessengerDotComAndInboxM4Check.bs").yes?"_7vuq":"_33g_";c=(c=(c=j.work_associated_group)==null?void 0:(c=c.group_icon)==null?void 0:c.emoji_codepoints)!=null?c:[];var s=null;c.length>0?s=k([].concat(c)):j.work_associated_group!=null&&(s=k([v]));c=u.jsxs("li",{"aria-live":l?"polite":null,"aria-relevant":e||l?"additions text":null,onFocus:this.$9,className:"_5l-3 _1ht1"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+(j.folder===b("MessagingTag").PENDING?" _4as3":"")+(this.props.isActive?" _1ht2":"")+(l?" _1ht3":"")+(this.state.actionsOpen?" _13aa":"")+(this.props.isMuted?" _569x":"")+((b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0)&&j.is_pinned?" _1oh3":"")+(this.props.isFocused?" _23_m":"")+(l&&b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Mac")?" _5fx8":"")+(p===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xnu":"")+(p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?" _79nz":""),onDragEnter:e?null:this.$10,onDragLeave:e?null:this.$11,role:"row",ref:function(b){return b&&a.props.registerThreadRefs&&a.props.registerThreadRefs(b)},tabIndex:-1,children:[u.jsx("div",{className:"_5l-3 _1ht5",id:this.$1,"data-testid":void 0,role:"gridcell",tabIndex:-1,children:u.jsx(b("LinkWithHiddenURLBar.react"),{"data-testid":void 0,href:m.toString(),onClick:this.$12,onAllClicks:this.$13,className:"_1ht5 _2il3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3 _3itx",s:"true",ref:"link",role:"link",tabIndex:g&&!f?0:-1,children:u.jsxs("div",{className:"_6zkb"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":""),children:[this.props.isMuted&&u.jsx("div",{className:"accessible_elem",children:i._("muted conversation")}),u.jsxs("div",babelHelpers["extends"]({},b("Tooltip").propsFor(n,"right","center"),{"data-tooltip-root-class":r,"aria-hidden":!0,className:"_1qt3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5l-3",children:[b("cr:1358619")!=null&&s!=null&&s!==""?u.jsx(b("cr:1358619"),{isPresenceForWork:this.props.isPresenceForWork,emojiText:s}):b("MessengerDotComAndInboxM4Check.bs").yes&&b("cr:861811")?b("cr:999311")?u.jsx(b("cr:999311").make,{borderColor:e?"#f2f2f2":this.state.isMiniInbox&&l?"#D2E7FD":null,size:this.$14(p),thread:j,viewer:d}):u.jsx(b("cr:861811").make,{borderColor:e?"#f2f2f2":this.state.isMiniInbox&&l?"#D2E7FD":null,size:this.$14(p),thread:j,viewer:d}):u.jsx(q,{isPresenceForWork:this.props.isPresenceForWork,isDoNotDisturb:this.props.isDoNotDisturb,participants:h,size:this.$14(p),thread:j,viewer:d}),j.is_business_page_active&&b("qex")._("968099")?u.jsx("div",{className:"_849n"}):null]})),u.jsxs("div",{className:"_1qt4"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m",children:[b("MessengerDotComAndInboxM4Check.bs").yes?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"_1qt5 _5l-3",children:u.jsx(b("MercuryThreadTitleSafe.react"),{className:"_1ht6 _7st9",showUnreadCount:!1,thread:j,useShortName:!1,viewer:d})}),u.jsxs("div",{className:"_1qt5 _6zkd _5l-3",children:[u.jsx(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf _6zke",b("messengerRTLClasses")(j.snippet,!0)),participants:h,shouldRenderYou:!0,thread:j,viewer:d}),u.jsx("div",{"aria-hidden":!0,className:"_6zkf",children:"\xb7"}),o]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"_1qt5 _5l-3",children:[u.jsx(b("MercuryThreadTitleSafe.react"),{className:"_1ht6",showUnreadCount:!1,thread:j,useShortName:!1,viewer:d}),p!==b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?u.jsx("div",{children:o}):null]}),p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT||b("gkx")("1072947")?null:u.jsx("div",{className:"_1qt5 _5l-3",children:u.jsx(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf",b("messengerRTLClasses")(j.snippet,!0)),participants:h,shouldRenderYou:!0,thread:j,viewer:d})})]}),this.$15(),this.$16()]})]})})}),p===b("MessengerThreadlistWorkDenseMode").QUICK_CHAT?this.$17():this.$18(p)]});if(b("MessengerGalahadGating.bs").isGalahadUIEnabled())return u.jsx(b("WorkGalahadMessageRow.react"),{isActive:this.props.isActive,hideMeta:p!=null,meta:u.jsx(b("WorkGalahadChannelStatusBadge.react"),{canToggle:!0,onClick:function(){l?a.props.onMarkRead():a.props.onMarkUnread()},unread:this.props.thread.unread_count>0}),children:c});else return c};d.$18=function(a){if(this.props.showActions===!1)return null;var c=this.props,d=c.blockedIds,e=c.isActionsFocused,f=c.isTabbable,g=c.participants,h=c.thread;c=c.viewer;var j=b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(this.props.participants,h);j=j&&j.contact;d=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(c,d,h);var k=b("MessengerAdminGroupUtils").isJoinableThread(h),l=b("MercuryIDs").isGroupChat(this.props.thread.thread_id),m=h.unread_count>0,n;(b("MessengerDotComAndInboxM4Check.bs").yes||a===b("MessengerThreadlistWorkDenseMode").TEAMWORK)&&m?n=this.state.actionsOpen?null:u.jsx("div",{className:"_6zv_"+(a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xfs":"")}):n=u.jsx(t,{className:"_5bli",isHidden:this.state.actionsOpen&&!(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0),lastMessage:this.props.lastMessage,participants:g,readReceipts:this.props.readReceipts,thread:h,viewer:c});return u.jsx("div",{role:"gridcell",children:u.jsxs(b("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":i._("Actions"),className:"_2j6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3"+(a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8c_j":""),tabIndex:f&&e?0:-1,role:"button",children:[a===b("MessengerThreadlistWorkDenseMode").TEAMWORK?null:this.$19(),u.jsx("div",{className:"_56ck"}),n,this.$20(),b("MessengerGalahadGating.bs").isGalahadUIEnabled()?u.jsx("div",{className:"_8xru",children:u.jsx(b("WorkGalahadChatChannelOverflowButton.react"),{className:"_5blh",onToggle:this.$21,tabIndex:-1,thread:this.props.thread})}):u.jsx(r,{contact:j,isGroupChat:l,isJoinableThread:k,isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isPinned:h.is_pinned,isUnread:m,isBlocked:d,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onPin:this.props.onPin,onToggle:this.$21,onUnmute:this.props.onUnmute,onUnpin:this.props.onUnpin,onIgnore:this.props.onIgnore,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,showLeaveGroup:this.props.showLeaveGroup,showMute:!0,showBlock:b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,j),showPin:this.$22(),showReport:this.$23(),tabIndex:-1,thread:h,buttonRef:this.$5}),this.$24()]})})};d.$17=function(){if(this.props.showActions===!1)return null;var a=this.props,c=a.isActionsFocused;a=a.isTabbable;return u.jsx("div",{role:"gridcell",children:u.jsxs(b("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":i._("Actions"),className:"_7pj3 _5l-3",tabIndex:a&&c?0:-1,role:"button",children:[this.$19(),u.jsx("div",{className:"_56ck"})]})})};d.$19=function(){if(b("CurrentUser").isWorkUser())return u.jsx(b("Image.react"),{src:j("572538"),className:"_6q64"});else if(b("MessengerConfig").MPT>0)return b("MessengerPinIconSVGReact.bs").make("_1oh5","#808080");return null};d.$24=function(){return b("CurrentUser").isWorkUser()?u.jsx(b("Image.react"),{src:j("1265675"),className:"_8xfj"}):null};d.$20=function(){var a=this.props.lastMessage;if(this.state.actionsOpen||!a)return null;var c=b("MessengerMessage.bs").isSending(a),d=b("MessengerMessage.bs").hasError(a);if(!c&&!d)return null;d=b("MessengerMessage.bs").getError(a);return u.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right","center"),{children:u.jsx(b("Image.react"),{className:"_wtw"+(c?" _3qh2":""),src:c?z:y})}))};d.$8=function(a){var c;return u.jsx(l,{className:"_1ht7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkh":""),time:a.timestamp,title:(c=b("MercuryTimestamp").getAbsoluteTimestamp(a.timestamp))!=null?c:void 0,text:b("MercuryTimestamp").getRelativeTimestamp(a.timestamp)})};d.$15=function(){return!b("MessageRequestUtils").shouldShowThreadlistPendingActions(this.props.thread)?null:u.jsx(s,{onBlock:this.$25,onDelete:this.$26,onToggle:this.$27,thread:this.props.thread})};d.$28=function(){var a=this,c=this.props.thread.thread_id;c&&b("MessengerDialogs.bs").showDialog(function(){return u.jsx(p,{onLeave:function(){var d=b("MessengerURIStore").getState().activeThreadID===c;a.$30().leaveGroup(c);d&&b("MessengerActions").selectThread(null)},isViewerAdmin:!1,thread:a.props.thread})})};d.$30=function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)};d.$29=function(a){var c=this,d=this.props.thread.thread_id,e=d===b("MessengerURIStore").getState().activeThreadID;this.$30().blockIgnoreOnMessengerDotCom(e,d,function(){c.$31(a)})};d.$31=function(a){var c=this.props.thread,d=this.props.thread.thread_id;b("MessengerDialogs.bs").showDialog(function(){return u.jsx(o,{participantName:a})});var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d,e);c=!!c&&b("MessageRequestUtils").isFiltered(c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d)).setSurface("thread").setFolderType(c?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(e).setEntryPoint(null).log()};d.$16=function(){if(!this.$7(this.props.thread))return null;var a=!b("qex")._("1277463")&&window.callWindow&&!window.callWindow.closed?i._("Return to Call"):i._("Join Call");return u.jsx(n,{className:"_4ry5",label:a,onClick:this.$32,type:"primary"})};d.$7=function(a){return((a=(a=a.rtc_call_data)==null?void 0:a.call_state)!=null?a:"NO_ONGOING_CALL")!=="NO_ONGOING_CALL"};d.$22=function(){var a=b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0,c=b("getPageIDFromThreadID")(this.props.thread.thread_id);return a&&c===null};d.$23=function(){return b("getPageIDFromThreadID")(this.props.thread.thread_id)!=null};d.$14=function(a){if(!b("CurrentUser").isWorkUser())return w;switch(a){case b("MessengerThreadlistWorkDenseMode").QUICK_CHAT:case b("MessengerThreadlistWorkDenseMode").TEAMWORK:return x;default:return w}};return c}(u.PureComponent);c.propTypes={isActive:(d=b("prop-types")).bool.isRequired,blockedIds:d.any,isActionsFocused:d.bool,isFocused:d.bool,isMuted:d.bool.isRequired,isDoNotDisturb:d.bool,isPresenceForWork:d.bool,isDenseRow:d.bool,lastMessage:d.object,logClickHandler:d.func,onArchive:d.func.isRequired,onDelete:d.func.isRequired,onMarkRead:d.func.isRequired,onMarkSpam:d.func.isRequired,onMarkUnread:d.func.isRequired,onMute:d.func.isRequired,onPin:d.func.isRequired,onSelect:d.func.isRequired,onUnmute:d.func.isRequired,onIgnore:d.func.isRequired,onBlock:d.func.isRequired,onUnblock:d.func.isRequired,onUnpin:d.func.isRequired,participants:d.instanceOf(b("immutable").Map).isRequired,readReceipts:d.instanceOf(b("immutable").OrderedMap).isRequired,registerThreadRefs:d.func,thread:d.instanceOf(b("ImmutableObject")).isRequired,viewer:d.string.isRequired};function a(a,b){return"row_header_id_"+a+(b==null?"":b)}e.exports=c}),null);
__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableListConstants","Bootloader","CurrentUser","ImmutableObject","MercuryIDs","MessengerParticipants.bs","PresenceStatus","React","SubscriptionsHandler","createReactClass_DEPRECATED","immutable","prop-types","shallowEqual","AvailableList"],(function(a,b,c,d,e,f){"use strict";var g=b("React");b("AvailableList");var h=function(a){return!b("CurrentUser").isWorkUser()?!1:b("immutable").Seq(a).some(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a===b("CurrentUser").getID())return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE})},i=function(a){return a.thread.is_canonical_user?a.thread.other_user_fbid:null},j=b("createReactClass_DEPRECATED")({displayName:"MercuryThreadlistRowContainer",propTypes:{ChildClass:b("prop-types").func.isRequired,thread:b("prop-types").instanceOf(b("ImmutableObject")).isRequired,viewer:b("prop-types").string.isRequired},_availabilityStatusStore:null,subscriptions:new(b("SubscriptionsHandler"))(),_participantsSubscription:null,getInitialState:function(){return{participants:b("immutable").Map(),isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:this._getDoNotDisturb()}},componentDidMount:function(){var a=this;b("CurrentUser").isWorkUser()&&this.subscriptions.addSubscriptions(b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return a.setState({isPresenceForWork:h(a.props.thread.participants)})}));if(b("CurrentUser").isWorkUser()){var c=i(this.props);c&&b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(b){j._availabilityStatusStore=b,b.fetchUsersIfNeeded([c]),b.subscribeUser(c,a),a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)}),a.subscriptions.addSubscriptions(b.addListener(function(){var c=a.props.thread.is_canonical_user?a.props.thread.other_user_fbid:null;c&&a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)})}))},"MercuryThreadlistRowContainer.react")}var d=this._getDoNotDisturb(),e=this._computeParticipants();this.setState({participants:e,isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:d})},componentDidUpdate:function(){var a=this,b=[];this.props.thread.participants.map(function(c){var d=a.state.participants.get(c);d||b.push(c)});var c=this._getDoNotDisturb();if(b.length>0)this.setState({participants:this._computeParticipants(),isPresenceForWork:h(this.props.thread.participants),isDoNotDisturb:c});else{var d=h(this.props.thread.participants);d!==this.state.isPresenceForWork&&this.setState({isPresenceForWork:d});c!==this.state.isDoNotDisturb&&this.setState({isDoNotDisturb:c})}},_computeParticipants:function(){var a=this;this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription);var c=b("MessengerParticipants.bs").getMultiEagerMap(this.props.thread.participants,function(b){a._participantsSubscription=null,a.setState({participants:b})}),d=c[0];c=c[1];this._participantsSubscription=c;return d},_getDoNotDisturb:function(){var a=i(this.props);return j._availabilityStatusStore&&a&&b("CurrentUser").isWorkUser()?j._availabilityStatusStore.getIsDoNotDisturb(a):!1},componentWillUnmount:function(){var a=i(this.props);a&&(b("CurrentUser").isWorkUser()&&j._availabilityStatusStore&&j._availabilityStatusStore.unsubscribeUser(a,this));this.subscriptions.release();this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription)},shouldComponentUpdate:function(a,c){return!b("shallowEqual")(a,this.props)||c.isPresenceForWork!==this.state.isPresenceForWork||c.isDoNotDisturb!==this.state.isDoNotDisturb||!b("immutable").is(c.participants,this.state.participants)},render:function(){var a=this.props,c=a.ChildClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass"]);return g.jsx(c,babelHelpers["extends"]({},a,{participants:this.state.participants,isPresenceForWork:this.state.isPresenceForWork,isDoNotDisturb:b("CurrentUser").isWorkUser()&&this.state.isDoNotDisturb}))}});e.exports=j}),null);
__d("MessengerThreadlistRowContainer.react",["fbt","requireCond","CurrentUser","IgnoreMessagesTypedLogger","ImmutableObject","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadInfo","cr:998178","MercuryThreadlistRowContainer.react","MessageRequestUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfirmLeaveGroupDialogReact.bs","MessengerDialogs.bs","MessengerEnvironment","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerReadReceipt.bs","MessengerState.bs","cr:998179","MessengerThreadlistRow.react","MNPlatformTagsDataManager","React","ReactComponentWithPureRenderMixin","ReactDOM","createReactClass_DEPRECATED","prop-types","withMessengerSource"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerThreadlistRowContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{blockedIds:(a=b("prop-types")).any,isActive:a.bool.isRequired,isTabbable:a.bool,folder:a.string,onScrollIntoView:a.func,onOverrideSelect:a.func,showActions:a.bool,readReceipts:a.any,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired,source:a.string.isRequired},componentDidUpdate:function(a){var c=this.props,d=c.onScrollIntoView;c=c.isActive;c&&!a.isActive&&d&&d(b("ReactDOM").findDOMNode(this))},render:function(){var a=this.props.thread.thread_id;a=b("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a,0,1)[0]||null;var c=b("MessengerReadReceipt.bs").getSeenTimestamps(this.props.readReceipts,this.props.thread.thread_id);if(this.props.thread.thread_type===6&&b("cr:998178")&&b("cr:998179")&&b("MessengerEnvironment").messengerdotcom)return i.jsx(b("cr:998178"),babelHelpers["extends"]({},this.props,{ChildClass:b("cr:998179")}));else return i.jsx(b("MercuryThreadlistRowContainer.react"),babelHelpers["extends"]({},this.props,{ChildClass:b("MessengerThreadlistRow.react"),isMuted:b("MercuryThreadInfo").isMuted(this.props.thread),lastMessage:a,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onPin:this._handlePin,onSelect:this._handleSelect,onUnmute:this._handleUnmute,onUnpin:this._handleUnpin,onIgnore:this._handleIgnore,onBlock:this._handleBlockFromSettingOrDecline,onUnblock:this._handleUnblock,readReceipts:c,showActions:this.props.showActions,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical}))},_handleArchive:function(){var a=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleDelete:function(){var a=this.props.isActive;this._getThreadActions()["delete"](this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){var a=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleSelect:function(){var a=b("CurrentUser").getID();a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);if(this.props.onOverrideSelect){this.props.onOverrideSelect(this.props.thread);return}b("MessengerActions").selectThread(this.props.thread.thread_id);var c=b("MercuryIDs").getUserIDFromThreadID(this.props.thread.thread_id),d;switch(this.props.folder){case"inbox":d="inbox";break;case"pending":d="pending";break;case"other":d="other";break}this.props.thread.folder!==b("MessagingTag").INBOX&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_thread_open").setThreadID(c).setSurface(d).setFolderType(this.props.thread.folder).setThreadKey(a).log();b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",c)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleLeaveGroup:function(){var a=this;if(this.props.viewer){var c=b("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);b("MessengerDialogs.bs").showDialog(function(){return i.jsx(h,{onLeave:a._onLeaveGroupConfirm,isViewerAdmin:c,thread:a.props.thread})})}},_handleIgnore:function(){var a=this.props.isActive;this._getThreadActions().changeFolder(this.props.thread.thread_id,"other");a&&b("MessengerActions").selectThread(null);new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlockFromSettingOrDecline:function(){var a=this.props.thread.thread_id;a=b("MercuryIDs").isGroupChat(a);if(a){this._handleIgnore();return}a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(this.props.thread.other_user_fbid));a=a&&a.short_name||g._("sender");this._handleConfirmBlock(a)},_handleConfirmBlock:function(a){var b=this,c=this.props.thread.thread_id;c&&this._getThreadActions().blockIgnoreOnMessengerDotCom(this.props.isActive,c,function(){b._handleAfterBlock(a)})},_handleAfterBlock:function(a){a=this.props.thread;var c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.thread_id,b("CurrentUser").getID()),d=!!a&&b("MessageRequestUtils").isFiltered(a);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)).setSurface("thread").setFolderType(d?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint(null).log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_onLeaveGroupConfirm:function(){if(!b("MercuryThreadInfo").isEmptyLocalThread(this.props.thread)){var a=this._getMessageObject().constructLogMessageObject(this.props.source,this.props.thread.thread_id,"log:unsubscribe",{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(a)}},_getThreadActions:function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return b("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return b("MercuryMessageObject").getForFBID(this.props.viewer)}});e.exports=b("withMessengerSource")(c,!0)}),null);
__d("AbstractPopoverButtonReact.bs",["ReasonReact.bs","bs_js_null_undefined","AbstractPopoverButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h;return b("ReasonReact.bs").wrapJsForReason(b("AbstractPopoverButton.react"),{config:(h=b("bs_js_null_undefined")).fromOption(a),haschevron:h.fromOption(c),image:h.fromOption(d),label:h.fromOption(e),maxwidth:h.fromOption(f)},g)}f.make=a}),null);
__d("LinkWithHiddenURLBarReact.bs",["ReasonReact.bs","bs_js_null_undefined","LinkWithHiddenURLBar.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u;return b("ReasonReact.bs").wrapJsForReason(b("LinkWithHiddenURLBar.react"),{"aria-label":(u=b("bs_js_null_undefined")).fromOption(a),"data-hover":u.fromOption(d),"data-tooltip-content":u.fromOption(e),"data-tooltip-alignh":u.fromOption(f),"data-tooltip-position":u.fromOption(g),className:u.fromOption(c),href:u.fromOption(h),linkRef:u.fromOption(i),onClick:u.fromOption(j),onAllClicks:u.fromOption(k),onMouseDown:u.fromOption(l),onMouseEnter:u.fromOption(m),role:u.fromOption(n),rel:u.fromOption(o),style:u.fromOption(p),tabIndex:u.fromOption(q),target:u.fromOption(r),title:u.fromOption(s)},t)}f.make=a}),null);
__d("MercuryParticipantsImageM4React.bs",["bs_curry","React","gkx","bs_caml_option","MessengerFacepileM4React.bs","MessengerParticipantsImages.bs","MessengerProfileImageM4React.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,h=a.participants,i=a.size,j=a.storiesRingEligible,k=a.totalParticipants,l=a.hasUnreadStories;a=a.imageContainerRef;var m=g.useRef(!1),n=g.useRef(void 0),o=g.useState(function(){return[]}),p=o[1];o=o[0];g.useEffect(function(){m.current=!0;return function(a){m.current=!1;a=n.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;return b("bs_curry")._1(a,0)}else return 0}},[]);g.useEffect(function(){var a=n.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;b("bs_curry")._1(a,0)}h.length!==0?n.current=b("bs_caml_option").some(b("MessengerParticipantsImages.bs").getOrderedBigImageMultiWithSize(h,function(a){var c=a.reduce(function(a,b){b==null||a.push(b);return a},[]);if(m.current)return b("bs_curry")._1(p,function(a){return c});else return 0},i)):b("bs_curry")._1(p,function(a){return[]});return},[e,h,i,p]);var q=h.length;if(q!==1){if(q===0)return null}else if(o.length===1){q=o[0];f=b("gkx")("863504")?f:void 0;q={src:q,size:i};c!==void 0&&(q.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(q.className=b("bs_caml_option").valFromOption(d));f!==void 0&&(q.isActive=b("bs_caml_option").valFromOption(f));j!==void 0&&(q.storiesRingEligible=b("bs_caml_option").valFromOption(j));l!==void 0&&(q.hasUnreadStories=b("bs_caml_option").valFromOption(l));a!==void 0&&(q.imageContainerRef=b("bs_caml_option").valFromOption(a));return g.jsx(b("MessengerProfileImageM4React.bs").make,q)}f={srcs:o,size:i};c!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.className=b("bs_caml_option").valFromOption(d));e!==void 0&&(f.expanded=b("bs_caml_option").valFromOption(e));k!==void 0&&(f.totalParticipants=b("bs_caml_option").valFromOption(k));return g.jsx(b("MessengerFacepileM4React.bs").make,f)}c=a;f.make=c}),null);
__d("MercuryParticipantsImageM4React.re",["MercuryParticipantsImageM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MercuryParticipantsImageM4React.bs").make;f.make=a}),null);
__d("MessageRequestLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){new(b("MessengerMessageRequestsTypedLogger"))().setSurface("inbox").setFolderType(d).setAction("message_requests_thread_impression").addToExtraData("threads",a).setThreadKeyList(c).log();return 0}f.logItemImpression=a}),null);
__d("MessagingThreadCustomizationSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation",DELETE_ALL_SETTING:"delete_all_setting",RELATIONSHIP_STATUS_UPDATE:"relationship_status_update",TESTBOT:"testbot",SET_FROM_MESSAGE:"set_from_message",GROUP_NULL_STATE:"group_null_state",TEST:"test",VERSE_SIDEBAR:"verse_sidebar",CHAT_LIGHT_SPEED:"chat_light_speed",THEME_DEPRECATION:"theme_deprecation"})}),null);
__d("MessengerSettingsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsx("g",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-1",d:"M18,11.00025 C14.1345,11.00025 11.0005,14.13425 11.0005,18.00025 C11.0005,21.86575 14.1345,24.99975 18,24.99975 C21.8655,24.99975 24.9995,21.86575 24.9995,18.00025 C24.9995,14.13425 21.8655,11.00025 18,11.00025 Z M31,17.42725 L31,18.57325 C31,19.14125 30.679,19.66025 30.171,19.91475 L28.638,20.68075 C28.2975,20.85125 28.0215,21.13725 27.8915,21.49475 C27.7675,21.83575 27.624,22.16775 27.4665,22.49175 C27.3,22.83375 27.286,23.23025 27.406,23.59175 L27.96,25.25225 C28.1395,25.79125 27.999,26.38575 27.5975,26.78725 L26.787,27.59775 C26.3855,27.99925 25.791,28.13975 25.2525,27.95975 L23.595,27.40725 C23.234,27.28725 22.837,27.30125 22.495,27.46775 C22.1705,27.62575 21.837,27.76975 21.4945,27.89425 C21.1355,28.02475 20.849,28.30125 20.6785,28.64275 L19.9145,30.17075 C19.6605,30.67875 19.141,31.00025 18.573,31.00025 L17.427,31.00025 C16.859,31.00025 16.3395,30.67875 16.0855,30.17075 L15.3215,28.64275 C15.151,28.30125 14.864,28.02475 14.5055,27.89425 C14.1625,27.76975 13.83,27.62575 13.505,27.46775 C13.163,27.30125 12.766,27.28725 12.405,27.40725 L10.7475,27.95975 C10.2085,28.13975 9.6145,27.99925 9.213,27.59775 L8.4025,26.78725 C8.0005,26.38575 7.8605,25.79125 8.04,25.25225 L8.594,23.59175 C8.714,23.23025 8.7,22.83375 8.5335,22.49175 C8.376,22.16775 8.2325,21.83575 8.1085,21.49475 C7.9785,21.13725 7.7025,20.85125 7.362,20.68075 L5.829,19.91475 C5.321,19.66025 5,19.14125 5,18.57325 L5,17.42725 C5,16.85875 5.321,16.33925 5.829,16.08525 L7.362,15.31925 C7.7025,15.14875 7.9785,14.86275 8.1085,14.50525 C8.2325,14.16425 8.376,13.83225 8.5335,13.50825 C8.7,13.16625 8.714,12.76975 8.594,12.40825 L8.04,10.74775 C7.8605,10.20875 8.0005,9.61475 8.4025,9.21275 L9.213,8.40275 C9.6145,8.00075 10.2085,7.86025 10.7475,8.04025 L12.405,8.59275 C12.766,8.71275 13.163,8.69875 13.505,8.53225 C13.83,8.37425 14.1625,8.23025 14.5055,8.10575 C14.864,7.97525 15.151,7.69875 15.3215,7.35725 L16.0855,5.82925 C16.3395,5.32125 16.859,5.00025 17.427,5.00025 L18.573,5.00025 C19.141,5.00025 19.6605,5.32125 19.9145,5.82925 L20.6785,7.35725 C20.849,7.69875 21.1355,7.97525 21.4945,8.10575 C21.837,8.23025 22.1705,8.37425 22.495,8.53225 C22.837,8.69875 23.234,8.71275 23.595,8.59275 L25.2525,8.04025 C25.791,7.86025 26.3855,8.00075 26.787,8.40275 L27.5975,9.21275 C27.999,9.61475 28.1395,10.20875 27.96,10.74775 L27.406,12.40825 C27.286,12.76975 27.3,13.16625 27.4665,13.50825 C27.624,13.83225 27.7675,14.16425 27.8915,14.50525 C28.0215,14.86275 28.2975,15.14875 28.638,15.31925 L30.171,16.08525 C30.679,16.33925 31,16.85875 31,17.42725 Z",fill:"#000000"})],id:"Settings"}),id:"settings",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"30px",width:"30px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerDeleteAllMenuReact.bs",["cx","fbt","React","bs_js_dict","Link.react","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerActions","MessengerDialogs.bs","bs_js_null_undefined","MessengerURIStore","MessengerMenu.react","MercuryThreadActions","AbstractPopoverButtonReact.bs","MessengerPopoverMenu.react","MessengerDotComAndInboxM4Check.bs","MessengerSettingsIconSVGM4React.bs","MessagingThreadCustomizationSource","MessengerDeleteAllDialogBootloader.react","MessengerMessageRequestsTypedLoggerBootloader"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.viewer,g=function(a,c){if(a.length!==0){var e=a.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a,f)});e=e.join(",");a=JSON.stringify({number_of_threads:a.length});b("MessengerMessageRequestsTypedLoggerBootloader").log(c,e,d,d,"settings",b("bs_js_null_undefined").fromOption(a));return 0}else return 0},k=function(a){if(e==null)return[];else{a=b("bs_js_dict").get(e,d);if(a!==void 0){a=b("bs_js_dict").get(b("bs_caml_option").valFromOption(a),c);if(a!==void 0)return b("bs_caml_option").valFromOption(a).threadlist;else return[]}else return[]}},l=function(a){a=k(0);a.forEach(function(a){var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return 0;else{c=c===a;if(c){b("MessengerActions").selectThread("");return 0}else return 0}});g(a,"message_requests_delete_request_multiple");b("MercuryThreadActions").get().batchDelete(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return 0};a=function(a){a=k(0);g(a,"message_requests_delete_attempt_multiple");return b("MessengerDialogs.bs").showDialog(function(a){return i.jsx(b("MessengerDeleteAllDialogBootloader.react"),{onDeleteAll:l,getThreadIDs:k,logConnectionRequestEvent:g})})};var m=function(a){a=k(0);b("MercuryThreadActions").get().batchMarkRead(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return g(a,"message_requests_read_request_multiple")};a=i.jsxs(b("MessengerMenu.react"),{children:[i.jsx(b("MessengerMenu.react").Item,{label:h._("Delete All"),onclick:a}),i.jsx(b("MessengerMenu.react").Item,{label:h._("Mark All As Read"),onclick:m})]});m=h._("Settings, help and more");m={button:b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("Link.react"),{"aria-label":m,className:j,role:"button",title:m,children:b("MessengerSettingsIconSVGM4React.bs").icon}):i.jsx(b("Link.react"),{"aria-label":m,className:j,role:"button",title:m}),defaultMaxWidth:200};return i.jsx(b("MessengerPopoverMenu.react"),{menu:a,children:b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(m),!1,void 0,void 0,200,0))})}c=a;f.settingsIconClasses=j;f.make=c}),null);
__d("MessengerFlexScrollableAreaReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerFlexScrollableArea.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;return b("ReasonReact.bs").wrapJsForReason(b("MessengerFlexScrollableArea.react"),{onScroll:(g=b("bs_js_null_undefined")).fromOption(a),className:g.fromOption(c),maxHeight:g.fromOption(d),limitCalculationToParent:g.fromOption(e)},f)}f.make=a}),null);
__d("MessengerGraphQLSearchTypeaheadReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerGraphQLSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGraphQLSearchTypeahead.react"),{className:a,enableMessageSearch:c,excludeGroups:d,excludePages:e,hasHoverState:f,hideClearButton:(a=b("bs_js_null_undefined")).fromOption(g),isMessageSearchMode:a.fromOption(h),isFocused:a.fromOption(i),onBlur:j,onChange:k,onClear:l,onFocus:m,onScrollIntoView:n,onSelect:o,placeholder:p,queryString:a.fromOption(q),shouldQueryInternalBot:r,shouldQueryVCEndpoint:s,typeaheadViewClassName:t,viewer:u,rowComponent:a.fromOption(v),searchInputPortalRef:a.fromOption(w)},x)}f.make=a}),null);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","messenger_desktop_promo");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("MessengerDesktopPromoFalcoEvent").log(function(){return a})};c={log:a};e.exports=c}),null);
__d("SRPinningNub",["Event","SRDevModeParams","URI"],(function(a,b,c,d,e,f){var g;a={watchForm:function(a){b("Event").listen(a,"submit",function(a){var c=(g||(g=b("URI"))).getRequestURI();c.removeQueryData(b("SRDevModeParams").items);c.removeQueryData(b("SRDevModeParams").escapeParam);var d=a.target.getElementsByTagName("input");for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.addQueryData(h.name,h.value)}h=a.target.getElementsByTagName("select");for(var f=h,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}h=a;c.addQueryData(h.name,h.value)}c.go(!0);return!1})},watchLink:function(a){a=(g||(g=b("URI"))).getRequestURI();for(var c=b("SRDevModeParams").items,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.removeQueryData(f)}a.go(!0);return!1},resetPage:function(a){a=(g||(g=b("URI"))).getRequestURI();a.addQueryData(b("SRDevModeParams").escapeParam,"");a.go(!0);return!1}};e.exports=a}),null);
__d("WorkChatCustomMenuItem",["cx","CSS","DOM","MenuItem","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=["href","rel","ajaxify","target","accesskey"];function j(a,c){var d={};i.forEach(function(a){c[a]&&(d[a]=c[a])});b("DOM").setAttributes(a,d)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d._renderItemContent=function(){this._anchor=b("DOM").create(this._data.renderas==="label"?"label":"a",{className:"_54nc"+(this._data.icon?" _54nu":"")});if(this._data.children){var a=this._data.icon?h.cloneElement(this._data.icon,{className:b("joinClasses")(this._data.icon.props.className,"mrs")}):null;b("ReactDOM").render(h.jsx(h.Suspense,{fallback:null,children:h.jsxs("div",{children:[a,h.jsx("div",{className:"_54nh",children:this._data.children})]})}),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent}else{a=b("DOM").create("div",null,b("DOM").create("div",{className:"_54nh"},this._data.markup||this._data.label));this._data.icon&&b("DOM").prependContent(a,this._data.icon);b("DOM").setContent(this._anchor,a)}this._data.href||(this._data.href="#");this.isDisabled()||j(this._anchor,this._data);b("DOM").setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute("role",this._ARIARole);return this._anchor};d.render=function(){var c=a.prototype.render.call(this);b("CSS").addClass(c,"_1ydp");this._disabled&&b("CSS").addClass(c,"_5arm");return c};return c}(b("MenuItem"));e.exports=a}),null);
__d("WorkChatCustomMenuItem.bs",["ReasonReact.bs","bs_js_null_undefined","WorkChatCustomMenuItem"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("WorkChatCustomMenuItem"),{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatDoNotDisturbDialogReactBootloader.bs",["bs_block","bs_curry","React","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbDialogReactBootloader");function a(a,c){return{debugName:h.debugName,reactClassInternal:h.reactClassInternal,handedOffState:h.handedOffState,getDerivedStateFromProps:h.getDerivedStateFromProps,didMount:function(a){b("Bootloader").loadModules(["WorkChatDoNotDisturbDialogReact.bs"],function(c){return b("bs_curry")._1(a.send,[c])},"WorkChatDoNotDisturbDialogReactBootloader.bs");return 0},didUpdate:h.didUpdate,willUnmount:h.willUnmount,shouldUpdate:h.shouldUpdate,render:function(c){c=c.state.workChatDoNotDisturbDialog;if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(c.make,a,[]));else return g.jsx("div",{})},initialState:function(a){return{workChatDoNotDisturbDialog:void 0}},retainedProps:h.retainedProps,reducer:function(a,c){return b("bs_block").__(0,[{workChatDoNotDisturbDialog:a[0]}])},jsElementWrapped:h.jsElementWrapped}}f.component=h;f.make=a}),null);
__d("WorkUserDoNotDisturbSettingsEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",SCHEDULED_DND_SETTINGS_DIALOG_IMPRESSION:"scheduled_dnd_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION:"status_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION_QP:"status_settings_dialog_impression_qp",STATUS_SETTINGS_DIALOG_CLICK:"status_settings_dialog_click",STATUS_SETTINGS_DIALOG_CLICK_QP:"status_settings_dialog_click_qp",TURN_OFF:"turn_off",TURN_ON:"turn_on"})}),null);
__d("WorkUserDoNotDisturbSettingsSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUE_BAR_MODERN_MENU:"blue_bar_modern_menu",BOOKMARK_NAV_MENU:"bookmark_nav_menu",GALAHAD_NAV_BAR_MENU:"galahad_nav_bar_menu",WORKPLACE_CHAT_MENU:"workplace_chat_menu",WORKPLACE_QUICKCHAT:"workplace_quickchat",WORKPLACE_THREAD_CONTEXT_MENU:"workplace_thread_context_menu"})}),null);
__d("XCometPageVanityInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/inbox/{?selected_item_id}/",{vanity:{type:"String",required:!0},threadid:{type:"String"},selected_item_id:{type:"String"},mailbox_id:{type:"FBID"},platform:{type:"Enum",enumType:1},section:{type:"Enum",enumType:1},automation:{type:"Enum",enumType:1},ref:{type:"String",defaultValue:""}})}),null);
__d("XMessengerDotComDYIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dyi/",{error:{type:"Exists",defaultValue:!1},tab:{type:"String"},start:{type:"Int"},end:{type:"Int"},quality:{type:"Enum",enumType:0},format:{type:"Enum",enumType:0},sections:{type:"EnumKeyset",enumType:null},referrer:{type:"Enum",enumType:1},settings_tracking:{type:"String"},target_id:{type:"FBID"},min_date:{type:"Int"}})}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("XWorkLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/logout/",{next:{type:"String"},session_id:{type:"String"}})}),null);
__d("MessengerSettingsMenuReact.bs",["fbt","Run","Form","bs_curry","React","goURI","gkx","UserAgent","JSResource","AsyncDialog","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","AsyncRequest","MessagingTag","SRPinningNub","MercuryConfig","MessengerView","MercuryFilters.bs","MessengerSpoof","MessengerConfig","MessengerActions","MessengerDialogs.bs","ReasonReactCompat.bs","WebStorageMonster","BootloaderResource","MessengerMenu.react","MessengerEnvironment","ProfilePlusMessaging","XWorkLogoutController","WorkChatCustomMenuItem.bs","MessengerDesktopAppLinks","MessengerPopoverMenu.react","ServiceWorkerLoginAndLogout","XMessengerDotComDYIController","XCometPageVanityInboxController","MessengerDesktopPromoEventLogger","XFacebookWorkChatInboxController","XMessengerDotComLogoutController","WorkUserDoNotDisturbSettingsEvent","WorkUserDoNotDisturbSettingsSource","WorkDoNotDisturbSettingsTypedLogger","WorkChatDoNotDisturbDialogReactBootloader.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a.preventDefault();return 0}var i=b("JSResource")("WorkChatDoNotDisturbMenuItemContentReact.bs").__setRef("MessengerSettingsMenuReact.bs");function c(a,b){return{viewer:a}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:c,make:j};var k=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("Windows");function d(a){if(k)return b("gkx")("1420764");else return!1}function l(a){return h.jsx(b("MessengerMenu.react").Item,{href:b("CurrentUser").isWorkUser()?"https://www.workplace.com/workplace":"https://www.messenger.com/about",label:g._("About"),target:"_blank"})}function m(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI),"https://www.facebook.com/policies");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Terms"),target:"_blank"})}function n(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI),"https://www.facebook.com/privacy/explanation");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Privacy Policy"),target:"_blank"})}function o(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI),"https://www.facebook.com/help/cookies");return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Cookie Policy"),target:"_blank"})}var p=b("JSResource")("MessengerSettingsDialogWrapper.bs").__setRef("MessengerSettingsMenuReact.bs");function e(a,b,c){return{viewer:a,causalElement:b}}function q(a){return h.createElement(b("BootloaderResource").read(p).make,a)}e={reasonResource:p,makeProps:e,make:q};var r={contents:!1};function s(a){if(!r.contents&&k&&b("gkx")("1420764")){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Impression"});r.contents=!0;return 0}else return 0}function t(a){var c=a.filter,d=a.folder,e=a.view,f=a.viewer;a=a.children;var i=h.useRef(void 0),p=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Click"});return 0},r=function(a){a.preventDefault();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("ReasonReactCompat.bs").wrapReactForReasonReact(h.Suspense,{fallback:null},h.createElement(q,{viewer:f,causalElement:i.current})))})},s=function(a){a.preventDefault();new(b("WorkDoNotDisturbSettingsTypedLogger"))().setEvent(b("WorkUserDoNotDisturbSettingsEvent").IMPRESSION).setSource(b("WorkUserDoNotDisturbSettingsSource").WORKPLACE_CHAT_MENU).log();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatDoNotDisturbDialogReactBootloader.bs").make(f,[]))})},t=function(a){a.preventDefault();b("MessengerActions").changeMasterView(e===b("MessengerView").MASTER.RECENT?b("MessengerView").MASTER.PEOPLE:b("MessengerView").MASTER.RECENT);return 0},u=function(a){a.preventDefault();b("MessengerActions").changeFolder(d===b("MessagingTag").PENDING?b("MessagingTag").INBOX:b("MessagingTag").PENDING);return 0},v=function(a){a.preventDefault();b("MessengerActions").changeFolder(d===b("MessagingTag").OTHER?b("MessagingTag").INBOX:b("MessagingTag").OTHER);return 0},w=function(a){a.preventDefault();b("MessengerActions").changeFolder(d===b("MessagingTag").ACTION_ARCHIVED?b("MessagingTag").INBOX:b("MessagingTag").ACTION_ARCHIVED);return 0},x=function(a){a.preventDefault();b("MessengerSpoof").init(function(a){b("goURI")(window.location.href,!0,void 0);return 0});return 0},y=function(a){b("Run").onUnload(function(a){b("WebStorageMonster").cleanOnLogout(0);b("ServiceWorkerLoginAndLogout").logout();return 0});b("Form").post((b("CurrentUser").isWorkUser()?b("XWorkLogoutController").getURIBuilder().setString("next",b("XFacebookWorkChatInboxController").getURIBuilder().getURI().toString()):b("XMessengerDotComLogoutController").getURIBuilder()).getURI(),{});return 0},z=function(a){a.preventDefault();b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/bugs/report"));return 0},A=function(a){a.preventDefault();b("MessengerActions").changeFilter(c===b("MercuryFilters.bs").unread?b("MercuryFilters.bs").all:b("MercuryFilters.bs").unread);return 0},B=function(a){a=b("XMessengerDotComDYIController").getURIBuilder().getURI();return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Download Your Information"),target:"_blank"})},C=function(a){if(b("UserAgent").isPlatform("Mac OS X"))return h.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").macOSX,label:g._("New! Messenger for Mac"),onclick:function(a){return p(0)},target:"_blank"});else if(b("UserAgent").isPlatform("Windows"))return h.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").windows,label:g._("New! Messenger for Windows"),onclick:function(a){return p(0)},target:"_blank"});else return null},D=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:g._("Log Out"),onclick:y})},E=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:g._("Message Requests"),onclick:u})},F=function(a){if(b("CurrentUser").isWorkUser())return h.jsx(b("MessengerMenu.react").Item,{label:g._("Permanently Hidden"),onclick:v});else return null},G=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Hidden Chats"):g._("Archived Chats"),onclick:w})},H=b("CurrentUser").isWorkUser()?"/help/work/682468881954082":"https://www.facebook.com/help/735006619902401",I=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Copy Spoofs",onclick:x})},J=function(a){return h.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Reset SPIN Pin",onclick:function(a){b("SRPinningNub").resetPage();return 0}})},K=function(a){a=b("ProfilePlusMessaging").delegatePageID;if(a==null)return null;else{a=b("XCometPageVanityInboxController").getURIBuilder().setString("vanity",a).getURI();return h.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Message History in Inbox"),target:"_blank"})}};s=b("CurrentUser").isWorkUser()?[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatCustomMenuItem.bs").make(void 0,g._("Do Not Disturb"),s,void 0,[h.jsx(j,{viewer:f})])),h.jsx(b("MessengerMenu.react").Separator,{})]:[null,null];s=h.jsxs(b("MessengerMenu.react"),{children:[s[0],s[1],h.jsx(b("MessengerMenu.react").Item,{label:g._("Settings"),onclick:r}),h.jsx(b("MessengerMenu.react").Separator,{}),h.jsx(b("MessengerMenu.react").Item,{label:e===b("MessengerView").MASTER.RECENT?b("CurrentUser").isWorkUser()?g._("People"):g._("Active Contacts"):g._("Recent Messages"),onclick:t}),e===b("MessengerView").MASTER.RECENT?E(0):null,e===b("MessengerView").MASTER.RECENT?F(0):null,e===b("MessengerView").MASTER.RECENT&&d===b("MessagingTag").INBOX?G(0):null,h.jsx(b("MessengerMenu.react").Item,{label:c===b("MercuryFilters.bs").unread?g._("All Chats"):g._("Unread Chats"),onclick:A}),b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?K(0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?l(0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI))!==void 0?m(0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI))!==void 0?n(0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI))!==void 0?o(0):null,b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isDeactivatedAllowedOnMessenger()?B(0):null,h.jsx(b("MessengerMenu.react").Separator,{}),h.jsx(b("MessengerMenu.react").Item,{href:H,label:g._("Help"),target:"_blank"}),h.jsx(b("MessengerMenu.react").Item,{label:g._("Report a Problem"),onclick:z}),b("MessengerConfig").GKSpoof?I(0):null,b("CurrentUser").isEmployee()?J(0):null,k&&b("gkx")("1420764")?h.jsx(b("MessengerMenu.react").Separator,{}):null,k&&b("gkx")("1420764")?C(0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?h.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?D(0):null]});return h.jsx(b("MessengerPopoverMenu.react"),{menu:s,children:b("bs_curry")._1(a,i)})}var u=b("bs_belt_Option").getWithDefault;t=t;f.preventDefault=a;f.$pipe$question=u;f.WorkChatDoNotDisturbMenuItemContentReact=c;f.isMacOrWindows=k;f.showDesktopPromo=d;f.renderAbout=l;f.renderPolicies=m;f.renderPrivacy=n;f.renderCookies=o;f.LazySettings=e;f.hasFiredDesktopPromoImpressionEvent=r;f.logDesktopPromoImpressionOnce=s;f.make=t}),null);
__d("MessengerSettingsMenuButton.bs",["cx","fbt","bs_curry","React","Link.react","bs_caml_option","ReasonReact.bs","AbstractPopoverButtonReact.bs","MessengerSettingsMenuReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerSettingsIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("Settings, help and more"),k=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.settingsButtonRef,d=a.tabIndex,e=a.onClick;a=function(a){b("MessengerSettingsMenuReact.bs").logDesktopPromoImpressionOnce(0);if(e!==void 0)return b("bs_curry")._1(e,a);else return 0};a={button:b("MessengerDotComAndInboxM4Check.bs").yes?i.jsx(b("Link.react"),{"aria-label":j,className:k,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a);return 0},onClick:a,role:"button",tabIndex:d,title:j,children:b("MessengerSettingsIconSVGM4React.bs").icon}):i.jsx(b("Link.react"),{"aria-label":j,className:k,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a);return 0},onClick:a,role:"button",tabIndex:d,title:j}),defaultMaxWidth:200};return b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(a),!1,void 0,void 0,200,[]))}c=a;f.settingsLabel=j;f.settingsIconClasses=k;f.make=c}),null);
__d("MessengerMasterViewHeaderReact.bs",["cx","fbt","React","ReasonReact.bs","MessagingTag","MessengerView","MessengerActions","MessengerURIConstants","MessengerSearchActions","LinkWithHiddenURLBarReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs","MessengerSettingsMenuButton.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a.preventDefault();b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MessengerSearchActions").changeQuery(null);return 0}function k(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").PENDING);return 0}var l="_30yy _2oc8",m="_4kzu",n="_36ic _5l-3";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.view;a=a.viewer;var g=function(a){a.preventDefault();f!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0},o=function(a){a=d===b("MessagingTag").PENDING||d===b("MessagingTag").ACTION_ARCHIVED||f!==b("MessengerView").MASTER.RECENT;var c=a?g:k;a=a?h._("Back to Recent Messages"):h._("Back to Message Requests");return b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,a,[]))},p=d===b("MessagingTag").ACTION_ARCHIVED?h._("Archived Threads"):d===b("MessagingTag").PENDING?h._("Message Requests"):d===b("MessagingTag").OTHER?h._("Filtered Messages"):f===b("MessengerView").MASTER.PEOPLE?h._("Active Now"):h._("Messenger");o=d!==b("MessagingTag").INBOX||f!==b("MessengerView").MASTER.RECENT?o(0):i.jsx("div",{children:i.createElement(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:a,children:function(a){return i.createElement(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}}),className:m});var q=d!==b("MessagingTag").PENDING&&d!==b("MessagingTag").OTHER;if(q){q=h._("New Message");q=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(q,l,void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,j,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,q,[]))}else q=i.jsx("div",{children:i.createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:c,folder:d,threadlistOrderMap:e,viewer:a}),className:m});return i.jsxs("div",{children:[o,i.jsx("h1",{children:p,className:"_1tqi"}),q],className:n,role:"banner"})}c=a;d=a;f.handleAddClick=j;f.handleFilteredRequestsBackArrowClick=k;f.composeButtonClasses=l;f.settingsMenuClasses=m;f.rootClasses=n;f.make=c;f.jsComponent=d}),null);
__d("MessengerMessageDotsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.jsx("svg",{children:a.jsxs("g",{children:[a.jsx("polygon",{id:"Fill-2",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{id:"Fill-11",d:"M24,15.5044817 C22.8955,15.5044817 22,16.4004043 22,17.5054256 C22,18.6104468 22.8955,19.5063694 24,19.5063694 C25.1045,19.5063694 26,18.6104468 26,17.5054256 C26,16.4004043 25.1045,15.5044817 24,15.5044817 Z M18,15.5044817 C16.8955,15.5044817 16,16.4004043 16,17.5054256 C16,18.6104468 16.8955,19.5063694 18,19.5063694 C19.1045,19.5063694 20,18.6104468 20,17.5054256 C20,16.4004043 19.1045,15.5044817 18,15.5044817 Z M12,15.5044817 C10.8955,15.5044817 10,16.4004043 10,17.5054256 C10,18.6104468 10.8955,19.5063694 12,19.5063694 C13.1045,19.5063694 14,18.6104468 14,17.5054256 C14,16.4004043 13.1045,15.5044817 12,15.5044817 Z M29.9995,17.4579031 C29.9985,24.1155436 24.974,28.9893426 18,28.9893426 C16.838,28.9893426 15.731,28.8857938 14.692,28.6321741 C13.829,28.4215748 12.9275,28.4430849 12.0855,28.7302204 L8.084,29.9587999 C7.439,30.1784035 6.814,29.5521081 7.032,28.8827924 L7.827,26.2530519 C8.124,25.3411217 8.0085,24.3406498 7.5095,23.5257654 C6.4525,21.8004516 6.001,19.7394794 6.0005,17.4579031 L6.0005,17.4569027 L6.0005,17.4559022 C6.0015,10.7992622 11.026,6.0035 18,6.0035 C24.974,6.0035 29.9985,10.7992622 29.9995,17.4559022 L29.9995,17.4569027 L29.9995,17.4579031 Z",fill:"#000000"})],id:"message-dots",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"32px",width:"32px",viewBox:"0 0 36 36"});f.icon=c}),null);
__d("MessengerMessageRequestsInfoReact.bs",["fbt","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return g._("Open a request to see who wants to chat. Your info and actions stay private until you accept the request. Verify the identity of others before you share information");else return g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")}function a(a){return h(0)}c=a;f.getText=h;f.make=c}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainer.react",["JSResource","MercuryIDs","MercuryParticipantsImageM4React.re","lazyLoadComponent","React","RelayFBEnvironment","RelayModern","MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("MercuryParticipantsImageM4React.re").make,i=b("lazyLoadComponent")(b("JSResource")("MessengerStoriesRingPresenceMontageQueryContainer.react").__setRef("MessengerStoriesRingPresenceMessageQueryContainer.react")),j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,l=a.participants,m=a.size,n=a.storiesRingEligible,o=a.thread,p=a.totalParticipants;a=b("MercuryIDs").getThreadFBIDFromThreadID(o.thread_id);var q=j.jsx(h,{borderColor:c,className:d,expanded:e,isActive:f,participants:l,size:m,storiesRingEligible:n,totalParticipants:p});return j.jsx(k,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"),variables:{threadFBID:a},render:function(a){a=a.props;return a?j.jsx(j.Suspense,{fallback:q,children:j.jsx(i,{borderColor:c,className:d,expanded:e,isActive:f,messageThread:a.message_thread,participants:l,size:m,storiesRingEligible:n,totalParticipants:p})}):q}})}e.exports=a}),null);
__d("MessengerThreadImageM4React.bs",["React","MercuryIDs","bs_belt_Option","MessengerStoriesRingPresenceMessageQueryContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,h=a.size,i=a.storiesRingEligible,j=a.thread;a=a.viewer;var k=j.square_image_src!==null?j.square_image_src:j.image_src;if(k==null){var l=j.participants,m=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MercuryIDs").isCanonical(j.thread_id);var n,o=0;if(l.length!==1)o=1;else{var p=l[0];p===m?n=l:o=1}if(o===1){p=l.filter(function(a){return a!==m});n=a?p:p.slice(0,3)}return g.jsx(b("MessengerStoriesRingPresenceMessageQueryContainer.react"),{borderColor:c,className:d,expanded:e,isActive:f,participants:n,size:h,storiesRingEligible:i,thread:j,totalParticipants:l.length})}else return g.jsx("div",{className:b("bs_belt_Option").getWithDefault(d,""),style:{backgroundImage:"url("+(String(k)+")"),backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",height:""+(String(h)+"px"),width:""+(String(h)+"px"),backgroundSize:"cover",borderRadius:"50%"}})}c=a;f.make=c}),null);
__d("MessengerThreadImageM4React.re",["MessengerThreadImageM4React.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerThreadImageM4React.bs").make;f.make=a}),null);
__d("MessengerThreadlistLinkRowReact.bs",["cx","fbt","React","Link.react","ClickableAreaButton.react","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("MessengerDotComAndInboxM4Check.bs").yes?"_2ogt _6yb-":"_2ogt";function k(a){return i.jsx("li",{children:i.jsx("div",{children:i.createElement(b("Link.react"),{className:j,onClick:a,children:h._("See Spam")}),className:"_2ogs"}),className:"_5l-3 _1ht1 _2ogr"})}function a(a){return i.createElement(b("ClickableAreaButton.react"),{onClick:a,children:k(a),className:j})}f.linkClasses=j;f.linkBox=k;f.make=a}),null);
__d("MessengerThreadlistMessageRequestsRowReact.bs",["cx","ix","fbt","Keys","Image.bs","React","bs_caml_array","MercuryIDs","bs_caml_option","ReasonReact.bs","MessagingTag","MessengerActions","MNAdsLogMessageUtils","MessengerParticipants.bs","LinkWithHiddenURLBarReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerMessageDotsIconSVGM4React.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h("86936");function l(a){a.preventDefault();if(a.charCode===b("Keys").RETURN){b("MessengerActions").changeFolder(b("MessagingTag").PENDING);return 0}else return 0}function m(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").PENDING);return 0}function a(a){var c=a.pendingFolderUnseenCount,d=a.newMessageRequestThreads,e=a.viewer,f=d.filter(function(a){return!(a==null)});a=function(a){a=i._({"someone":"From someone you may know","people":"From people you may know"},[i._enum(f.length===1?"someone":"people",{someone:"someone",people:"people"})]);var c=f.length;if(c===0)return a;else{var d=b("bs_caml_array").caml_array_get(f,0),g=b("MercuryIDs").getParticipantIDFromUserID(e),h=d.participants.find(function(a){return a!==g});if(h!==void 0){h=b("MessengerParticipants.bs").getNow(h);if(h==null)return a;else{b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);if(c===1)return i._("From {name}",[i._param("name",h.name)]);else return i._("From {name} and {count} more",[i._param("name",h.name),i._param("count",String(c-1|0))])}}else return a}};if(f.length===0)return null;else return j.jsxs("li",{children:[b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(void 0,"_1ht5 _2il3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3",void 0,void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[j.jsxs("div",{children:[j.jsxs("div",{children:[b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:b("MessengerMessageDotsIconSVGM4React.bs").icon,className:"_7jot",style:{height:String(50)+"px",width:String(50)+"px"}}):b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,k,50,void 0,50,void 0,[])),(c==null?void 0:b("bs_caml_option").some(c))!==0&&!b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("span",{className:"_3xse"}):null],className:"_5l-3 _1qt3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5nxe"}),j.jsxs("div",{children:[j.jsx("div",{children:j.jsx("div",{children:i._({"*":"New Message Requests","_1":"New Message Request"},[i._plural(f.length)]),className:"_1ht6 _5nxa"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":"")}),className:"_1qt5 _5l-3"}),j.jsx("div",{children:j.jsx("div",{children:a(0),className:"_1htf"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":"")}),className:"_1qt5 _5l-3"})],className:"_1qt4"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m"})],className:"_6zkb"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":"")})])),b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx("div",{children:j.jsx("div",{children:j.jsx("div",{className:"_7jp2"}),className:"_2j6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3"}),role:"gridcell"}):null],className:"_5l-3 _1ht1"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+" _2kt",role:"row",tabIndex:-1,onKeyPress:l})}c=50;d=a;f.imageSize=c;f.src=k;f.handleKeyPress=l;f.handleClickRow=m;f.make=d}),null);
__d("MessengerThreadlistNewMessageRowReact.bs",["ReasonReact.bs","MessengerThreadlistNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("ChatPinnedThreadsEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MENU_ITEM_IN_OVERFLOW_MENU:"menu_item_in_overflow_menu",MENU_ITEM_IN_INFO_PANEL:"menu_item_in_info_panel",MENU_ITEM_IN_THREAD_ROW:"menu_item_in_thread_row",INFO_PANEL_SECTION_ITEM:"info_panel_section_item",CHAT_TAB_MENU:"chat_tab_menu",INTEGRATION_TEST:"integration_test",INBOX_THREAD_ROW_SWIPE:"inbox_thread_row_swipe",INBOX_EDIT_ORDER_SCREEN:"inbox_edit_order_screen"})}),null);
__d("ChatSidebarSheetChatOffline.react",["fbt","Link.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Turn on Active Status");return h.jsx("div",{children:g._("{=Go online} to see who's available.",[g._param("=Go online",h.jsx(b("Link.react"),{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick,children:a}))])})};return c}(h.PureComponent);a.propTypes={onGoOnlineClick:b("prop-types").func.isRequired};e.exports=a}),null);
__d("ChatSidebarSheetChatReconnectMsg.react",["fbt","ChannelConstants","Link.react","MessengerSpinner.react","Network","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isMessenger;a=a.msecs;var d=h.jsx(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:g._("No Internet Connection")});if(a==null||!b("Network").isOnline())return c?d:h.jsx("div",{children:g._("Unable to connect to chat. Check your Internet connection.")});else if(a>b("ChannelConstants").WARNING_COUNTDOWN_THRESHOLD_MSEC)return c?d:h.jsx("div",{children:g._("Unable to connect to chat. {try-again-link}",[g._param("try-again-link",h.jsx(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:g._("Try again")}))])});else if(a>1e3)return c?d:h.jsx("div",{children:g._("Unable to connect to chat. Reconnecting in {seconds}",[g._param("seconds",Math.floor(a/1e3))])});else return c?h.jsxs("div",{children:[h.jsx(b("MessengerSpinner.react"),{color:"grey"}),g._("Connecting...")]}):h.jsx("div",{children:g._("Unable to connect to chat. Reconnecting...")})};return c}(h.PureComponent);a.propTypes={isMessenger:b("prop-types").bool,msecs:b("prop-types").number,onManuallyConnectClick:b("prop-types").func};e.exports=a}),null);
__d("ChatSidebarSheetChatShutdownMsg.react",["fbt","ChannelConstants","CurrentUser","React","SyncProtocolConstants","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.hint;a=a.isMessenger;switch(c){case b("ChannelConstants").HINT_AUTH:return h.jsx("div",{children:g._("Your session has timed out. Please log in.")});case b("ChannelConstants").HINT_MAINT:return a?h.jsx("div",{children:g._("Messenger is currently down for maintenance.")}):h.jsx("div",{children:g._("{Chat} is currently down for maintenance.",[g._param("Chat",g._("Chat"))])});case b("SyncProtocolConstants").IRIS_CURSOR_LIMIT:case b("SyncProtocolConstants").SNAPSHOT_FAILURE:case b("ChannelConstants").HINT_CONN:default:if(!a)return h.jsx("div",{children:g._("{Chat} is currently unavailable.",[g._param("Chat",g._("Chat"))])});else if(b("CurrentUser").isWorkUser())return h.jsx("div",{children:g._("Workplace Chat is currently unavailable.")});else return h.jsx("div",{children:g._("Messenger is currently unavailable.")})}};return c}(h.PureComponent);a.propTypes={hint:b("prop-types").string,isMessenger:b("prop-types").bool};e.exports=a}),null);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","LogHistory","MercurySingletonProvider","MercurySyncDeltaTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),h=b("LogHistory").getInstance("dff_sender");a=function(){a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.sendGlobalDFF=function(){h.debug("sendGlobalDFF",JSON.stringify({fbid:this.$1})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch},queue:this.$1}})};c.sendThreadDFF=function(a,c){h.debug("sendThreadDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c}},queue:this.$1}})};c.sendMessageDFF=function(a,c,d){h.debug("sendMessageDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c,messageID:d})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c},messageId:d},queue:this.$1}})};return a}();var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("ChatSidebarSheetChatStale.react",["CurrentUser","FDSText.react","Link.react","MercurySyncFakeDFFSender","React","Tooltip"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.viewer;a="The server had a more recent sequence ID than the client the last two times it was checked.";return g.jsxs(g.Fragment,{children:[g.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(a,"above","center"),{children:g.jsx(b("FDSText.react"),{weight:"bold",color:"white",children:b("CurrentUser").isWorkUser()?"Chat is stale":"Messenger is stale"})})),g.jsxs("div",{children:[g.jsx(b("Link.react"),{onClick:function(){window.location.reload()},children:"Reload"})," | ",g.jsx(b("Link.react"),{onClick:function(){b("MercurySyncFakeDFFSender").getForFBID(c).sendGlobalDFF()},children:"Force data fetch"})," | ",b("CurrentUser").isEmployee()?g.jsx(b("Link.react"),{ajaxify:"/ajax/bugs/employee_report?source=chat_sidebar&defaultText=Chat%20is%20stale&product_category_id=303664383067721",rel:"dialog",children:"Report bug"}):null]})]})}e.exports=a}),null);
__d("MessengerSyncEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("ChatSidebarSheet.react",["fbt","Arbiter","Bootloader","ChannelConnection","ChatBehavior","ChatSidebarSheetChatOffline.react","ChatSidebarSheetChatReconnectMsg.react","ChatSidebarSheetChatShutdownMsg.react","ChatSidebarSheetChatStale.react","ChatVisibility","LogHistory","MercurySyncConstants","MercurySyncEventsProxy","MessengerEnvironment","MessengerSyncEventEmitter","PresencePrivacy","React","SubscriptionsHandler","clearTimeout","gkx","joinClasses","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("LogHistory").getInstance("sidebar_sheet");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=b("MercurySyncEventsProxy").getForFBID(d.props.viewer),d.state={connectionStatus:null,channelData:null,isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages(),syncStateInvalid:!1,syncStateReconnecting:!1,syncStateStale:!1},d.$5=function(a,c){var e=b("ChannelConnection").CONNECTED;switch(a){case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN):e=b("ChannelConnection").SHUTDOWN;break;case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING):e=b("ChannelConnection").RECONNECTING;break}d.setState({connectionStatus:e,channelData:c});d.$6()},d.$6=function(){d.setState({isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){var a=this,c;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("Arbiter")).subscribe([this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.CONNECTED),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING)],this.$5),b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],this.$6),b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.$6),b("ChatBehavior").subscribe(b("ChatBehavior").ON_CHANGED,this.$6),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE,function(){i.log("invalid state fatal","{}"),a.setState({syncStateInvalid:!0,syncStateReconnecting:!1})}),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY,function(){i.log("retry from invalid state","{}"),a.$7()}),c.subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER,function(){i.log("recover from invalid state","{}"),a.$8()}),b("MessengerSyncEventEmitter").addListener("SYNC_INVALID_STATE_STALE",function(b){a.setState({syncStateStale:b.isStale})}))};d.componentDidMount=function(){this.$4()};d.componentDidUpdate=function(){this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.componentWillUnmount=function(){this.$1&&this.$1.release(),b("clearTimeout")(this.$2)};d.render=function(){var a=b("MessengerEnvironment").messengerui,c,d;!this.state.isOnline&&!a?(c="offline",d=this.$9()):this.$10()?(c="error",d=this.$11(a)):!this.state.notifiesUserMessages&&!a&&(c="notice",d=this.$12());(this.state.connectionStatus===b("ChannelConnection").RECONNECTING&&this.state.channelData<1e3||this.state.syncStateReconnecting)&&(c=b("joinClasses")(c,"reconnecting"));this.state.syncStateStale&&b("gkx")("1097694")&&(c="error",d=h.jsx(b("ChatSidebarSheetChatStale.react"),{viewer:this.props.viewer}));return c==="offline"&&this.$13()?null:h.jsxs("div",{className:b("joinClasses")(this.props.className,c),children:[a?null:h.jsx("div",{className:"img"}),h.jsx("div",{className:"message",children:d})]})};d.$13=function(){return!this.props.isSidebar};d.$10=function(){var a=this.state.connectionStatus;return a&&(a===b("ChannelConnection").SHUTDOWN||a===b("ChannelConnection").RECONNECTING&&this.state.channelData!==void 0)||this.state.syncStateInvalid||this.state.syncStateReconnecting};d.$11=function(a){var c=this;if(this.state.connectionStatus===b("ChannelConnection").SHUTDOWN||this.state.syncStateInvalid)return h.jsx(b("ChatSidebarSheetChatShutdownMsg.react"),{hint:this.state.syncStateInvalid?void 0:this.state.channelData,isMessenger:a});else if(this.state.connectionStatus===b("ChannelConnection").RECONNECTING||this.state.syncStateReconnecting){var d=this.state.channelData;if(d===void 0&&!this.state.syncStateReconnecting)return null;d=this.state.syncStateReconnecting?1:d;d>1e3&&(this.$2=b("setTimeoutAcrossTransitions")(this.$5.bind(this,this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING),d-1e3),1e3));return h.jsx(b("ChatSidebarSheetChatReconnectMsg.react"),{isMessenger:a,msecs:d,onManuallyConnectClick:function(){c.state.syncStateReconnecting||b("ChannelConnection").reconnect()}})}return null};d.$9=function(){var a=this;return h.jsx(b("ChatSidebarSheetChatOffline.react"),{onGoOnlineClick:function(c){a.$14(),i.log("sidebar_go_online"),b("ChatVisibility").goOnline()}})};d.$14=function(){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_PRESENCE_FUNNEL"),a.appendActionWithTag("WWW_PRESENCE_FUNNEL","sidebar_turn_on_chat",b("PresencePrivacy").getOnlinePolicyStr()),a.endFunnel("WWW_PRESENCE_FUNNEL")},"ChatSidebarSheet.react")};d.$12=function(){return h.jsx("div",{children:g._("Alerts are off while you use another client to chat.")})};d.$7=function(){this.setState({syncStateReconnecting:!0})};d.$8=function(){this.setState({syncStateInvalid:!1,syncStateReconnecting:!1})};return c}(h.PureComponent);e.exports=a}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"})}),null);
__d("MessengerSearchFunnelState",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1}var b=a.prototype;b.setSessionID=function(a){this.$1=a};b.getSessionID=function(){return this.$1};return a}();e.exports=a}),null);
__d("MessengerThreadlistRowContainerReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","MessengerThreadlistRowContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistRowContainer.react"),{folder:b("bs_js_null_undefined").fromOption(a),blockedIds:n,isActive:(a=b("Utils.bs")).optionBoolToBool(c),isFocused:a.optionBoolToBool(d),isActionsFocused:a.optionBoolToBool(f),isTabbable:a.optionBoolToBool(h),isDenseRow:a.optionBoolToBool(e),onOverrideSelect:b("bs_js_null_undefined").fromOption(g),onFocus:i,onScrollIntoView:j,thread:k,viewer:l,readReceipts:m},o)}f.make=a}),null);
__d("WorkChatActivityTypedLogger.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 0:return"group_sync_new_post_button_click";case 1:return"notifs_jewel_links_click";case 2:return"nav_tab_click";case 3:return"info_panel_profile_link_click";case 4:return"notifs_jewel_click";case 5:return"info_panel_group_sync_top_link_click";case 6:return"info_panel_group_sync_about_link_click";case 7:return"info_panel_group_sync_posts_link_click";case 8:return"info_panel_group_sync_saved_link_click";case 9:return"info_panel_group_sync_events_link_click";case 10:return"inbox_see_all_chats_threadlist";case 11:return"inbox_see_all_groups_threadlist";case 12:return"inbox_see_all_unread_threadlist"}}f.string_of_event=a}),null);
__d("WorkChatThreadlistTabsReact.bs",["cx","fbt","React","Link.react","MessagingTag","MessengerView","MercuryFilters.bs","MessengerActions","MessengerSettingsMenuReact.bs","MessengerSettingsMenuButton.bs","WorkChatActivityTypedLogger.bs","WorkChatActivityTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.filter,d=a.folder,e=a.view;a=a.viewer;c=c!==void 0?c:b("MercuryFilters.bs").all;var f=d!==void 0?d:"",g=function(a){f!==b("MessagingTag").INBOX&&b("MessengerActions").changeFolder(b("MessagingTag").INBOX);new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(2)).addToExtraData("data",[a===b("MessengerView").MASTER.RECENT?"recent":"people"]).log();b("MessengerActions").changeMasterView(a);return 0};d=h._("Home");var j=h._("People"),k=e===b("MessengerView").MASTER.RECENT&&f===b("MessagingTag").INBOX;return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("Link.react"),{"aria-label":d,className:"_65t-"+(k?"":" _65t_")+(k?" _65u0":""),onClick:function(a){return g(b("MessengerView").MASTER.RECENT)},role:"button",title:d}),className:"_65tz"}),i.jsx("div",{children:i.jsx(b("Link.react"),{"aria-label":j,className:"_65t-"+(e!==b("MessengerView").MASTER.PEOPLE?" _65u1":"")+(e===b("MessengerView").MASTER.PEOPLE?" _65u2":""),onClick:function(a){return g(b("MessengerView").MASTER.PEOPLE)},role:"button",title:j}),className:"_65tz"}),i.jsx("div",{children:i.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:f,view:e,viewer:a,children:function(a){return i.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}}),className:"_65tz"})],className:"_65ty"})}c=a;f.make=c}),null);
__d("WorkGalahadChatPinnedThreadsDraggableItem.react",["AbstractDraggableItem.react","React"],(function(a,b,c,d,e,f){var g=b("React");function a(a){return g.jsx(b("AbstractDraggableItem.react"),babelHelpers["extends"]({},a,{useScroller:!1}))}e.exports=a}),null);
__d("WorkGalahadChatPinnedThreadsPlaceholder.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.height;a=a.size;return h.jsxs("div",{style:{height:c},className:"t36ehdhz oitujibm mu99tzkh",children:[h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"margin-start-1":"sz73h0x9","border-top-0.3":"o144up91","border-end-0.3":"cxmiaorw","border-bottom-0.3":"dyz8u7lw","border-start-0.3":"f7ccw6nr","border-top-start-radius-1":"fviam4sw","border-top-end-radius-1":"e3xoa9gt","border-bottom-end-radius-1":"c6boxllp","border-bottom-start-radius-1":"mukvf3dn","box-sizing-1":"tdgv6ycz"},a==="small"?{"height-1":"tnvj1z6f","width-1":"l99ei0wt"}:{"height-1":"ayztslwv","width-1":"fbxwonbd"})}),h.jsx("div",{className:"fxb11ux4 q877oug0 oqpzs85e"})]})}e.exports=a}),null);
__d("WorkGalahadChatPinnedThreadsReorderableList.react",["AbstractDraggableList.react","FBOverlayBase.react","React","WorkGalahadChatPinnedThreadsDraggableItem.react","WorkGalahadChatPinnedThreadsPlaceholder.react","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback;b("immutable").List;b("immutable").Map;function a(a){var c=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;var f={};a.forEach(function(a,c){f[c]={id:c,label:g.jsx(b("FBOverlayBase.react"),{children:a}),isMovable:!0,isRemovable:!1}});a=h(function(a,b){var d=c["delete"](c.indexOf(a));if(b){b=d.indexOf(b);d=d.splice(b,0,a)}else d=d.push(a);e&&e(d)},[c]);return g.jsx(b("AbstractDraggableList.react"),{itemsRenderer:b("WorkGalahadChatPinnedThreadsDraggableItem.react"),itemIDs:c.toArray(),itemsByID:f,onRemove:function(){},onReorder:a,placeholderRenderer:b("WorkGalahadChatPinnedThreadsPlaceholder.react"),placeholderProps:{size:d}})}e.exports=a}),null);
__d("WorkGalahadChatPinnedThreadsInlineEditor.react",["cx","React","WorkGalahadChatPinnedThreadsReorderableList.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");b("immutable").List;b("immutable").Map;function a(a){var c=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;return h.jsx("div",{className:"_3-95 _8nwq",children:h.jsx(b("WorkGalahadChatPinnedThreadsReorderableList.react"),{onChange:e,ids:c,renderedItemsByID:a,itemSize:d})})}e.exports=a}),null);
__d("WIGPivotLink.react",["React","TetraPivotLink.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return g.jsx(b("TetraPivotLink.react"),babelHelpers["extends"]({},a,{ref:c}))}e.exports=g.forwardRef(a)}),null);
__d("WorkGalahadChatsThreadlistMenu",["fbt","MercuryFilters.re","MessagingTag","React","WIGPivotLink.react","WorkGalahadChatChannelActions","XSavedForLaterDashboardController","gkx"],(function(a,b,c,d,e,f,g){b("React");function h(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function i(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").unread)}function j(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").ACTION_ARCHIVED),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function k(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").OTHER),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function l(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").PENDING),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.re").all)}function a(a,c){var d=b("gkx")("843916"),e=[{selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").INBOX,label:g._("All"),onPress:h},{selected:a===b("MercuryFilters.re").unread&&c===b("MessagingTag").INBOX,label:g._("Unread"),onPress:i},{selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").ACTION_ARCHIVED,label:g._("Hidden"),onPress:j}];e.push({selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").OTHER,label:g._("Permanently Hidden"),onPress:k});e.push({selected:a===b("MercuryFilters.re").all&&c===b("MessagingTag").PENDING,label:g._("Message Requests"),onPress:l});d&&e.push({label:g._("Saved Messages"),linkProps:{url:b("XSavedForLaterDashboardController").getURIBuilder().setEnum("dashboard_section","MESSAGES").getURI()}});return e}e.exports={getMenuItemsForChannelHeader:a}}),null);
__d("WorkGalahadUIPivotLinkGroup.react",["ix","fbt","requireDeferred","FocusGroup.react","React","TabbableScopeQuery.react","WIGCircleButton.react","WIGDeferredPopoverTrigger.react","WIGDropdownMenuItem.react","WIGPivotLink.react","WIGTooltip.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i;c=b("FocusGroup.react").createFocusGroup;var j=b("React");d=b("React");f=d.forwardRef;var k=d.useEffect,l=d.useRef,m=d.useState,n=b("requireDeferred")("WIGDropdownMenu.react"),o={pivotLink:{boxSizing:"tdgv6ycz",paddingEnd:"q8ag7aew",":last-child":{paddingEnd:"e45fqjho"},height:"cfk3jyev"},pivotLinkContainer:{display:"mu99tzkh",flexDirection:"sulwup3a",flexShrink:"o0foh442",flexWrap:"mhnqdiy5"},seeMoreButton:{height:"cfk3jyev"}};d=c(b("TabbableScopeQuery.react"));var p=d[0],q=d[1];function a(a){var c,d=a.maxActionsNumber;d=d===void 0?1:d;var e=a.pivotActions;a=a.pivotActionsLabel;var f=m(!1),s=f[0],t=f[1],u=[],v=l();k(function(){s&&(v.current&&v.current(),t(!1),v.current=void 0)},[s]);f=((f=e)!=null?f:[]).slice(0,1);c=((c=e)!=null?c:[]).slice(1);c=((e=e)!=null?e:[]).length>d?c.sort(function(a,b){return Number(b.selected)-Number(a.selected)}):c;f=f.concat(c.slice(0,d));e=c.slice(d);f.forEach(function(a,b){u.push(j.jsx(r,babelHelpers["extends"]({},a),b))});c=e.map(function(a){var c;return j.jsx(b("WIGDropdownMenuItem.react"),{label:a.label,href:(c=(c=a.linkProps)==null?void 0:c.url)!=null?c:void 0,onClick:function(b){a!=null&&a.onPress!=null&&(v.current=function(){return a.onPress&&a.onPress(b)},t(!0))}},a.label)});if(e.length!==0){var w=h._("See more");u.push(j.jsx(q,{children:j.jsx("div",{className:(i||(i=b("stylex")))(o.seeMoreButton),children:j.jsx(b("WIGTooltip.react"),{position:"above",tooltip:w,children:j.jsx(b("WIGDeferredPopoverTrigger.react"),{align:"start",fallback:null,popoverProps:{items:c,label:w},popoverResource:n,popoverType:"menu",children:function(a,c){return j.jsx(b("WIGCircleButton.react"),{label:w,icon:b("fbicon")._(g("484388"),24),onPress:c,ref:a,size:36})}})})})},f.length))}return f.length!==0?j.jsx(p,{wrap:!0,portrait:!1,preventScrollOnFocus:!1,tabScopeQuery:b("TabbableScopeQuery.react"),allowModifiers:!0,children:j.jsx("div",{role:"toolbar","aria-label":a,className:(i||(i=b("stylex")))(o.pivotLinkContainer),children:u})}):null}var r=f(function(a,c){return j.jsx(q,{children:j.jsx("div",{className:(i||(i=b("stylex")))(o.pivotLink),children:j.jsx(b("WIGPivotLink.react"),babelHelpers["extends"]({},a,{ref:c}))})})});e.exports=a}),null);
__d("WorkGalahadUIChannelHeader.react",["React","WIGPivotLink.react","WIGText.react","WorkGalahadUIPivotLinkGroup.react","stylex","testID"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.backAction,d=a.maxActionsNumber,e=a.pivotActions,f=a.primaryAction,h=a.secondaryAction,i=a.tertiaryAction,j=a.title,k=a.pivotActionsLabel;a=a["data-testid"];c=g.jsxs("div",{className:"h7jhnjd5 t36ehdhz sulwup3a rpt3ley2 hal92y33 zfmvpfxx eimatuwp m3p3afjb a3m408la f0w9ysip kyu6y8np mq32vg4l ouhd256r jgcuv4po akl1aaa0 kqlegusg ftjbd6cl mu99tzkh tdgv6ycz j6ngj7h7 olwqhsk7",children:[g.jsxs("span",{className:"mu99tzkh",children:[Boolean(c)&&c,g.jsx("div",{className:Boolean(c)?"s9o98cno b3dg2zbw":"",children:g.jsx(b("WIGText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:j})})]}),g.jsxs("span",{className:"ktvg4m2a mu99tzkh",children:[i!=null&&g.jsx("span",{className:"ewe7nd7x",children:i}),h!=null&&g.jsx("span",{className:"ewe7nd7x",children:h}),f]})]});return g.jsxs("div",babelHelpers["extends"]({className:"r8mubyy5 kykouyfj p8o7x76n"},b("testID")(a),{children:[c,e?g.jsx("div",{className:"bv6y7xb9",children:g.jsx(b("WorkGalahadUIPivotLinkGroup.react"),{maxActionsNumber:d,pivotActions:e,pivotActionsLabel:k})}):null]}))}e.exports=a}),null);
__d("WorkGalahadChatsThreadlistHeader.react",["fbt","requireCond","MercuryFilters.re","MessagingTag","React","cr:1061624","WorkGalahadChatsThreadlistMenu","WorkGalahadUIChannelHeader.react","gkx"],(function(a,b,c,d,e,f,g){var h=b("React"),i=g._("Chats");function a(a){var c=a.filter;a=a.folder;var d=b("gkx")("1412621");d=d?[]:b("WorkGalahadChatsThreadlistMenu").getMenuItemsForChannelHeader(c,a);return h.jsx(b("WorkGalahadUIChannelHeader.react"),{pivotActions:d,pivotActionsLabel:g._("Chats filters"),primaryAction:b("cr:1061624")&&h.jsx(b("cr:1061624").PrimaryActionForChannelHeader,{}),title:i})}e.exports=h.memo(a)}),null);
__d("WorkGalahadNavListContext.react",["React"],(function(a,b,c,d,e,f){a=b("React");e.exports=a.createContext({focused:!1,hovered:!1})}),null);
__d("WorkGalahadNavHeaderPressableAction.react",["React","WIGPressable.react","WIGText.react","WIGTooltip.react","WorkGalahadNavListContext.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useContext,i={action:{textAlign:"igocvxxm"},actionTransition:{opacity:"fchkd3bi",transitionProperty:"dm2j5ryo",transitionDuration:"rs2dquaj",transitionTimingFunction:"d32d5syc",":focus":{opacity:"el9k2h2j"},":hover":{opacity:"kh39u4sc"}},actionTransitionVisible:{opacity:"pt8wzkwh"}};function a(a){var c=a.href;c=c===void 0?void 0:c;var d=a.onClick,e=a.showOnHover,f=a.linkRef,j=a.tooltip;a=a.title;var k=h(b("WorkGalahadNavListContext.react")),l=k.focused;k=k.hovered;c=c!=null?{url:c.toString()}:void 0;c=g.jsx(b("WIGPressable.react"),{display:"block",linkProps:c,onPress:d,overlayDisabled:!0,xstyle:[i.action,e===!0&&i.actionTransition,(l||k)&&i.actionTransitionVisible],ref:f,children:g.jsx(b("WIGText.react"),{type:"bodyLink4",color:"highlight",children:a})});j!=null&&(c=g.jsx(b("WIGTooltip.react"),{tooltip:j,children:c}));return c}e.exports=a}),null);
__d("WorkGalahadNavTextHeaderReact.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){g={type:"text",title:a};c!==void 0&&(g.subtitle=b("bs_caml_option").valFromOption(c));d!==void 0&&(g.action=b("bs_caml_option").valFromOption(d));e!==void 0&&(g.isLarge=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.indented=b("bs_caml_option").valFromOption(f));return g}f.makeProps=a}),null);
__d("useHoverAndFocusState",["WorkGalahadHoverHelper","useFocusState"],(function(a,b,c,d,e,f){"use strict";var g=b("WorkGalahadHoverHelper").useHover;function a(){var a=g(),c=a[0];a=a[1];var d=b("useFocusState")(),e=d[0],f=d[1];d=d[2];return{hovered:c,focused:e,onHoverIn:a.onMouseEnter,onHoverOut:a.onMouseLeave,onFocusIn:f,onFocusOut:d}}e.exports=a}),null);
__d("WorkGalahadUIChannelItem.react",["CometPressableOverlay.react","Locale","React","URI","WIGInteractiveElementContext.react","WIGPressable.react","WIGTextPairing.react","WorkGalahadChannelFocusableTable.react","stylex","useHoverAndFocusState"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React");c=b("React");var j=c.useCallback,k=c.useMemo,l=c.useState,m=b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,n=b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableRow,o={root:{boxSizing:"tdgv6ycz",position:"hal92y33",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",minHeight:"eg3o40xf",minWidth:"f0w9ysip",display:"mu99tzkh",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",borderTop:"nplqc3z5",borderEnd:"llwpk7e4",borderBottom:"fqnkz0nq",borderStart:"jga1arsn",paddingEnd:"g1w82w5r"},focused:{outline:"d3fls08n"},selected:{backgroundColor:"p9m48beo"},contentContainer:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a"},content:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",outline:"mvskt0vx",":hover":{textDecoration:"b69vs25w"}},textPairing:{flexGrow:"ftjbd6cl",flexBasis:"trztskah",minWidth:"f0w9ysip",paddingTop:"s9o98cno",paddingBottom:"sgyxnsb9",overflowX:"ib0kwflm",overflowY:"qbbcxcfp",textOverflow:"oecdyzpx"},addOnPrimary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",justifyContent:"akl1aaa0",marginStart:"mq32vg4l",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",alignItems:"t36ehdhz",flexGrow:"aeqptlwn",marginBottom:"kl295ud9",marginEnd:"oypfxdan",marginTop:"q7fxw9qh",position:"hal92y33"},addOnSecondary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",position:"i8ovu4tj",start:"qgbafi3f",alignItems:"t36ehdhz",justifyContent:"lhmcu1i6",flexGrow:"aeqptlwn"},addOnSecondaryOffset:{transform:"s5apgkp2"},addOnSecondaryOffsetRTL:{transform:"xd99s5we"},indentationLevel1:{paddingStart:"hmw2pi96"},indentationLevel2:{paddingStart:"dxs9yoch"},indentationLevel3:{paddingStart:"den1hhl9"},addOnTertiary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginTop:"kyu6y8np",minHeight:"eg3o40xf",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexGrow:"aeqptlwn",flexShrink:"o0foh442",minWidth:"eia6fg53",alignItems:"t36ehdhz",justifyContent:"gyidwt2h",flexDirection:"sulwup3a",marginStart:"se2r61z1"}};function a(a,c){var d=a.addOnPrimary,e=a.addOnSecondary,f=a.addOnTertiary,p=a.disabled;p=p===void 0?!1:p;var q=a.emphasized;q=q===void 0?!1:q;var r=a.selected;r=r===void 0?!1:r;var s=a.indentationLevel;s=s===void 0?2:s;var t=a.linkProps;t=t===void 0?{}:t;var u=t.url;t=babelHelpers.objectWithoutPropertiesLoose(t,["url"]);var v=a.body,w=a.bodyColor,x=a.bodyLineLimit;x=x===void 0?1:x;var y=a.headline,z=a.headlineAddOn,A=a.headlineColor,B=a.headlineLineLimit;B=B===void 0?1:B;var C=a.meta,D=a.metaColor,E=a.metaLineLimit,F=a.metaLocation,G=a.onPress,H=a.onPressIn,I=a.onHoverIn,J=a.onHoverOut,K=a.onFocusIn,L=a.onFocusOut,M=a.isSemanticListItem;M=M===void 0?!0:M;var N=a.testid;N=a.wrapperRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","addOnTertiary","disabled","emphasized","selected","indentationLevel","linkProps","body","bodyColor","bodyLineLimit","headline","headlineAddOn","headlineColor","headlineLineLimit","meta","metaColor","metaLineLimit","metaLocation","onPress","onPressIn","onHoverIn","onHoverOut","onFocusIn","onFocusOut","isSemanticListItem","testid","wrapperRef"]);var O=l(!1),P=O[0],Q=O[1];O=b("useHoverAndFocusState")();var R=O.focused,S=O.hovered,T=O.onFocusIn,U=O.onFocusOut,V=O.onHoverIn;O=O.onHoverOut;var W=k(function(){return{hovered:S,focused:R,pressed:P}},[S,R,P]),X=j(function(a){T(a),K&&K(a)},[K,T]),Y=j(function(a){U(a),L&&L(a)},[L,U]),Z=j(function(a){Q(!0),H&&H(a)},[H]),$=j(function(){return Q(!1)},[]);d=i.jsxs(i.Fragment,{children:[d!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(o.addOnPrimary),children:d}),i.jsx("div",{"data-testid":void 0,className:(g||(g=b("stylex")))(o.textPairing),children:i.jsx(b("WIGTextPairing.react"),{body:v,bodyColor:w,bodyLineLimit:x,headline:y,headlineAddOn:z,headlineColor:A,headlineLineLimit:B,level:4,meta:C,metaColor:D,metaLineLimit:E,metaLocation:F,reduceEmphasis:q===!1})})]});v=M?"li":"div";w=G||u!=null;return i.jsx(n,{children:i.jsx(b("WIGInteractiveElementContext.react").Provider,{value:W,children:i.jsxs(v,{ref:N,role:w&&M?"row":void 0,onMouseEnter:V,onMouseLeave:O,className:g(o.root,s===1&&o.indentationLevel1,s===2&&o.indentationLevel2,s===3&&o.indentationLevel3,R&&o.focused,r&&o.selected),children:[w&&i.jsx(b("CometPressableOverlay.react"),{focusVisible:R,hovered:S,pressed:P}),w?i.jsx(m,{children:i.jsx("div",{className:(g||(g=b("stylex")))(o.contentContainer),role:M?"gridcell":void 0,children:i.jsx(b("WIGPressable.react"),babelHelpers["extends"]({},a,{display:"block",disabled:p,linkProps:u?babelHelpers["extends"]({},t,{url:(h||(h=b("URI"))).normalize(u)}):void 0,onHoverIn:I,onHoverOut:J,onFocusIn:X,onFocusOut:Y,onPress:G,onPressIn:Z,onPressOut:$,overlayDisabled:!0,ref:c,xstyle:o.content,children:d}))})}):i.jsx("div",{className:(g||(g=b("stylex")))(o.content),children:d}),e!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(o.addOnSecondary,b("Locale").isRTL()?o.addOnSecondaryOffsetRTL:o.addOnSecondaryOffset),children:e}),f!=null&&i.jsx("div",{className:(g||(g=b("stylex")))(o.addOnTertiary),children:f})]})})})}e.exports=i.forwardRef(a)}),null);
__d("WorkGalahadNewMessageRow.react",["fbt","ix","Image.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerParticipants.re","MessengerProfileImageWrapperReact.bs","MessengerView","React","WIGCircleButton.react","WorkGalahadUIChannelItem.react","fbicon"],(function(a,b,c,d,e,f,g,h){var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("React");c=b("React");var k=c.useEffect,l=c.useRef,m=c.useState,n=h("86935");function a(a){var c=a.isActive;a=a.onClose;var d=m([]),e=d[0],f=d[1],o=l(null),p=function(){o.current&&(b("MessengerParticipants.re").removeCallback(o.current),o.current=null);var c=b("MessengerComposerStore").getState().recipients.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray();c=b("MessengerParticipants.re").getMultiEager(c,function(a){f(a)});var a=c[0];c=c[1];o.current=c;return a};k(function(){var a=b("MessengerComposerStore").addListener("change",function(){var a=p();f(a)});return function(){a&&a.remove(),o.current&&(b("MessengerParticipants.re").removeCallback(o.current),o.current=null)}},[]);return j.jsx(b("WorkGalahadUIChannelItem.react"),{onPress:function(){b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE)},addOnPrimary:e.length>0?j.jsx(i,{isMessengerUser:!1,size:48,showBadge:!1,children:j.jsx(b("MercuryParticipantsImage.react"),{participants:e.map(function(a){return a.id}).slice(0,3),size:48})}):j.jsx(b("Image.react"),{height:48,src:n,width:48}),headline:e.length===0?g._("New message"):g._("New message to {List of message recipients}",[g._param("List of message recipients",new(b("MercuryParticipantListRenderer"))().renderParticipantList(e.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))]),addOnTertiary:j.jsx(b("WIGCircleButton.react"),{label:g._("Stop composing"),size:24,icon:b("fbicon")._(h("478231"),12),color:"primary",onPress:a}),selected:c})}e.exports=a}),null);
__d("WorkGalahadNewMessageRowReact.bs",["ReasonReact.bs","WorkGalahadNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("useWorkInviteModal.react",["JSResource","useWIGLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g=b("JSResource")("WorkInviteDialog.react").__setRef("useWorkInviteModal.react");function a(a){var c=a.source,d=a.creationSourceAdmin;a=b("useWIGLazyDialog")(g);var e=a[0],f=function(){e({source:c,creationSourceAdmin:d},function(){})};return function(a){return f()}}e.exports=a}),null);
__d("WorkchatThreadListInviteRow.react",["ix","fbt","React","WIGIcon.react","WorkGalahadUIChannelItem.react","fbicon","gkx","stylex","useWorkInviteModal.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(){var a=b("useWorkInviteModal.react")({source:"www_chat_thread_list"}),c=b("gkx")("1412621");return!c?null:i.jsx(b("WorkGalahadUIChannelItem.react"),{onPress:a,addOnPrimary:i.jsx("div",{className:"fx7ovklu djuijisu s5xm7hhm brrrwa7m qctk5f2p h4y7jwnr kpaihjvf bul0e9dl su1hulxq dlzdiaoh",children:i.jsx(b("WIGIcon.react"),{color:"highlight",icon:b("fbicon")._(g("483770"),24)})}),headline:h._("Add Coworkers"),headlineColor:"highlight",emphasized:!0,selected:!1})}e.exports=a}),null);
__d("MessengerThreadlistReact.bs",["cx","csx","fbt","FBID.bs","bs_array","bs_block","bs_curry","React","Parent","gkx","bs_js_dict","qex","bs_belt_Map","bs_belt_Set","bs_caml_obj","ReactDOM","ThreadId.bs","debounce","UserAgent","immutable","bs_belt_Array","Bootloader","bs_caml_array","Link.react","MercuryIDs","setTimeout","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","MessagingTag","MessengerView","ParticipantId.bs","bs_caml_primitive","MercuryFilters.bs","MessengerState.bs","MessengerConfig","MessengerActions","MercuryThreadInfo","KeyEventController","MercuryThreadActions","MessageRequestLogger.bs","SubscriptionsHandler","MessengerSpinnerReact.bs","ChatSidebarSheet.react","MessengerGalahadGating.bs","MessengerSearchActions","QuickPerformanceLogger","MessengerTypeaheadUtils","MessengerComposerActions","MercuryTypeaheadConstants","MessengerSearchFunnelState","ChatPinnedThreadsEntryPoint","WorkChatThreadlistTabsReact.bs","WorkGalahadNavTextHeaderReact.bs","WorkGalahadNewMessageRowReact.bs","MessengerDotComAndInboxM4Check.bs","WorkGalahadNavTextHeader.react","MessengerNewMessagesNoticeReact.bs","MessengerThreadlistLinkRowReact.bs","MessengerFlexScrollableAreaReact.bs","MessengerMessageRequestsInfoReact.bs","WorkchatThreadListInviteRow.react","getMessengerThreadlistWorkDenseMode","MessengerGraphQLSearchTypeaheadReact.bs","MessengerSearchFunnelLoggerConstants","MessengerThreadListGridWrapper.react","MessengerThreadlistRowContainerReact.bs","MessengerThreadlistNewMessageRowReact.bs","WorkGalahadChatsThreadlistHeader.react","WorkGalahadNavHeaderPressableAction.react","MessengerThreadlistMessageRequestsRowReact.bs","MessengerUniversalSearchFunnelLoggerConstants","WorkGalahadChatPinnedThreadsInlineEditor.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("qex")._("1097094");function l(a,c,d){if(d!==void 0&&a.length>0&&c.length>0){a=b("bs_caml_array").caml_array_get(a,0);c=b("bs_caml_array").caml_array_get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_caml_option").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}else return!1}function m(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?void 0:b("bs_caml_option").some(a))===void 0}function n(a,c){var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?void 0:b("bs_caml_option").some(a);if(d)if(e||f||g||!c)return!1;else return a===void 0;else if(e)if(f)if(g||!c)return!1;else return a===void 0;else if(g&&c)return a===void 0;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var o="K",p=a+" + K";function q(a,c){c.state.scrollable.contents=a==null?void 0:b("bs_caml_option").some(a);return 0}function r(a,c,d){var e=d.findIndex(function(c){if(a!==void 0)return c.thread_id===b("bs_caml_option").valFromOption(a);else return!1});e=b("bs_caml_primitive").caml_int_min(b("bs_caml_primitive").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").caml_array_get(d,e).thread_id}function s(a,c){a.preventDefault();a=c.state.searchInputNode.contents;if(a!==void 0)if(k){b("MessengerSearchActions").enterUniversalSearch();return 0}else return b("bs_caml_option").valFromOption(a).focusInput();else return 0}function t(a,c){c.state.searchInputNode.contents=a==null?void 0:b("bs_caml_option").some(a);return 0}function u(a,c){var d=c.state;b("setTimeout")(function(c){c=d.scrollable.contents;if(c!==void 0){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_caml_option").valFromOption(c));return 0}else return 0},0);return 0}function v(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").OTHER);return 0}function w(a){a.preventDefault();b("MessengerActions").changeFilter(b("MercuryFilters.bs").all);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0}function x(a,c,d,e){var f=[];Object.keys(c).forEach(function(d){d=b("bs_js_dict").get(c,d);if(d!==void 0){d=d;var e=d[1];d=d[0];if(d==null)return 0;else{d=b("ReactDOM").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return 0}else return 0}}else return 0});if(f.length>0){var g=f.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)});g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}else return 0}var y=b("debounce")(function(a){var c=a[1];a=a[0];var d=a.scrollable.contents;if(d!==void 0){d=b("bs_caml_option").valFromOption(d).getArea();if(d==null)return 0;else{d=d.getElement().getBoundingClientRect();x(d,a.pendingNodes,b("MessagingTag").PENDING,c);return x(d,a.otherNodes,b("MessagingTag").OTHER,c)}}else return 0},500);function z(a,c,d){d=d.state;if(a.folder===b("MessagingTag").PENDING){d.pendingNodes[a.thread_id]=[c,a];return 0}else if(a.folder===b("MessagingTag").OTHER){d.otherNodes[a.thread_id]=[c,a];return 0}else return 0}function A(a,c){return b("bs_curry")._1(a.send,b("bs_block").__(2,[c]))}function B(a,c,d,e,f,g,h,i,j){var k=d.state;a=a!==void 0?b("bs_caml_option").valFromOption(a)===j.thread_id:!1;var l=k.focusedThreadID;l=l!==void 0;var m=k.focusedThreadID;m=m!==void 0?b("bs_caml_option").valFromOption(m)===j.thread_id:!1;l=a?l&&!m?!1:!0:m?!0:!1;return b("ReasonReact.bs").element(j.thread_id,j.folder===b("MessagingTag").PENDING||j.folder===b("MessagingTag").OTHER?b("bs_curry")._1(d.handle,function(a,b){return z(j,a,b)}):function(a){return 0},b("MessengerThreadlistRowContainerReact.bs").make(e,a,m,h,k.isThreadActionMenuFocused,i,l,b("bs_curry")._1(d.state.memoizedOnFocus,[d,A]),b("bs_curry")._1(d.state.memoizedHandleScrollIntoView,[d,u]),j,c,g,f,[]))}function C(a,c){var d=c.state;c=a[2];var e=a[1],f=a[0],g=e==null?b("MessengerSearchFunnelLoggerConstants").OTHER:e===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:e===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:e===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:e===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||e===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||e===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||e===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:e===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:e===b("MercuryTypeaheadConstants").MESSAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").MESSAGE:b("MessengerSearchFunnelLoggerConstants").OTHER;if(c!==void 0){a=c;b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),f,b("bs_curry").__1(a),null)}else g===b("MessengerSearchFunnelLoggerConstants").MESSAGE?b("MessengerSearchActions").searchForMessagesInAThread(f,d.queryString):b("MessengerActions").selectThread(f,e);c=d.queryString;var h=c===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.logResultSelected,d.queryString,f,g,h,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs");return 0}var D=b("MessengerDotComAndInboxM4Check.bs").yes?"_3bll _6ybw":"_3bll";function E(a){a=b("getMessengerThreadlistWorkDenseMode")(a);if(a==null||a!=="QUICK_CHAT")return!1;else return!0}var F=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function G(a,c,d,e,f,g,h,x,z,A,G,H,aa,I,J,K,L,M,N,O,P,Q,R,S,T,U,ba,V,ca,W,da){var ea=U!==void 0?U:!0,X=function(d,e,f){var g=f.state,a=g.threads,c=g.pinnedThreads;d=typeof d==="number"?d!==0?a.length-1|0:(-a.length|0)-1|0:d[0];var h=e.altKey,i=b("Parent").bySelector(e.target,"._4rv3"),j=g.focusedThreadID,k=b("Parent").bySelector(e.target,"._1ht1");if(h&&!(i==null))if(g.isNewMessageActive)if(d===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").caml_array_get(a,0).thread_id,null);return 0}else return 0;else{h=function(d,c){return c.findIndex(function(c){return c===b("bs_caml_array").caml_array_get(a,d)})};i=function(c,a,d){c=c;var e=!1;while(!e)b("bs_caml_array").caml_array_get(a,c).is_pinned===!1?e=!0:c=c+d|0;return c};var l=a.findIndex(function(c){var a=g.activeThreadID;if(a!==void 0)return b("bs_caml_option").valFromOption(a)===c.thread_id;else return!1});if(l!==-1){var m=c.length>0?b("bs_caml_array").caml_array_get(c,c.length-1|0)===b("bs_caml_array").caml_array_get(a,l):!1,n=l===i(0,a,1),o=b("bs_caml_array").caml_array_get(a,l).is_pinned,p,q=0;o?m?n?q=2:p=c.length===a.length?b("bs_caml_array").caml_array_get(a,l):d<0&&c.length>1?b("bs_caml_array").caml_array_get(c,c.length-2|0):c.length===1&&d<0?b("bs_caml_array").caml_array_get(a,l):(c.length===1&&d>0,b("bs_caml_array").caml_array_get(a,i(0,a,d))):n?q=2:p=h(l,c)===0&&d<0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(c,h(l,c)+d|0):m?q=2:p=n?c.length>0&&d<0?b("bs_caml_array").caml_array_get(c,c.length-1|0):b("bs_caml_array").caml_array_get(a,i(l+d|0,a,d)):l===(a.length-1|0)&&d>0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(a,l+d|0).is_pinned===!0?b("bs_caml_array").caml_array_get(a,i(l+d|0,a,d)):b("bs_caml_array").caml_array_get(a,l+d|0);q===2&&(p=b("bs_caml_array").caml_array_get(a,l+d|0));b("MessengerActions").selectThread(p.thread_id);g.isComposing&&l===0&&d===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(l===(a.length-1|0))return b("bs_curry")._1(g.onLoadMoreRequest,0);else return 0}else return 0}if(j!==void 0&&!(k==null)){e.preventDefault();return b("bs_curry")._1(f.send,b("bs_block").__(3,[d]))}else return 0},Y=function(a,c){a.stopPropagation();b("MessengerComposerActions").exitComposeStateAbandonSearch();if(z){c=K.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(c!==void 0?c.thread_id:null,null);return 0}else return 0},fa=function(a,c){a.preventDefault();return b("bs_curry")._1(H,0)},ga=function(a,c,d,e){if(a!==void 0&&a)return null;else a=2;if(a===2&&c!==void 0&&c)return j.jsx("div",{children:j.jsx(b("MessengerSpinnerReact.bs").make,{}),className:"_19hf"});a=e.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).isScrolledToBottom()&&b("bs_curry")._1(H,0);return null}else return j.jsx("div",{children:j.jsx(b("Link.react"),{href:"#",onClick:b("bs_curry")._1(d.handle,fa),tabIndex:-1,children:i._("Show Older")}),className:"_19hf"})},Z=S!==void 0?S:!1,ha=function(d,e){var g=b("immutable").Map(b("bs_array").map(function(d){return[b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id),B(a,M,e,f,c,N,Z,R,d)]},d));d=b("immutable").List(b("bs_array").map(function(a){return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},d));var h=b("getMessengerThreadlistWorkDenseMode")(Z);return j.createElement(b("WorkGalahadChatPinnedThreadsInlineEditor.react"),{ids:d,renderedItemsByID:g,itemSize:h==null?"medium":"small",onChange:function(a){return b("bs_curry")._1(e.send,b("bs_block").__(4,[a]))}})},$=function(a,c){c=c.state.pinnedThreadsNewOrderTs;c=c!==void 0?b("bs_belt_Map").get(b("bs_caml_option").valFromOption(c),a.thread_id):void 0;a=a.thread_pin_timestamp;if(a==null)if(c!==void 0)return c;else return;else if(c!==void 0){c=c;return c>a?c:a}else return a},ia=function(d,e){if(d.length<1)return null;else{b("bs_array").stable_sort(function(a,b){a=$(a,e);b=$(b,e);if(a!==void 0)if(b!==void 0)return a-b|0;else return 1;else if(b!==void 0)return-1;else return 0},d);return j.jsxs(b("MessengerThreadListGridWrapper.react"),{label:i._("Pinned conversations"),children:[b("gkx")("932014")&&!E(Z)?e.state.isEditingPinnedThreads?j.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),i._("Drag to reorder"),b("bs_caml_option").some(j.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Save"),onClick:function(a){return b("bs_curry")._1(e.send,7)}})),!1,void 0,0)):j.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),void 0,b("bs_caml_option").some(j.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Edit"),onClick:function(a){return b("bs_curry")._1(e.send,8)}})),!1,void 0,0)):null,e.state.isEditingPinnedThreads?ha(d,e):d.map(function(b){return B(a,M,e,f,c,N,Z,R,b)})]})}},ja=function(d){if(K.length===0&&x===!1)if(b("MessengerDotComAndInboxM4Check.bs").yes&&I!==void 0){var g=I;if(g==="")return null;else{g=i._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[i._param("query",g)]);return j.jsxs("div",{children:[j.jsx("span",{children:i._("No Messages Found"),className:"_8b0k"}),j.jsx("span",{children:g,className:"_8b0l"})],className:"_8b0j"})}}else{g=f===b("MessagingTag").INBOX?e===b("MercuryFilters.bs").unread?i._("No unread messages"):i._("No messages found."):f===b("MessagingTag").PENDING?i._("No Message requests found."):i._("No filtered messages found.");var h=f!==b("MessagingTag").INBOX||e!==b("MercuryFilters.bs").all?j.jsx(b("Link.react"),{onClick:w,children:i._("Return to Chats")}):null;return j.jsxs("div",{children:[g,j.jsx("div",{children:h,className:D})],className:"_3blk"})}else return j.jsx(b("MessengerThreadListGridWrapper.react"),{label:i._("Conversation List"),children:K.map(function(e){if(e.is_pinned===!0&&(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0))return null;else return B(a,M,d,f,c,N,Z,R,e)})})},ka=function(a){var c=function(d,e){var c=b("Parent").bySelector(e.target,"._1ht1");if(c==null)return 0;else{e.preventDefault();return b("bs_curry")._1(a.send,b("bs_block").__(1,[d]))}},d=new(b("SubscriptionsHandler"))(),e=b("CurrentUser").isWorkUser()?[function(a,c){return b("KeyEventController").registerKey(a,c)},function(a,c,d){return b("KeyEventController").registerKey(a,c,d)}]:[function(a,c){return b("KeyEventController").registerKeyAcrossTransitions(a,c)},function(a,c,d){return b("KeyEventController").registerKeyAcrossTransitions(a,c,d)}],f=e[1];e=e[0];var g=[-1],h=[1],i=[-5],j=[5];d.addSubscriptions(b("bs_curry")._3(f,"UP",b("bs_curry")._1(a.handle,function(a,b){return X(g,a,b)}),m),b("bs_curry")._3(f,"DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(h,a,b)}),m),b("bs_curry")._2(e,"PAGE_UP",b("bs_curry")._1(a.handle,function(a,b){return X(i,a,b)})),b("bs_curry")._2(e,"PAGE_DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(j,a,b)})),b("bs_curry")._2(e,"HOME",b("bs_curry")._1(a.handle,function(a,b){return X(0,a,b)})),b("bs_curry")._2(e,"END",b("bs_curry")._1(a.handle,function(a,b){return X(1,a,b)})),b("bs_curry")._2(e,"LEFT",function(a){return c(!1,a)}),b("bs_curry")._2(e,"RIGHT",function(a){return c(!0,a)}),b("bs_curry")._3(f,o,b("bs_curry")._1(a.handle,s),n));return b("bs_curry")._1(a.onUnmount,function(a){d.release();return 0})};return{debugName:F.debugName,reactClassInternal:F.reactClassInternal,handedOffState:F.handedOffState,getDerivedStateFromProps:function(c){var d=c.scrollable.contents;d=d!==void 0?b("bs_caml_option").valFromOption(d).isScrolledToTop():!1;var e=l(K,c.threads,a),h=0;if(d||!e)h=2;else if(I!==void 0){e=I;var i=b("bs_caml_obj").caml_obj_dup(c);i.folder=f;i.isNewMessageActive=z;i.onLoadMoreRequest=H;i.activeThreadID=a;i.isComposing=g;i.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;i.pinnedThreads=L;i.threads=K;i.showNewMessagesNotice=!0;i.queryString=e.length===0?e:c.queryString;return i}if(h===2&&I!==void 0){e=I;i=b("bs_caml_obj").caml_obj_dup(c);i.folder=f;i.isNewMessageActive=z;i.onLoadMoreRequest=H;i.activeThreadID=a;i.isComposing=g;i.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;i.pinnedThreads=L;i.threads=K;i.showNewMessagesNotice=c.showNewMessagesNotice&&!d;i.queryString=e.length===0?e:c.queryString;return i}h=b("bs_caml_obj").caml_obj_dup(c);h.folder=f;h.isNewMessageActive=z;h.onLoadMoreRequest=H;h.activeThreadID=a;h.isComposing=g;h.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;h.pinnedThreads=L;h.threads=K;return h},didMount:function(a){W!==void 0&&W===!0||ka(a);b("QuickPerformanceLogger").markerStartFromNavStart(25296901);b("QuickPerformanceLogger").markerEnd(25296901,"SUCCESS");return y([a.state,M])},didUpdate:function(a){var c=a.newSelf;a=a.oldSelf;c.state.folder!==f&&y([c.state,M]);var d=c.state.isSearchFocused!==a.state.isSearchFocused;a=g&&!a.state.isComposing;c=c.state.scrollable.contents;if(d&&a&&c!==void 0){b("bs_caml_option").valFromOption(c).scrollToTop();return 0}else return 0},willUnmount:F.willUnmount,shouldUpdate:F.shouldUpdate,render:function(a){var c=a.state,k=c.showNewMessagesNotice&&!c.isSearchFocused,l=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),m=e===b("MercuryFilters.bs").unread?b("bs_belt_Array").keep(L,function(a){return a.unread_count>0}):L,n=!c.isSearchFocused&&b("MessengerConfig").MPT>0&&m.length>0&&f===b("MessagingTag").INBOX,o=b("CurrentUser").isWorkUser()&&!c.isSearchFocused&&m.length>0&&(e===b("MercuryFilters.bs").all||e===b("MercuryFilters.bs").unread)&&f===b("MessagingTag").INBOX,r=i._("Conversations"),s=I!==void 0,w=O!==void 0?O:!1,y=P!==void 0?P:!1,B=Q!==void 0?Q:!1,D=V!==void 0?V:b("CurrentUser").isWorkUser()?i._("Search chats{keyboard shortcut help}",[i._param("keyboard shortcut help",c.isSearchFocused?"":" ("+(p+")"))]):i._("Search Messenger"),E,F=0;T!==void 0&&T?E=null:F=1;F===1&&(E=f===b("MessagingTag").INBOX?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,t),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-_b":"")+(c.isSearchFocused||c.queryString.length!==0?" _5iwn":"")+" _150g",ea,!1,!1,!1,c.queryString===""&&!s,s,c.isSearchFocused,function(d){if(s)return b("bs_curry")._1(a.send,1);else{var e=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ABANDON,"",e,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs");return b("bs_curry")._1(a.send,2)}},function(c){c=c.target.value;return b("bs_curry")._1(a.send,b("bs_block").__(0,[c]))},function(c){d!==void 0&&b("bs_curry")._1(d,0);return b("bs_curry")._1(a.send,3)},function(c){if(s)return b("bs_curry")._1(a.send,4);else return b("bs_curry")._1(a.send,0)},b("bs_curry")._1(a.state.memoizedHandleScrollIntoView,[a,u]),function(d,e){var f=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("bs_curry")._2(a.handle,C,[d,e,R]);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,"",f,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs");return 0},D,c.queryString,!0,!0,"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c.queryString.length<2?" _8cg4":""),M,ba,ca,[])):l?j.jsx("div",{className:"_7cyu"}):null);return j.jsxs("div",{children:[j.jsx(b("ChatSidebarSheet.react"),{className:"_p0g",viewer:M}),j.createElement(b("MessengerNewMessagesNoticeReact.bs").make,{isOpen:k,onClick:function(c){c.preventDefault();return b("bs_curry")._1(a.send,6)}}),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,q),b("MessengerFlexScrollableAreaReact.bs").make(function(c){return b("bs_curry")._1(a.send,5)},"_3_e8"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7slg":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&c.isScrolled?" _7slh":""),A,B,[E,b("CurrentUser").isWorkUser()&&!c.isSearchFocused?j.jsx(b("WorkchatThreadListInviteRow.react"),{}):null,l&&!c.isSearchFocused&&!w?j.jsx(b("WorkGalahadChatsThreadlistHeader.react"),{filter:e,folder:f,viewer:M,shouldShowEditPinnedThreads:b("gkx")("932014")&&(o||n),isEditingPinnedThreads:c.isEditingPinnedThreads,toggleEditingPinnedThreads:function(d){if(c.isEditingPinnedThreads)return b("bs_curry")._1(a.send,7);else return b("bs_curry")._1(a.send,8)}}):null,o||n?j.jsxs("div",{children:[ia(m,a),n||y?null:j.jsx("div",{className:"_1s38"})]}):null,f===b("MessagingTag").PENDING?j.jsx("div",{children:j.createElement(b("MessengerMessageRequestsInfoReact.bs").make,{}),className:"_5u15"}):null,j.jsxs("div",{children:[f===b("MessagingTag").INBOX&&G.length>0?j.createElement(b("MessengerThreadlistMessageRequestsRowReact.bs").make,{pendingFolderUnseenCount:aa,newMessageRequestThreads:G,viewer:M}):null,g?l?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNewMessageRowReact.bs").make(z,b("bs_curry")._1(a.handle,Y),[])):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistNewMessageRowReact.bs").make(z,b("bs_curry")._1(a.handle,Y),[])):null,ja(a),f===b("MessagingTag").PENDING&&!b("CurrentUser").isWorkUser()?b("MessengerThreadlistLinkRowReact.bs").make(v):null,J!==void 0?b("bs_curry")._1(J,0):ga(h,x,a,c)],"aria-label":r,className:c.isSearchFocused&&!s?"accessible_elem":"",role:"navigation"})])),b("CurrentUser").isWorkUser()&&!l&&b("gkx")("678606")?j.createElement(b("WorkChatThreadlistTabsReact.bs").make,{filter:e,folder:f,view:b("MessengerView").MASTER.RECENT,viewer:M}):null],className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":"")})},initialState:function(c){return{focusedThreadID:void 0,isSearchFocused:!1,isThreadActionMenuFocused:!1,queryString:b("bs_belt_Option").getWithDefault(I,""),searchInputNode:{contents:void 0},showNewMessagesNotice:!1,scrollable:{contents:void 0},isScrolled:!1,pendingNodes:{},otherNodes:{},threads:K,pinnedThreads:L,pinnedThreadsNewOrderTs:void 0,isEditingPinnedThreads:!1,isComposing:g,searchFunnelState:void 0,activeThreadID:a,onLoadMoreRequest:H,isNewMessageActive:z,folder:f,memoizedHandleScrollIntoView:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0].handle,a[1])}),memoizedOnFocus:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])})}},retainedProps:F.retainedProps,reducer:function(c,d){if(typeof c==="number")switch(c){case 0:var e=new(b("MessengerSearchFunnelState"))();e.setSessionID(0);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._3(a.startFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.MESSENGER_DOT_COM,e)},"MessengerThreadlistReact.bs");k&&b("MessengerSearchActions").enterUniversalSearch();var f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.searchFunnelState=b("bs_caml_option").some(e),f.isSearchFocused=!0,f)]);case 1:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.isSearchFocused=!1,f)]);case 2:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.queryString="",f.isSearchFocused=!1,f)]);case 3:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.searchFunnelState=void 0,f.queryString="",f)]);case 4:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.isSearchFocused=!0,f)]);case 5:if(d.isSearchFocused)return 0;else{f=d.scrollable.contents;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f.isScrolledToTop(),h=b("bs_caml_obj").caml_obj_dup(d);h.isScrolled=!g;f=f.isScrolledToBottom();var i=d.showNewMessagesNotice;if(f){if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return b("bs_block").__(2,[(f.showNewMessagesNotice=!1,f),function(a){b("bs_curry")._1(H,0);return y([a.state,M])}])}return b("bs_block").__(2,[h,function(a){b("bs_curry")._1(H,0);return y([a.state,M])}])}else{if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return b("bs_block").__(2,[(f.showNewMessagesNotice=!1,f),function(a){return y([a.state,M])}])}return b("bs_block").__(2,[h,function(a){return y([a.state,M])}])}}else return 0}break;case 6:g=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(2,[(g.showNewMessagesNotice=!1,g),function(a){a=a.state.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).scrollToTop();return 0}else return 0}]);case 7:i=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(2,[(i.isEditingPinnedThreads=!1,i),function(a){b("bs_array").stable_sort(function(b,c){b=$(b,a);c=$(c,a);if(b!==void 0)if(c!==void 0)return b-c|0;else return 1;else if(c!==void 0)return-1;else return 0},L);b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).bulkPinThreadsUpdate(b("bs_belt_Array").map(L,function(a){return a.thread_id}),b("ChatPinnedThreadsEntryPoint").INBOX_EDIT_ORDER_SCREEN);return 0}]);case 8:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.isEditingPinnedThreads=!0,f)])}else switch(c.tag|0){case 0:var a=c[0];b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(c){return b("bs_curry")._1(c.logQueryChanged,a)},"MessengerThreadlistReact.bs");h=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(h.queryString=a,h)]);case 1:g=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(g.isThreadActionMenuFocused=c[0],g)]);case 2:i=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(i.focusedThreadID=b("bs_caml_option").some(c[0]),i)]);case 3:f=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(f.focusedThreadID=b("bs_caml_option").some(r(d.focusedThreadID,c[0],K)),f)]);case 4:var j=b("bs_belt_Array").reduce(L,b("bs_belt_Map").make(b("FBID.bs")),function(a,c){return b("bs_belt_Map").set(a,b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),c)});h=b("bs_belt_Array").keepMap(c[0].toArray(),function(a){return b("bs_belt_Map").get(j,a)});var l={contents:Date.now()};g=b("bs_belt_Array").reduce(h,b("bs_belt_Map").make(b("ThreadId.bs")),function(a,c){l.contents=l.contents+1;return b("bs_belt_Map").set(a,c.thread_id,l.contents)});i=b("bs_caml_obj").caml_obj_dup(d);return b("bs_block").__(0,[(i.pinnedThreadsNewOrderTs=b("bs_caml_option").some(g),i)])}},jsElementWrapped:F.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(F,function(a){var c=a.blockedIds,d=a.isComposing;return G(b("bs_caml_option").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make(b("ParticipantId.bs")):c,b("bs_caml_option").nullable_to_opt(a.handleClear),a.filter,a.folder,d==null?!1:d,b("bs_caml_option").nullable_to_opt(a.isLoaded),b("bs_caml_option").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_caml_option").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_caml_option").nullable_to_opt(a.queryString),b("bs_caml_option").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.pinnedThreads),[]),a.viewer,a.readReceipts,b("bs_caml_option").nullable_to_opt(a.hideThreadListHeader),b("bs_caml_option").nullable_to_opt(a.hidePinnedThreadSeparator),b("bs_caml_option").nullable_to_opt(a.skipViewportHeightCalculationForScrollarea),b("bs_caml_option").nullable_to_opt(a.onOverrideSelect),b("bs_caml_option").nullable_to_opt(a.isDenseRow),b("bs_caml_option").nullable_to_opt(a.hideSearchBox),a.enableMessageSearch,b("bs_caml_option").nullable_to_opt(a.searchResultRowComponent),b("bs_caml_option").nullable_to_opt(a.searchPlaceholder),b("bs_caml_option").nullable_to_opt(a.searchInputPortalRef),b("bs_caml_option").nullable_to_opt(a.shouldDisableShortcuts),[])});d=b("bs_belt_Option").getWithDefault;e=25296901;g=10;f.shouldUseSearchRefactor=k;f.$pipe$question=d;f.qpl_module_page_load_mdotcom=e;f.hasNewUnreadMessages=l;f.filterKeyEvent=m;f.filterPlatformSpecificModifierKey=n;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=o;f.searchKeyboardShortcut=p;f.setScrollable=q;f.getFocusedThreadId=r;f.handleFocusSearchBar=s;f.setSearchInputNode=t;f.handleScrollIntoView=u;f.handleFilteredRequestsClick=v;f.handleReturnToInboxClick=w;f.impressionOffset=g;f.logNodeImpressions=x;f.checkAndUpdateMessageRequestImpressions=y;f.setter=z;f.onFocus=A;f.renderThread=B;f.handleSelect=C;f.emptyInboxLinkClasses=D;f.isQuickChat=E;f.component=F;f.make=G;f.jsComponent=c}),null);
__d("WorkGalahadAppTabChatsAction.react",["ix","fbt","requireCond","JSResource","cr:1421363","MessengerURIConstants","React","WIGCircleButton.react","WIGIcon.react","WIGLink.react","WIGTooltip.react","cr:1388408","fbicon","gkx","stylex","useWIGLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("Create New Chat"),k=h._("Settings"),l=h._("New Room");function a(){return i.jsx(b("WIGLink.react"),{id:"work-galahad-chat-create-new",testid:void 0,"aria-label":j,href:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH,children:i.jsx(b("WIGIcon.react"),{icon:b("fbicon")._(g("507177"),24),color:"secondary"})})}function c(){var a=b("useWIGLazyDialog")(b("JSResource")("WorkGalahadChatSettingsDialog.react").__setRef("WorkGalahadAppTabChatsAction.react")),c=a[0];a=a[1];return i.jsxs(i.Fragment,{children:[b("gkx")("1461975")===!1?i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:k,children:i.jsx(b("WIGCircleButton.react"),{ref:a,label:k,icon:b("fbicon")._(g("497567"),20),size:36,onPress:function(){c({})}})}):null,b("gkx")("1388409")?i.jsx("div",{"data-nux-id":"create_room",className:"q877oug0",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:l,children:i.jsx(b("cr:1388408"),{})})}):null,i.jsx("div",{className:"q877oug0",children:i.jsx(b("WIGTooltip.react"),{position:"above",tooltip:j,children:i.jsx(b("WIGCircleButton.react"),{label:j,icon:b("fbicon")._(g("507172"),20),testid:void 0,size:36,linkProps:{url:b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH}})})}),b("cr:1421363")&&i.jsx(b("cr:1421363"),{})]})}e.exports={DefaultAction:a,PrimaryActionForChannelHeader:c}}),null);