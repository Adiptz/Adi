if (self.CavalryLogger) { CavalryLogger.start_js(["40G\/3"]); }

__d("VideoPlayerFormatsMap",[],(function(a,b,c,d,e,f){e.exports={topic_live:"inline",live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",ufi_comment_attachment:"inline",media_collage:"inline",media_viewer:"inline",channel:"channel",watch:"watch",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",camera_post:"fb_stories",pages_cover:"inline",video_page_spotlight_unit:"inline",pages_cover_hover:"inline",pages_messaging_video:"inline",profile_overview:"inline",profile_cover:"inline",memory_leak_test:"inline",games_video_home_streamer_hub:"inline",games_video_live_recommendation:"inline",games_video_search_unit:"inline",games_video_streamer_unit:"inline",trivia_game_admin_dashboard:"misc",games_streamer_dashboard:"inline",games_video_clips_home:"inline",games_video_clips_home_immersive_player:"inline",ads_preview:"inline",discover:"inline",business_feed:"inline",sotto_consideration_page:"inline",series_card:"inline",video_list:"inline",video_home_thumbnail_preview:"inline",work_captions_review:"inline",live_pyml:"inline",serp_thumbnail_preview:"inline",linear_channel:"inline",events_cover:"inline",fundraiser_cover:"inline",video_wall:"inline",live_clips_creator:"inline",live_evergreen_qp:"inline",ads:null,animated_image_share:null,asset:null,aymt:null,ballot:null,biz_art:null,broadcast_request_attachment:null,candidate_videos:null,catalog_manager:null,channel_tab:null,channel_tab_latest_videos_card:null,channel_tab_live_video_card:null,channel_tab_all_videos_card:null,channel_tab_playlists_card:null,channel_tab_popular_card:null,channel_tab_series_card:null,channel_tab_series_card_continue_watch:null,corporate_card_application:null,cricket_matches_aggregation:null,dim_sum:null,embedded:null,embedded_page_plugin:null,entry_point:null,events_live_cta:null,gameroom_live_video_hero_banner:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,games_arena_hero:null,games_arena_videos_tab:null,games_verse_destination:null,games_video_clips_home_top_clips:null,games_video_clips_home_my_clips:null,games_video_community_feed:null,games_video_explore_home:null,games_video_home:null,games_video_home_hero:null,games_video_single_game:null,games_video_top_weekly_clips_streamer_page:null,games_video_highlighted_clips_streamer_page:null,games_video_social_plugin:null,games_video_hub:null,games_video_hub_redirect_notification:null,games_video_hub_redirect_unknown:null,games_video_qp_recommended_live:null,games_video_home_left_rail:null,games_video_home_see_all:null,games_video_home_streamer_hub_hero:null,group_live_video_module:null,groups_cover:null,goodwill_product_system:null,html5:null,inline_end_screen:null,insights:null,intern_crm_call_recording:null,intern_curation:null,intern_example:null,issues_module:null,live_beeper:null,live_control_panel:null,live_hero:null,live_linear:null,live_map_tooltip_from_webgl:null,live_page_upcoming_next_unit:null,live_producer:null,live_rhc:null,live_gaming_rhc:null,live_video_broadcast:null,live_video_preview:null,live_msite:null,living_room:null,living_room_commentating:null,living_room_recap_fullscreen:null,living_room_recap_inline:null,lookback:null,messaging:null,messenger_thread:null,misc:null,mobile:null,movies_recommended_movies_qp:null,not_specified_please_fix:null,offers_detail:null,oculus_games:null,oculus_hub:null,oculus_recommended_video_unit:null,page_live_tab:null,page_roles:null,page_timeline_live_card:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,pages_timeline_pages_cover:null,pages_home_hero:null,video_page_video_list:null,people_portal:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,proton:null,report_flow:null,review:null,robotics_rtc_page:null,serp_videos_tab:null,slideshow:null,srt_review:null,topic_channel_living_room:null,topic_gaming:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,video_home_catalog:null,topic_sports:null,topic_cricket:null,explore:null,video_home_channel:null,watchlist:null,video_home_cricket:null,video_home_rainbow_qp:null,video_inline_chaining:null,videohub_featured:null,videohub_playlist:null,live_autoplay_watch_and_scroll:null,video_page_unspecified:null,spotlight_live:null,spotlight_featured:null,spotlight_popular:null,spotlight_unknown:null,videos_card:null,videos_tab:null,playlists_tab:null,playlists_card:null,playlist_page:null,redirected_watch_serp:null,shows_catalog:null,sotto_catalog:null,results:null,watch_history:null,serp_inline_player:null,music_home_serp:null,music_videos_playlists_card:null,media_match_service:null,morc_console:null,workplace_insights:null}}),null);
__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("LiveVideoCopyrightActionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"LiveVideoCopyrightActionSubscribeResponsePayload",kind:"LinkedField",name:"live_video_copyright_action_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveVideoCopyrightActionSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveVideoCopyrightActionSubscription",selections:b},params:{id:"2024168130980964",metadata:{subscriptionName:"live_video_copyright_action_subscribe"},name:"LiveVideoCopyrightActionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("EventListenerImplForCacheStorage",["requireCond","cr:1351741"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1351741")}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","relay-runtime","LiveVideoCopyrightActionSubscription.graphql"],(function(a,b,c,d,e,f){var g;b("relay-runtime").graphql;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/video_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("LiveVideoCopyrightActionSubscription.graphql")};d.getQueryParameters=function(a){return{input:{video_id:a}}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};c.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};c.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};c.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};c.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};c.setCode=function(a){this.$1.code=a;return this};c.setConcluder=function(a){this.$1.concluder=a;return this};c.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};c.setContentLengthHeader=function(a){this.$1.content_length_header=a;return this};c.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};c.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};c.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};c.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};c.setEnded=function(a){this.$1.ended=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExpectedLength=function(a){this.$1.expected_length=a;return this};c.setInitiator=function(a){this.$1.initiator=a;return this};c.setIsDrm=function(a){this.$1.is_drm=a;return this};c.setIsLive=function(a){this.$1.is_live=a;return this};c.setIsMuted=function(a){this.$1.is_muted=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};c.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};c.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};c.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};c.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};c.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};c.setLength=function(a){this.$1.length=a;return this};c.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};c.setLiveheadSeqNum=function(a){this.$1.livehead_seq_num=a;return this};c.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};c.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};c.setManifestType=function(a){this.$1.manifest_type=a;return this};c.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=a;return this};c.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};c.setParentID=function(a){this.$1.parent_id=a;return this};c.setPlayerInstanceCount=function(a){this.$1.player_instance_count=a;return this};c.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPlayhead=function(a){this.$1.playhead=a;return this};c.setPreloadTime=function(a){this.$1.preload_time=a;return this};c.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};c.setPriorityFloat=function(a){this.$1.priority_float=a;return this};c.setPushed=function(a){this.$1.pushed=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setRepresentationID=function(a){this.$1.representation_id=a;return this};c.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};c.setResource=function(a){this.$1.resource=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSegmentCount=function(a){this.$1.segment_count=a;return this};c.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};c.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};c.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};c.setSequentialID=function(a){this.$1.sequential_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setState=function(a){this.$1.state=a;return this};c.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};c.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};c.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};c.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};c.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};c.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};c.setTotalFrames=function(a){this.$1.total_frames=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setUpdatePeriod=function(a){this.$1.update_period=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};c.setWasDelayed=function(a){this.$1.was_delayed=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,content_length_header:!0,device_pixel_ratio_float:!0,dropped_frames:!0,dynamic_bitrate:!0,edge_hit_header:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_drm:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,livehead_seq_num:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,mediastream_event_count:!0,origin_hit_header:!0,parent_id:!0,player_instance_count:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("WebSessionExtensionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWebsessionID=function(a){this.$1.websession_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_time:!0,reason:!0,time:!0,websession_id:!0,weight:!0};e.exports=a}),null);
__d("ViewportTrackingHelper",["DOMDimensions","ge","getElementPosition","getElementRect","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";var g={isDescendantOf:function(a,b){if(a===b)return!0;while(a&&a.parentElement){if(a.parentElement===b)return!0;a=a.parentElement}return!1},isVisible:function(a,c){return g.isVisibleInDimension(b("getViewportDimensions")(),a,c)},isVisibleUnderBluebar:function(a,c){var d=b("ge")("pagelet_bluebar");return d==null?g.isVisible(a,c):g.isVisibleInDimension(b("getViewportDimensions")(),a,c,d.clientHeight)},isFullyVisibleInContainer:function(a,c){a=b("getElementRect")(a);c=b("getElementRect")(c);return c.top>=a.top&&c.bottom<=a.bottom&&c.left>=a.left&&c.right<=a.right},isVisibleInDimension:function(a,c,d,e){e===void 0&&(e=0);var f=b("getElementPosition")(c);c=b("DOMDimensions").getElementDimensions(c);if(!f.x&&!f.y&&!c.height&&!c.width)return!1;e=Math.max(f.y,e);f=Math.min(f.y+c.height,a.height);a=Math.min(c.height,d);return f-e>=a},getHeightIfVisible:function(a,c){var d=this.getHeightInViewport(a);a=b("DOMDimensions").getElementDimensions(a);a=Math.min(a.height,c);return d>=a?d:0},getHeightInViewport:function(a){var c=b("getElementPosition")(a);a=b("DOMDimensions").getElementDimensions(a);if(!c.x&&!c.y&&!a.x&&!a.y)return 0;var d=b("getViewportDimensions")().height,e=Math.max(c.y,0);c=Math.min(c.y+a.height,d);return c-e},getElementsInViewIgnoreHeight:function(a){var b=!1,c=[];for(var d=0;d<a.length;d++){var e=a[d];if(this.isVisible(e,0,null))c.push(e),b=!0;else if(b)break}return c}};e.exports=g}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("SRTVideoData",[],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(){function a(){this.$1=null,this.$2=null}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.setJobID=function(a){this.$1=a};b.setJobTrackingID=function(a){this.$2=a};b.unsetJobID=function(){this.$1=null};b.getJobID=function(){return this.$1};b.getJobTrackingID=function(){return this.$2};return a}();e.exports=a}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","CSS","Event","FullScreen","getDocumentScrollElement","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f){var g=document.documentElement,h,i,j,k,l=!1,m=!1,n=!1,o={init:function(a){a=b("throttle")(function(){if(b("FullScreen").isFullScreen())return;b("queryThenMutateDOM")(function(){k=k||b("getDocumentScrollElement")(),i=g.clientWidth<k.scrollWidth-1,j=g.clientHeight<400,h=j||i},function(){if(h!==l||i!==m||j!==n){var a;(a=b("CSS")).conditionClass(g,"tinyViewport",h);a.conditionClass(g,"tinyWidth",i);a.conditionClass(g,"tinyHeight",j);a.conditionClass(g,"canHaveFixedElements",!h);o.inform("change",h);b("Arbiter").inform("tinyViewport/change",{tiny:h,tinyWidth:i,tinyHeight:j},"state");l=h;m=i;n=j}},"TinyViewport")});a();b("Arbiter").subscribe("quickling/response",a);b("Event").listen(window,"resize",a);b("FullScreen").subscribe("changed",a)},isTiny:function(){return h},isTinyWidth:function(){return i},isTinyHeight:function(){return j}};Object.assign(o,b("ArbiterMixin"));e.exports=o}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){var g,h=1500;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$StaleVideoMonitor4=null;d.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))();d.$StaleVideoMonitor2=c.currentTime;d.$StaleVideoMonitor3=(g||(g=b("performanceNow")))();d.$StaleVideoMonitor5=c;d.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(c,"playing",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"play",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"timeupdate",function(){return d.$StaleVideoMonitor6()}));return d}var d=c.prototype;d.$StaleVideoMonitor7=function(){if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),h=c.end(e);if(f>a)break;if(f<=a&&h>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",(g||(g=b("performanceNow")))()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};d.$StaleVideoMonitor9=function(a){var c=this;this.$StaleVideoMonitor10();this.$StaleVideoMonitor4=b("setTimeout")(function(){return c.$StaleVideoMonitor7()},a)};d.$StaleVideoMonitor10=function(){this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};d.$StaleVideoMonitor8=function(){this.$StaleVideoMonitor6()};d.$StaleVideoMonitor6=function(){this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=(g||(g=b("performanceNow")))(),this.$StaleVideoMonitor9(h))};d.$StaleVideoMonitor11=function(){this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};d.notifyBuffering=function(){this.$StaleVideoMonitor10()};d.notifyBuffered=function(){this.$StaleVideoMonitor9(h)};d.destroy=function(){this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};return c}(b("EventEmitter"));e.exports=a}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||g(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||g(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){var g=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];a=44;var h="-"+a+"px 0px 0px";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=d.$VideoVisibilityObserver1,e=d.$VideoVisibilityObserver2;d.$VideoVisibilityObserver1=a.intersectionRatio;d.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==d.$VideoVisibilityObserver1||e!==d.$VideoVisibilityObserver2)&&d.emit("visibilityChanged",d.$VideoVisibilityObserver1)};d.$VideoVisibilityObserver1=0;d.$VideoVisibilityObserver2=!1;var e=g,f=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;f&&(e=[.5]);d.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(d.$VideoVisibilityObserver4,{threshold:e,rootMargin:h});d.$VideoVisibilityObserver3.observe(c);return d}var d=c.prototype;d.destroy=function(){this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};d.getIsIntersecting=function(){return this.$VideoVisibilityObserver2};d.getCurrentIntersectionRatio=function(){return this.$VideoVisibilityObserver1};return c}(b("EventEmitter"));e.exports=c}),null);
__d("getBufferedAheadOf",[],(function(a,b,c,d,e,f){function a(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}e.exports=a}),null);
__d("VideoWatchTimeTracker",["getBufferedAheadOf"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}var c=a.prototype;c.$15=function(){var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};c.$16=function(a){if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};c.$17=function(){var a=b("getBufferedAheadOf")(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};c.seekStart=function(){this.$17(),this.$15()};c.seekEnd=function(){this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)};c.pause=function(){this.$14=this.STATE_PAUSE,this.$17(),this.$15()};c.playing=function(){this.$17(),this.$15(),this.$14=this.STATE_PLAYING};c.bufferingStart=function(a){this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)),this.$14=this.STATE_BUFFERING_START};c.bufferingEnd=function(a){this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};c.update=function(a){this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};c.getWatchTimeSinceLastReport=function(){var a=this.$4;this.$4=0;return a};c.getTotalWatchTime=function(){return this.$3};c.getStallTimeSinceLastReport=function(){var a=this.$8;this.$8=0;return a};c.getTotalStallTime=function(){return this.$7};c.getStallCountSinceLastReport=function(){var a=this.$6;this.$6=0;return a};c.getTotalStallCount=function(){return this.$5};c.getBufferedTimeSinceLastReport=function(){var a=this.$10;this.$10=0;return a};c.getTotalBufferedTime=function(){return this.$9};c.getGuid=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","captionsAvailabilityChanged","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled","replicaSwitch","initialLiveManifestRequestFailure"];e.exports=a}),null);
__d("AbstractVideoPlayerApi",["invariant","EventEmitter","VideoPlayerApiEvents"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.addListener=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.prototype.addListener.apply(this,c)};c.emit=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.prototype.emit.apply(this,c)};c.setRelativeSphericalOrientation=function(a,b){};b.isImplementationUnavailable=function(){return!0};c.isDrm=function(){return!1};c.setup=function(){};return b}(b("EventEmitter"));e.exports=a}),null);
__d("VideoConfig",[],(function(a,b,c,d,e,f){function a(a){Object.assign(this,a)}e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}var b=a.prototype;b.hasHD=function(){return!!this.$1.hd_src};b.getP2PSettings=function(){return this.$1.p2p_settings};b.getEncodingTag=function(){return this.$1.encoding_tag};b.getContentCategory=function(){return this.$1.content_category};b.getVideoID=function(){return this.$1.video_id};b.getVideoURL=function(){return this.$1.video_url};b.getAspectRatio=function(){return this.$1.aspect_ratio};b.getRotation=function(){return this.$1.rotation||0};b.getCaptionsAutogeneratedIndicatorConfig=function(){return this.$1.captions_autogenerated_indicator_config};b.hasSubtitles=function(){return!!this.$1.subtitles_src};b.hasDashManifest=function(){return!!this.$1.dash_manifest};b.getDashManifest=function(){return this.$1.dash_manifest};b.getDashPrefetchedRepresentationIDs=function(){return this.$1.dash_prefetched_representation_ids};b.getSubtitlesSrc=function(){this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};b.getPlayableSrcSD=function(){return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};b.getPlayableSrcHD=function(){return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};b.getPlayableSrcRateLimitedSD=function(){return this.$1.sd_src};b.getPlayableSrcRateLimitedHD=function(){return this.$1.hd_src};b.getLiveManifestUrl=function(){this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};b.hasRateLimit=function(){return!!this.$1.sd_src_no_ratelimit};b.getStreamType=function(){this.$1.stream_type||g(0,1111);return this.$1.stream_type};b.isBroadcast=function(){return!!this.$1.is_broadcast};b.isServableViaFbms=function(){return!!this.$1.is_servable_via_fbms};b.isLiveStream=function(){return!!this.$1.is_live_stream};b.isHls=function(){return!!this.$1.is_hls};b.isGaming=function(){return this.$1.content_category==="gaming"};b.isLowLatency=function(){return!!this.$1.is_low_latency};b.getDesiredLatencyMs=function(){return this.$1.desired_latency_ms};b.getLatencyToleranceMs=function(){return this.$1.latency_tolerance_ms};b.isPredictiveDash=function(){return!!this.$1.is_predictive_dash};b.isFacecastAudio=function(){return!!this.$1.is_facecast_audio};b.liveRoutingToken=function(){return this.$1.live_routing_token};b.getHDTag=function(){return this.$1.hd_tag};b.getSDTag=function(){return this.$1.sd_tag};b.getProjection=function(){return this.$1.projection};b.getPlayerVersionOverwrite=function(){return this.$1.player_version_overwrite};b.getFalloverData=function(){var b=this.$1.fallover_data;return b?b.map(function(b){return new a(b)}):[]};b.getSphericalConfig=function(){return this.$1.spherical_config};b.isSpherical=function(){return!!this.$1.is_spherical};b.getOriginalHeight=function(){return this.$1.original_height};b.getOriginalWidth=function(){return this.$1.original_width};b.getOverrideConfig=function(){return this.$1.override_config};b.getRawData=function(){return this.$1};b.getPrefetchCache=function(){return this.$1.prefetch_cache};b.getWidevineCert=function(){return this.$1.widevine_cert};b.getFairplayCert=function(){return this.$1.fairplay_cert};b.getDRMHelper=function(){var a;return(a=this.$1)==null?void 0:(a=a.extra_drm_info)==null?void 0:a.drm_helper};b.getGraphApiVideoLicenseUri=function(){var a;return(a=this.$1)==null?void 0:(a=a.extra_drm_info)==null?void 0:a.graph_api_video_license_uri};b.getVideoLicenseUriMap=function(){var a;return(a=this.$1)==null?void 0:(a=a.extra_drm_info)==null?void 0:a.video_license_uri_map};b.isLiveTraceEnabledOnPlayer=function(){return!!this.$1.is_live_trace_enabled_on_player};b.getManifestServiceParam=function(){var a;return(a=this.$1)==null?void 0:a.ms_param};return a}();e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){var g;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$MediaBufferingDetector1=c;e.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))();e.$MediaBufferingDetector1.paused||e.$MediaBufferingDetector8();e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"playing",function(){return e.$MediaBufferingDetector9()}),b("Event").listen(e.$MediaBufferingDetector1,"pause",function(){return e.$MediaBufferingDetector10()}),b("Event").listen(e.$MediaBufferingDetector1,"ended",function(){return e.$MediaBufferingDetector11()}),b("Event").listen(e.$MediaBufferingDetector1,"timeupdate",function(){return e.$MediaBufferingDetector12()}));e.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"waiting",function(){return e.$MediaBufferingDetector14()}));return e}var d=c.prototype;d.$MediaBufferingDetector15=function(){var a=(g||(g=b("performanceNow")))(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};d.$MediaBufferingDetector18=function(){this.$MediaBufferingDetector5=(g||(g=b("performanceNow")))(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};d.$MediaBufferingDetector8=function(){var a=this;if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return a.$MediaBufferingDetector15()},500)};d.$MediaBufferingDetector19=function(){b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};d.$MediaBufferingDetector16=function(){if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};d.$MediaBufferingDetector17=function(){if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};d.$MediaBufferingDetector9=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};d.$MediaBufferingDetector10=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector11=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector12=function(){this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};d.$MediaBufferingDetector14=function(){this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};d.$MediaBufferingDetector13=function(a,c){return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.destroy=function(){b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var c=a.prototype;c.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};c.getDOMNode=function(){return this.$1};c.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();e.exports=a}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}e.exports={getDroppedFrames:a,getTotalFrames:b}}),null);
__d("VideoPlayerHTML5ApiCea608State",["Bootloader","Deferred","FBLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this,d=a.onReady,e=a.onCaptionsLoaded,f=a.captionsDisplay;this.$1=null;this.$2=[];this.$3=null;this.$4={changedCount:0,dequeuedCount:0,erroredCount:0,processedCount:0,processStartedCount:0,queuedCount:0};this.source=null;this.captionsDisplay=null;this.$1=b("Bootloader").loadModules(["VideoPlayerCea608CaptionsSource"],function(a){a=new a({onCaptionsLoaded:e,onCaptionsChanged:function(a,b){c.$4.changedCount++,c.captionsDisplay&&c.captionsDisplay.handleCaptionsChanged(a,b)}});c.source=a;c.captionsDisplay=f;d(c)},"VideoPlayerHTML5ApiCea608State")}var c=a.prototype;c.enqueueBytes=function(a){this.$4.queuedCount++,this.$2.push(a),this.$5()};c.processQueue=function(){this.$5()};c.getStats=function(){return this.$4};c.getCurrentScreenRepresentation=function(){return this.source?this.source.getCurrentScreenRepresentation():null};c.destroy=function(){this.$1&&(this.$1.remove(),this.$1=null),this.captionsDisplay&&(this.captionsDisplay.destroy(),this.captionsDisplay=null),this.source&&(this.source.destroy(),this.source=null),this.$4={changedCount:0,dequeuedCount:0,erroredCount:0,processedCount:0,processStartedCount:0,queuedCount:0}};c.$5=function(){var a=this,c=this.source;if(!c)return;var d=this.$2,e=this.$3,f=function(){var f=d.shift();if(!e){var g=new(b("Deferred"))();g.resolve();e=g.getPromise()}a.$4.dequeuedCount++;a.$3=e=e.then(function(){a.$4.processStartedCount++;return c.processBytes(f).then(function(){a.$4.processedCount++})["catch"](function(c){a.$4.erroredCount++,b("FBLogger")("video").catching(c).mustfix("[VideoPlayerHTML5ApiCea608State] Caught error from CEA-608 source processBytes")})})};while(d.length)f()};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5ApiWebVttState",["Bootloader","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this,d=a.onReady,e=a.onCaptionsLoaded,f=a.captionsDisplay;this.$1=null;this.source=null;this.captionsDisplay=null;this.$1=b("Bootloader").loadModules(["VideoPlayerWebVttCaptionsSource"],function(a){a=new a({onCaptionsLoaded:e,onCaptionsChanged:function(a,b){c.captionsDisplay&&c.captionsDisplay.handleCaptionsChanged(a,b)}});c.source=a;c.captionsDisplay=f;d(c)},"VideoPlayerHTML5ApiWebVttState")}var c=a.prototype;c.loadFromUrl=function(a){var c=this.source;if(!c)throw b("unrecoverableViolation")("[VideoPlayerHTML5ApiWebVttState] Called loadFromUrl when not ready; call from onReady callback.","video_captions");c.loadFromUrl(a)};c.getCurrentScreenRepresentation=function(){return this.source?this.source.getCurrentScreenRepresentation():null};c.destroy=function(){this.$1&&(this.$1.remove(),this.$1=null),this.captionsDisplay&&(this.captionsDisplay.destroy(),this.captionsDisplay=null),this.source&&(this.source.destroy(),this.source=null)};return a}();e.exports=a}),null);
__d("VideoCaptionsBackgroundOpacity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionsTextSize",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("VideoPlayerHTML5CaptionsDisplayStyle",["cx","CSS","VideoCaptionsBackgroundOpacity","VideoCaptionsTextSize","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";var h={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},i={DEFAULT_BACKGROUND_COLOR:"Black",DEFAULT_BACKGROUND_OPACITY:b("VideoCaptionsBackgroundOpacity").DEFAULT,DEFAULT_TEXT_COLOR:"White",DEFAULT_TEXT_SIZE:b("VideoCaptionsTextSize").DEFAULT};a=function(){function a(a,b,c,d,e,f,g){this.$5="center",this.$1=c,this.$2=d,this.setBackgroundColor(a),this.setBackgroundOpacity(b),this.setTextColor(e),this.setTextSize(f),this.setTextAlignment(g),this.updateStyle()}var c=a.prototype;c.setBackgroundColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$3=a:this.$3=i.DEFAULT_BACKGROUND_COLOR};c.setBackgroundOpacity=function(a){b("isTruthy")(a)&&a>=b("VideoCaptionsBackgroundOpacity").TRANSPARENT&&a<=b("VideoCaptionsBackgroundOpacity").OPAQUE?this.$4=a:this.$4=i.DEFAULT_BACKGROUND_OPACITY};c.setTextColor=function(a){a!=null&&Object.prototype.hasOwnProperty.call(h,a)?this.$6=a:this.$6=i.DEFAULT_TEXT_COLOR};c.setTextSize=function(a){a!=null&&a>=b("VideoCaptionsTextSize").SMALLEST&&a<=b("VideoCaptionsTextSize").BIGGEST?this.$7=a:this.$7=i.DEFAULT_TEXT_SIZE};c.setTextAlignment=function(a){this.$5=(a=a)!=null?a:"center"};c.updateStyle=function(){var a,c=this.$4;this.$4===b("VideoCaptionsBackgroundOpacity").TRANSPARENT&&(c=0);c=(a=c)!=null?a:i.DEFAULT_BACKGROUND_OPACITY;a=(a=this.$3)!=null?a:i.DEFAULT_BACKGROUND_COLOR;c=c/100;c="rgba("+h[a]+", "+c+")";this.$1.style.backgroundColor=c;this.$1.style.color=(c=this.$6)!=null?c:i.DEFAULT_TEXT_COLOR;c="0 0 10px rgb("+h[a]+"), 0 0 5px rgba("+h[a]+", .8)";this.$1.style.textShadow=c;b("CSS").conditionClass(this.$2,"_5z64",this.$7==b("VideoCaptionsTextSize").SMALLEST);b("CSS").conditionClass(this.$2,"_5z65",this.$7==b("VideoCaptionsTextSize").SMALL);b("CSS").conditionClass(this.$2,"_5z66",this.$7==b("VideoCaptionsTextSize").MEDIUM);b("CSS").conditionClass(this.$2,"_5z67",this.$7==b("VideoCaptionsTextSize").BIG);b("CSS").conditionClass(this.$2,"_5z68",this.$7==b("VideoCaptionsTextSize").BIGGER);b("CSS").conditionClass(this.$2,"_5z69",this.$7==b("VideoCaptionsTextSize").BIGGEST);b("CSS").conditionClass(this.$2,"_6mk2",this.$5==="left");b("CSS").conditionClass(this.$1,"_6mk2",this.$5==="left")};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5CaptionsDisplay",["csx","cx","CSS","DOM","DOMQuery","VideoPlayerHTML5CaptionsDisplayStyle","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a){var c,d=a.append,e=a.drawer,f=a.existingNodesContainer,g=a.boundingBox;a=a.areCaptionsAutogenerated;this.$4=null;this.$5=null;this.$6="";this.$7=null;this.$8=null;this.$9=!1;this.$10=null;this.$12=null;f=(f=b("DOMQuery").scry(f,"._30vn")[0])!=null?f:null;c=f?(c=b("DOMQuery").find(f,"._30vo"))!=null?c:null:null;f||(f=b("DOM").create("div",{className:"_30vn hidden_elem"}));c||(c=b("DOM").create("span",{className:"_30vo hidden_elem"}),b("DOM").setContent(f,c));this.$1=a;this.$4=f;this.$5=c;this.$12=d(f);this.$7=e;this.$8=e.addListener("reposition",this.$13.bind(this));this.$11=g;this.$14()}var c=a.prototype;c.handleBoundingBoxChanged=function(a){this.$11=a,this.$14()};c.handleCaptionsChanged=function(a,b){if(this.$9)return;this.$15(a);this.$16(b)};c.setAutogeneratedCaptionsOptions=function(a){this.$2=a};c.setCaptionsStyle=function(a,c,d,e){var f=this.$10;if(f)f.setBackgroundColor(a),f.setBackgroundOpacity(c),f.setTextColor(d),f.setTextSize(e),f.updateStyle();else{f=this.$5;var g=this.$4;f&&g&&(this.$10=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(a,c,f,g,d,e,"center"))}};c.showCaptions=function(){var a=this,c=this.$4;c&&b("CSS").removeClass(c,"hidden_elem");c=this.$7;c&&(c.reposition(),c.reserve());c=this.$2;c!=null&&this.$1&&(this.$17(),b("clearTimeout")(this.$3),this.$3=b("setTimeout")(function(){a.$3=null,a.$18()},c.duration))};c.hideCaptions=function(){var a=this.$4;a&&b("CSS").addClass(a,"hidden_elem");a=this.$7;a&&a.release();this.$3&&(b("clearTimeout")(this.$3),this.$3=null)};c.destroy=function(){var a=this.$8;a&&(a.remove(),this.$8=null);a=this.$7;a&&(a.release(),a.removeAllListeners(),this.$7=null);a=this.$12;a&&a();this.$4=null;this.$5=null;this.$3&&(b("clearTimeout")(this.$3),this.$3=null)};c.$14=function(){var a=this.$11,c=this.$4;c&&(a.width<350?(b("CSS").removeClass(c,"_30vp"),b("CSS").addClass(c,"_30vq")):a.width<800?(b("CSS").removeClass(c,"_30vp"),b("CSS").removeClass(c,"_30vq")):(b("CSS").removeClass(c,"_30vq"),b("CSS").addClass(c,"_30vp")))};c.$18=function(){this.$9=!1,this.handleCaptionsChanged([],{textAlignment:"center"})};c.$17=function(){var a=this.$2;a!=null&&(this.handleCaptionsChanged([a.text],{textAlignment:"center"}),this.$9=!0)};c.$13=function(a){var c=this.$4;c&&b("DOM").setAttributes(c,{style:"bottom:"+a+"px;"})};c.$16=function(a){a=a.textAlignment;var c=this.$10;if(c)c.setTextAlignment(a),c.updateStyle();else{c=this.$5;var d=this.$4;c&&d&&(this.$10=new(b("VideoPlayerHTML5CaptionsDisplayStyle"))(void 0,void 0,c,d,void 0,void 0,a))}};c.$15=function(a){a=a.map(function(a){return a.trim()}).filter(function(a){return!!a}).join("\n").trim();var c=this.$6;this.$6=a;var d=this.$4,e=this.$5,f=this.$7;if(!d||!e||!f)return;this.$14();a!==c&&b("DOM").setContent(e,a);a?(b("CSS").removeClass(e,"hidden_elem"),f.setHeight(d.offsetHeight)):(b("CSS").addClass(e,"hidden_elem"),f.setHeight(0))};return a}();e.exports=a}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("VideoPlayerHTML5TrackNodeManager",["BlobFactory","DOM"],(function(a,b,c,d,e,f){var g=a.URL||a.webkitURL;c=function(){"use strict";function a(a){var b=a.videoEl;a=a.parsedSubRipText;this.$1=null;this.$2=null;this.$3=null;this.$2=b;this.$3=a;this.$4()}var c=a.prototype;c.$4=function(){if(!g||!b("BlobFactory").isSupported())return;if(this.$3){var a=b("BlobFactory").getBlob([this.$3.renderVTT()],{type:"text/vtt"});a=g.createObjectURL(a);this.$1=b("DOM").create("track",{kind:"captions",src:a});b("DOM").appendContent(this.$2,this.$1)}this.$2&&Array.prototype.forEach.call(this.$2.textTracks,function(a){a.mode="hidden"})};c.destroy=function(){this.$1&&(b("DOM").remove(this.$1),this.$1=null)};return a}();e.exports=c}),null);
__d("VideoPlayerQualitiesArray",[],(function(a,b,c,d,e,f){"use strict";var g=720,h=2160;function a(a){return a}function i(a){a=a.length>0?a[a.length-1]:void 0;return a}function j(a){a=a.length>0?a[0]:void 0;return a}function b(a){return a.length>1}function k(a,b){a=i(a);return a!=null&&b!=null&&b===a}function c(a){return a!=null&&(a==="HD"||parseInt(a,10)>=g)}function d(a){return a!=null&&parseInt(a,10)>=h}function f(a,b){var c=j(a),d=i(a);if(k(a,b)){if(c!=null)return c}else if(d!=null)return d;return void 0}e.exports={ensureVideoPlayerQualitiesArray:a,getHighestVideoQuality:i,getLowestVideoQuality:j,getPreferredVideoQualityForToggleHD:f,hasHDVideoQuality:b,isHDSelectedVideoQuality:k,isVideoQualityTypicallyConsideredHD:c,isVideoQualityTypicallyConsideredHD4K:d}}),null);
__d("VideoPlayerUIComponentDrawer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$VideoPlayerUIComponentDrawer1=b;d.$VideoPlayerUIComponentDrawer2=c;d.$VideoPlayerUIComponentDrawer4=!1;return d}var c=b.prototype;c.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!0;this.emit("reserve")};c.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!1;this.emit("release")};c.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};c.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};c.setHeight=function(a){this.$VideoPlayerUIComponentDrawer2=a,this.emit("heightChange")};c.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b==="reposition"&&(this.$VideoPlayerUIComponentDrawer3=e[0]);(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};c.reposition=function(){this.emit("reposition",this.$VideoPlayerUIComponentDrawer3)};c.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};return b}(b("EventEmitter"));a.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,PollCard:5,GameshowCard:6,Subtitles:3,SphericalMouseAnimation:4};e.exports=a}),null);
__d("VideoPlayerWindowUtils",[],(function(a,b,c,d,e,f){a={WebKitMediaKeys:window.WebKitMediaKeys};e.exports=a}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}e.exports=a}),null);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}e.exports=a}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b={h264baseline:a(g,b(30),f),h264main30avc:a(g,c(30),f),h264main31avc:a(g,c(31),f),h264high50avc:a(g,d(50),f),h264high51avc:a(g,d(51),f)};e.exports=b}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){function a(a,c,d){if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","invariant","Promise","regeneratorRuntime","requireCond","AbstractVideoPlayerApi","Arbiter","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","URI","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","cr:936794","VideoPlayerHTML5ApiCea608State","cr:1061104","VideoPlayerHTML5ApiWebVttState","VideoPlayerHTML5CaptionsDisplay","VideoPlayerHTML5Experiments","VideoPlayerHTML5TrackNodeManager","VideoPlayerMemLeakExperiments","VideoPlayerQualitiesArray","VideoPlayerShakaGlobalConfig","VideoPlayerUIComponentDrawer","VideoPlayerWindowUtils","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","getHTMLMediaElementMutedState","gkx","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","qex","recoverableViolation","requireWeak","seekHTMLMediaElementTo","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){var i,j=b("VideoPlaybackQuality").getDroppedFrames,k=b("VideoPlaybackQuality").getTotalFrames,l=b("VideoPlayerQualitiesArray").ensureVideoPlayerQualitiesArray,m=b("VideoPlayerQualitiesArray").hasHDVideoQuality,n=b("VideoPlayerQualitiesArray").isHDSelectedVideoQuality,o=null;b("requireWeak")("TVViewerConfigsManager",function(a){return o=a});var p=-1,q=.05,r=476,s=476;function t(a){if(a===null||a===void 0)return null;if(Array.isArray(a))return a.map(function(a){if(typeof a==="string")return a;b("recoverableViolation")("The Oz player expects the initial representation ids to be an array of strings.","blue_video_player");return null}).filter(Boolean);b("recoverableViolation")("The Oz player expects the initial representation ids to be an array of strings.","blue_video_player");return null}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$VideoPlayerHTML5Api1=null;e.$VideoPlayerHTML5Api6=null;e.$VideoPlayerHTML5Api8=null;e.$VideoPlayerHTML5Api15=null;e.$VideoPlayerHTML5Api16=!1;e.$VideoPlayerHTML5Api17=!1;e.$VideoPlayerHTML5Api20=!1;e.$VideoPlayerHTML5Api37=null;e.$VideoPlayerHTML5Api45=!1;e.$VideoPlayerHTML5Api50=null;e.$VideoPlayerHTML5Api57=null;e.$VideoPlayerHTML5Api58=null;e.$VideoPlayerHTML5Api59=null;e.$VideoPlayerHTML5Api60=null;e.$VideoPlayerHTML5Api61=null;e.$VideoPlayerHTML5Api62=null;e.$VideoPlayerHTML5Api34=c;e.$VideoPlayerHTML5Api40=d?d.shakaConfig:null;e.$VideoPlayerHTML5Api14=e.$VideoPlayerHTML5Api34.id;e.preventSeekLoggingInMixin=!0;e.$VideoPlayerHTML5Api63("allow_seek_logging_in_mixin",!1)&&(e.preventSeekLoggingInMixin=!1);c=e.$VideoPlayerHTML5Api64();e.$VideoPlayerHTML5Api46=c.width;e.$VideoPlayerHTML5Api13=c.height;if(d)e.$VideoPlayerHTML5Api7=d;else{c=e.$VideoPlayerHTML5Api34.getAttribute("data-config");if(c==null||c==="")throw b("unrecoverableViolation")("Empty data-config attribute","blue_video_player");try{e.$VideoPlayerHTML5Api7=JSON.parse(c)}catch(a){throw b("unrecoverableViolation")("Unable to parse data-config attribute as JSON","blue_video_player",{error:a})}}e.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(e.$VideoPlayerHTML5Api34,e.$VideoPlayerHTML5Api40);e.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return e.$VideoPlayerHTML5Api65()});e.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return e.$VideoPlayerHTML5Api66()});e.$VideoPlayerHTML5Api24=p;e.$VideoPlayerHTML5Api26=b("getHTMLMediaElementMutedState")(e.$VideoPlayerHTML5Api34);e.$VideoPlayerHTML5Api44=e.$VideoPlayerHTML5Api34.volume;e.$VideoPlayerHTML5Api25=!1;e.$VideoPlayerHTML5Api22=null;e.$VideoPlayerHTML5Api29=!1;e.$VideoPlayerHTML5Api3=!1;e.$VideoPlayerHTML5Api31=e.$VideoPlayerHTML5Api34.getAttribute("preload")=="auto";e.$VideoPlayerHTML5Api32=null;e.$VideoPlayerHTML5Api36=new(b("StaleVideoMonitor"))(e.$VideoPlayerHTML5Api34);e.$VideoPlayerHTML5Api36.addListener("stale",function(a,b){return e.$VideoPlayerHTML5Api67(a,b)});e.$VideoPlayerHTML5Api11=!1;e.$VideoPlayerHTML5Api39=!1;e.$VideoPlayerHTML5Api7.lazyPreload&&(e.$VideoPlayerHTML5Api7.onafterloadRegister?b("Run").onAfterLoad(function(){return e.$VideoPlayerHTML5Api34.setAttribute("preload",e.$VideoPlayerHTML5Api7.lazyPreload)}):e.$VideoPlayerHTML5Api34.setAttribute("preload",e.$VideoPlayerHTML5Api7.lazyPreload));e.$VideoPlayerHTML5Api9=e.$VideoPlayerHTML5Api7.disableNativeControls;e.$VideoPlayerHTML5Api51=e.$VideoPlayerHTML5Api7.subtitlesActive;e.$VideoPlayerHTML5Api68();e.preventPauseLoggingInMixin=!1;e.$VideoPlayerHTML5Api41=new(b("SubscriptionsHandler"))();e.$VideoPlayerHTML5Api69();e.$VideoPlayerHTML5Api15=e.$VideoPlayerHTML5Api7.customLiveManifestUrlParams;e.$VideoPlayerHTML5Api19=e.$VideoPlayerHTML5Api7.useRateLimited;e.$VideoPlayerHTML5Api70(!1);d=b("VideoQualityClasses").indexOf("hd");e.$VideoPlayerHTML5Api18=e.$VideoPlayerHTML5Api7.minQuality!==null&&b("VideoQualityClasses").indexOf(e.$VideoPlayerHTML5Api7.minQuality)>=d;e.$VideoPlayerHTML5Api27=e.$VideoPlayerHTML5Api7.minQuality;e.$VideoPlayerHTML5Api28=e.$VideoPlayerHTML5Api7.maxQuality;e.$VideoPlayerHTML5Api2=e.$VideoPlayerHTML5Api7.accessToken;e.$VideoPlayerHTML5Api37=e.$VideoPlayerHTML5Api7.startTimestamp;e.$VideoPlayerHTML5Api33=q;e.$VideoPlayerHTML5Api4=!!e.$VideoPlayerHTML5Api7.autoFullscreenHD;e.$VideoPlayerHTML5Api30=null;e.$VideoPlayerHTML5Api47=!1;e.$VideoPlayerHTML5Api48=!1;e.$VideoPlayerHTML5Api49=!!e.$VideoPlayerHTML5Api7.unloadShouldCancelPendingRequest;e.$VideoPlayerHTML5Api43=e.$VideoPlayerHTML5Api40?e.$VideoPlayerHTML5Api40.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(e.$VideoPlayerHTML5Api7.playerInstanceKey,e.$VideoPlayerHTML5Api34):null:null;e.$VideoPlayerHTML5Api50=null;return e}var d=c.prototype;d.setup=function(){this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api71.bind(this),this.$VideoPlayerHTML5Api7.useEventTime,this.$VideoPlayerHTML5Api63("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api63("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api63("fire_seek_events",!1),this.$VideoPlayerHTML5Api63("fix_pause_current_time_in_mixin",!1))};d.getAdClientToken=function(){this.$VideoPlayerHTML5Api7.ad_client_token};d.$VideoPlayerHTML5Api67=function(a,c){this.$VideoPlayerHTML5Api71("stale",{stale_detect_time_delta:a,stale_video_current_time_delta:c});if(this.$VideoPlayerHTML5Api7.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api7.staleVideoNudgeAmountMs==="number"){a=this.getCurrentTimePosition();this.seek(((c=a)!=null?c:0)+this.$VideoPlayerHTML5Api7.staleVideoNudgeAmountMs/1e3)}b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};d.$VideoPlayerHTML5Api65=function(){this.emit("buffering"),this.$VideoPlayerHTML5Api36.notifyBuffering(),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.bufferingStart(Date.now())};d.$VideoPlayerHTML5Api66=function(){this.emit("buffered"),this.$VideoPlayerHTML5Api36.notifyBuffered(),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.bufferingEnd(Date.now())};d.$VideoPlayerHTML5Api72=function(a){this.emit("bufferingProgress",a)};d.$VideoPlayerHTML5Api73=function(a){this.emit("initialLiveManifestRequestFailure",a)};d.$VideoPlayerHTML5Api74=function(a){this.emit("replicaSwitch",a)};d.$VideoPlayerHTML5Api75=function(){this.emit("networkInterrupted")};d.$VideoPlayerHTML5Api76=function(){this.emit("networkResumed")};d.$VideoPlayerHTML5Api77=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api47=!0,this.$VideoPlayerHTML5Api78()};d.$VideoPlayerHTML5Api79=function(){this.emit("seekRangeChanged")};d.$VideoPlayerHTML5Api80=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Api47=!1};d.$VideoPlayerHTML5Api63=function(a,c){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.getVideoPlayerShakaConfig=function(){return this.$VideoPlayerHTML5Api40||b("VideoPlayerShakaGlobalConfig")};d.isStreamInterrupted=function(){return this.$VideoPlayerHTML5Api47};d.getVideoID=function(){return this.$VideoPlayerHTML5Api8?this.$VideoPlayerHTML5Api8.getVideoID():this.$VideoPlayerHTML5Api7.video_id};d.getDroppedFrames=function(){return j(this.$VideoPlayerHTML5Api34)};d.getTotalFrames=function(){return k(this.$VideoPlayerHTML5Api34)};d.isDrm=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.isDrm():!1};d.getDebug=function(){return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api35,VideoPlayerHTML5ApiCea608StateDebug:this.$VideoPlayerHTML5Api59}};d.getDOMElement=function(){return this.$VideoPlayerHTML5Api34};d.getVideoElement=function(){return this.$VideoPlayerHTML5Api34};d.getSubscriptions=function(){return this.$VideoPlayerHTML5Api41};c.onImplementationReady=function(a,b){b()};d.destroy=function(a){a===void 0&&(a={});if(this.$VideoPlayerHTML5Api11)return;this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.disableP2PPlayback();this.$VideoPlayerHTML5Api11=!0;b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame===!0?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api81(),this.$VideoPlayerHTML5Api82&&b("DOM").remove(this.$VideoPlayerHTML5Api82));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api41.release()};d.getVideoInfo=function(){var a=this.$VideoPlayerHTML5Api8;if(!a)return null;var b=this.$VideoPlayerHTML5Api35,c=this.getAvailableVideoQualities();return{isHD:n(c,this.getSelectedVideoQuality()),streamType:a.getStreamType(),hasHD:m(c),areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api17,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:b?"DASH manifest":this.$VideoPlayerHTML5Api83(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:a.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api19,projection:this.getVideoProjection(),tagSD:a.getSDTag(),tagHD:a.getHDTag(),isLiveStream:a.isLiveStream(),liveManifestUrl:a.isLiveStream()?b?(c=b.getManifestUrl())!=null?c:null:(b=a.getLiveManifestUrl())!=null?b:null:null}};c.isImplementationUnavailable=function(a){return b("isHTML5VideoImplementationUnavailable")(a)};d.pause=function(a){this.$VideoPlayerHTML5Api22=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api49||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api16?this.$VideoPlayerHTML5Api71("cancelled_requested_playing",this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api71("paused",this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api48=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api84();this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.pause():this.$VideoPlayerHTML5Api34.pause()};d.$VideoPlayerHTML5Api70=function(a){this.$VideoPlayerHTML5Api16=a};d.preload=function(){this.$VideoPlayerHTML5Api31||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api85(),this.$VideoPlayerHTML5Api31=!0,this.$VideoPlayerHTML5Api34.setAttribute("preload","auto"))};d.isPreloading=function(){return this.$VideoPlayerHTML5Api31};d.play=function(a){var c=this;this.$VideoPlayerHTML5Api42||(this.$VideoPlayerHTML5Api42=a);this.$VideoPlayerHTML5Api23=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play"),b("setTimeout")(function(){return b("dispatchEvent")(c.$VideoPlayerHTML5Api34,"playing")},0)):this.$VideoPlayerHTML5Api86();return}this.$VideoPlayerHTML5Api29=!0;this.$VideoPlayerHTML5Api70(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play");this.$VideoPlayerHTML5Api85();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api87()};d.$VideoPlayerHTML5Api84=function(){this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"pause"),this.$VideoPlayerHTML5Api70(!1),this.$VideoPlayerHTML5Api88()};d.$VideoPlayerHTML5Api88=function(){this.$VideoPlayerHTML5Api29=!1,this.$VideoPlayerHTML5Api3=!1};d.$VideoPlayerHTML5Api89=function(){this.$VideoPlayerHTML5Api34.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api31=!0,this.$VideoPlayerHTML5Api34.load(),this.$VideoPlayerHTML5Api34.muted=this.$VideoPlayerHTML5Api26};d.seek=function(a){var b=this.$VideoPlayerHTML5Api63("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api35&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api34.currentTime-a>=c&&this.$VideoPlayerHTML5Api35.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api63("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api34.readyState!==0&&(this.$VideoPlayerHTML5Api34.currentTime=a);else try{this.$VideoPlayerHTML5Api34.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.seekEnd()};d.removeRotation=function(){b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56jt"),this.$VideoPlayerHTML5Api34.style.marginLeft="",this.$VideoPlayerHTML5Api34.style.marginTop="",this.$VideoPlayerHTML5Api34.style.width="",this.$VideoPlayerHTML5Api34.style.height=""};d.applyRotation=function(a){if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api13;var c=this.$VideoPlayerHTML5Api46,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api34.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api34.style.marginTop=d+"px";this.$VideoPlayerHTML5Api34.style.height=c+"px";this.$VideoPlayerHTML5Api34.style.width=a+"px"};d.$VideoPlayerHTML5Api90=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api40&&a.isLowLatency()&&this.$VideoPlayerHTML5Api40.setContext("latency_level","low"),this.$VideoPlayerHTML5Api40&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api40.setContext("servable_via_fmbs",a.isServableViaFbms())};d.switchVideo=function(a){var c=this;if(!this.$VideoPlayerHTML5Api7.videoData||this.$VideoPlayerHTML5Api7.videoData.length<=a)return;var d=new(b("VideoData"))(this.$VideoPlayerHTML5Api7.videoData[a]);this.$VideoPlayerHTML5Api8=d;a=d.getFairplayCert();b("VideoPlayerWindowUtils").WebKitMediaKeys!=null&&b("cr:936794")!=null&&a!=null&&(this.$VideoPlayerHTML5Api50=new(b("cr:936794"))(a,this.getVideoElement(),d.getVideoID(),this.$VideoPlayerHTML5Api7.videoLicenseUriMap));d.getOverrideConfig()&&this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setOverrideConfig(d.getOverrideConfig());this.$VideoPlayerHTML5Api90(d);a=d.isLiveStream()&&d.isHls();if(!a&&(d.hasDashManifest()||d.isLiveStream())&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka.isSupported(d)&&!this.$VideoPlayerHTML5Api7.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();a=d.getDashManifest();var e;if(d.isLiveStream()){e=d.getLiveManifestUrl();var f=this.$VideoPlayerHTML5Api15;if(e!=null&&f!=null){var g=new(i||(i=b("URI")))(e);f=Object.entries(f);f.forEach(function(a){var b=a[0];a=a[1];b=b;if(b==="msx"){var c;b=(c=d.getManifestServiceParam())!=null?c:b}g.addQueryData(b,a)});e=g.toString()}}f=t(this.$VideoPlayerHTML5Api7.initialRepresentationIds)||d.getDashPrefetchedRepresentationIDs();var j=this.$VideoPlayerHTML5Api7.seekHandler,k=j;j&&(k=function(a){!c.getCurrentTimePosition()?c.$VideoPlayerHTML5Api34.currentTime=a:c.$VideoPlayerHTML5Api16?c.seek(a):j(a)});f=new this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api34,f,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api7.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api46,height:this.$VideoPlayerHTML5Api13,manifest:a,manifestUrl:e,isLive:d.isLiveStream(),isServableViaFbms:d.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api37,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api7.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api7.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api7.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api7.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api7.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api7.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api7.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api7.isSpherical,getSource:this.$VideoPlayerHTML5Api7.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api7.vpcPlayingStateEmitter,seekHandler:k,streamPriorityAdjuster:this.$VideoPlayerHTML5Api7.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api7.videoLiveTrace?this.$VideoPlayerHTML5Api7.videoLiveTrace:null,videoLicenseUriMap:this.$VideoPlayerHTML5Api7.videoLicenseUriMap?this.$VideoPlayerHTML5Api7.videoLicenseUriMap:{},prefetchCache:d.getPrefetchCache(),graphApiVideoLicenseUri:this.$VideoPlayerHTML5Api7.graphApiVideoLicenseUri,widevineCert:d.getWidevineCert(),OzDrmHelper:this.$VideoPlayerHTML5Api7.OzDrmHelper,videoWatchTimeTracker:this.$VideoPlayerHTML5Api43,desiredLatencyMs:d.getDesiredLatencyMs(),latencyToleranceMs:d.getLatencyToleranceMs(),disableAbr:this.$VideoPlayerHTML5Api7.isSpherical===!0&&this.$VideoPlayerHTML5Api63("disable_360_abr",!1),p2pModuleLoader:this.$VideoPlayerHTML5Api7.p2pModuleLoader,p2pSettings:d.getP2PSettings()});f.addListener("seekRangeChanged",function(){return c.$VideoPlayerHTML5Api79()});f.addListener("bufferingStart",function(){return c.$VideoPlayerHTML5Api65()});f.addListener("bufferingEnd",function(){return c.$VideoPlayerHTML5Api66()});f.addListener("bufferingProgress",this.$VideoPlayerHTML5Api72.bind(this));f.addListener("tracksChanged",function(){return c.emit("qualityChange")});f.addListener("streamInterrupted",function(){return c.$VideoPlayerHTML5Api77()});f.addListener("streamResumed",function(){return c.$VideoPlayerHTML5Api80()});f.addListener("initialLiveManifestRequestFailure",this.$VideoPlayerHTML5Api73.bind(this));f.addListener("replicaSwitch",this.$VideoPlayerHTML5Api74.bind(this));f.addListener("networkInterrupted",function(){return c.$VideoPlayerHTML5Api75()});f.addListener("networkResumed",function(){return c.$VideoPlayerHTML5Api76()});f.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||c.$VideoPlayerHTML5Api71("quality_change",{reason:a});c.emit("qualityChange")});f.addListener("representation_ended",function(a){c.logRepresentationEnded(a)});f.addListener("blocked_paused_representation_ended",function(){c.onBlockedPausedRepresentationEnded()});f.addListener("debug/dashPlayerEvent",function(a){return c.emit("debug/dashPlayerEvent",a)});f.addListener("error",function(a){return c.$VideoPlayerHTML5Api91(a)});f.addListener("cea608AvailabilityChanged",function(){var a=c.$VideoPlayerHTML5Api35;a&&a.areInbandCaptionsExpected()?c.$VideoPlayerHTML5Api51=!0:(c.$VideoPlayerHTML5Api51=!1,c.$VideoPlayerHTML5Api78());c.$VideoPlayerHTML5Api92();c.emit("captionsAvailabilityChanged")});f.addListener("cea608CaptionsBytesReceived",function(a){var d=a.timescale;a=a.videoBytes;d!=null&&!isNaN(d)||h(0,18732);a!=null||h(0,18733);d={timescale:d,videoBytes:a};a=c.$VideoPlayerHTML5Api58;a||(a=c.$VideoPlayerHTML5Api93());a.enqueueBytes(d);if(b("cr:1061104")){a=c.$VideoPlayerHTML5Api59;a||(a=new(b("cr:1061104"))(),c.$VideoPlayerHTML5Api59=a);a.recordBytes(d)}});f.addListener("p2pPluginReady",function(){c.p2pPluginReady()});f.setup();this.$VideoPlayerHTML5Api35=f}else{a=this.$VideoPlayerHTML5Api83();typeof a==="string"&&a!==""&&(this.$VideoPlayerHTML5Api34.src=a);this.$VideoPlayerHTML5Api37!=null&&this.$VideoPlayerHTML5Api37!==0&&this.seek(this.$VideoPlayerHTML5Api37)}this.$VideoPlayerHTML5Api78();this.hasSubtitles()&&d.hasSubtitles()&&this.$VideoPlayerHTML5Api94(d.getSubtitlesSrc());this.removeRotation();this.applyRotation(d.getRotation())};d.switchToStreamType=function(a){};d.replaceVideoDataFromURL=function(a){};d.getDashAudioConfiguration=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getDashAudioConfiguration():"none"};d.getAudioStreamInfoIDDebug=function(){if(this.$VideoPlayerHTML5Api35){var a=this.$VideoPlayerHTML5Api35.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};d.getVideoTracksDebug=function(){if(this.$VideoPlayerHTML5Api35){var a=this.$VideoPlayerHTML5Api35.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};d.getCurrentlyPlayingVideoStreamInfoID=function(){var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api35)return a!=null?this.$VideoPlayerHTML5Api35.getVideoStreamInfoIDForTimePosition(a):null;else if(!this.$VideoPlayerHTML5Api8)return null;else return this.$VideoPlayerHTML5Api18?this.$VideoPlayerHTML5Api8.getHDTag():this.$VideoPlayerHTML5Api8.getSDTag()};d.getCurrentlyPlayingAudioStreamInfoID=function(){var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api35&&a!=null?this.$VideoPlayerHTML5Api35.getAudioStreamInfoIDForTimePosition(a):null};d.getLocalEstimator=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getLocalEstimator():null};d.unmute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api26=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api34.muted=!1};d.mute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api26=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api34.muted=!0};d.setRotation=function(a){this.removeRotation(),this.applyRotation(a)};d.setDimensions=function(a,b){var c;this.removeRotation();this.$VideoPlayerHTML5Api46=a;this.$VideoPlayerHTML5Api13=b;this.$VideoPlayerHTML5Api8&&this.applyRotation(this.$VideoPlayerHTML5Api8.getRotation());this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.updateDimensions(a,b);this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setDimensions(a,b);c=(c=this.$VideoPlayerHTML5Api60)!=null?c:this.$VideoPlayerHTML5Api62;if(c){var d=this.$VideoPlayerHTML5Api95();c.handleBoundingBoxChanged(d)}this.emit("dimensionsChange",a,b)};d.setVideoStreamOffset=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setVideoStreamOffset(a)};d.$VideoPlayerHTML5Api96=function(){this.$VideoPlayerHTML5Api34.controls=!this.$VideoPlayerHTML5Api9};d.$VideoPlayerHTML5Api68=function(){this.$VideoPlayerHTML5Api34.controls=this.$VideoPlayerHTML5Api34.controls&&!this.$VideoPlayerHTML5Api9};d.$VideoPlayerHTML5Api69=function(){this.$VideoPlayerHTML5Api12=b("EventListener").listen(this.$VideoPlayerHTML5Api34,"error",this.$VideoPlayerHTML5Api97.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api41.addSubscriptions(this.$VideoPlayerHTML5Api12),this.$VideoPlayerHTML5Api41.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api34,"playing",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"play",this.$VideoPlayerHTML5Api86.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"ended",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"waiting",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"pause",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"volumechange",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"mousedown",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"mouseup",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"timeupdate",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"click",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"loadedmetadata",this.$VideoPlayerHTML5Api107.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"progress",this.$VideoPlayerHTML5Api108.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"seeked",this.$VideoPlayerHTML5Api109.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api34.parentNode,"pause",this.$VideoPlayerHTML5Api110.bind(this)))};d.$VideoPlayerHTML5Api111=function(a){this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};d.$VideoPlayerHTML5Api110=function(a){if(a.target!==this.$VideoPlayerHTML5Api34)return;this.$VideoPlayerHTML5Api34.ended||(this.$VideoPlayerHTML5Api48&&this.$VideoPlayerHTML5Api111(a),a.lastPauseReason=this.$VideoPlayerHTML5Api22);this.$VideoPlayerHTML5Api48=!1;this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.pause()};d.$VideoPlayerHTML5Api108=function(){var a=this.$VideoPlayerHTML5Api34.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api34.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api112("flash/updateBuffer",{duration:b,offset:c})};d.$VideoPlayerHTML5Api105=function(){var a,b;this.$VideoPlayerHTML5Api1?b=this.$VideoPlayerHTML5Api1.currentTime:b=this.$VideoPlayerHTML5Api34.currentTime;a=(a=(a=this.$VideoPlayerHTML5Api57)==null?void 0:a.source)!=null?a:(a=this.$VideoPlayerHTML5Api58)==null?void 0:a.source;a&&a.handleTimeUpdate(b);this.$VideoPlayerHTML5Api112("flash/updateStatus",{position:+b.toFixed(3)})};d.$VideoPlayerHTML5Api106=function(a){if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};d.isPaused=function(){return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api34.paused||this.$VideoPlayerHTML5Api34.ended:this.$VideoPlayerHTML5Api34.paused};d.$VideoPlayerHTML5Api113=function(){var a=this.$VideoPlayerHTML5Api34.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api34.duration};d.$VideoPlayerHTML5Api100=function(){if(this.$VideoPlayerHTML5Api63("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api113()||(this.$VideoPlayerHTML5Api45=!0,this.$VideoPlayerHTML5Api112("flash/buffering"))};d.setVolume=function(a){this.$VideoPlayerHTML5Api34.volume=a};d.$VideoPlayerHTML5Api102=function(){this.$VideoPlayerHTML5Api34.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api34.volume===this.$VideoPlayerHTML5Api44&&this.$VideoPlayerHTML5Api34.volume>0?(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api34.muted,this.$VideoPlayerHTML5Api44=this.$VideoPlayerHTML5Api34.volume,!this.$VideoPlayerHTML5Api34.muted?this.$VideoPlayerHTML5Api112("flash/unmuteVideo"):this.$VideoPlayerHTML5Api112("flash/muteVideo")):(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api34.muted,this.$VideoPlayerHTML5Api44=this.$VideoPlayerHTML5Api34.volume,this.$VideoPlayerHTML5Api112("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api34.volume})),this.$VideoPlayerHTML5Api34.muted||this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"unmuted"})};d.$VideoPlayerHTML5Api103=function(a){a.button===0&&(this.$VideoPlayerHTML5Api25=!0)};d.$VideoPlayerHTML5Api104=function(a){a.button===0&&(this.$VideoPlayerHTML5Api25=!1)};d.$VideoPlayerHTML5Api98=function(){this.$VideoPlayerHTML5Api70(!1),this.$VideoPlayerHTML5Api45&&(this.$VideoPlayerHTML5Api45=!1,this.$VideoPlayerHTML5Api112("flash/buffered")),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.playing()};d.$VideoPlayerHTML5Api86=function(){this.$VideoPlayerHTML5Api17=!0,this.$VideoPlayerHTML5Api96(),this.$VideoPlayerHTML5Api92(),this.$VideoPlayerHTML5Api112("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api34.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23})};d.$VideoPlayerHTML5Api101=function(a){var c=this.$VideoPlayerHTML5Api63("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api34.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api17=!1;this.$VideoPlayerHTML5Api70(!1);return}if(this.$VideoPlayerHTML5Api34.seeking&&this.$VideoPlayerHTML5Api22==="seek_initiated")return;if(!this.$VideoPlayerHTML5Api63("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22==="seek_initiated"||this.$VideoPlayerHTML5Api22==="hive_reload"){this.$VideoPlayerHTML5Api22=null;return}(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22==="user_initiated")&&this.$VideoPlayerHTML5Api112("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api17=!1;this.$VideoPlayerHTML5Api70(!1);this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api112("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api34.currentTime.toFixed(2)})};d.$VideoPlayerHTML5Api99=function(){var a;if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api17=!1;this.$VideoPlayerHTML5Api70(!1);this.$VideoPlayerHTML5Api112("flash/finishPlayback");a=(a=this.$VideoPlayerHTML5Api60)!=null?a:this.$VideoPlayerHTML5Api62;a&&a.hideCaptions()};d.$VideoPlayerHTML5Api109=function(){this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api34.currentTime.toFixed(3)})};d.getEstimatedBandwidth=function(){return this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};d.$VideoPlayerHTML5Api107=function(){this.$VideoPlayerHTML5Api112("flash/updateMetadata")};d.$VideoPlayerHTML5Api91=function(a){this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api29}))};d.$VideoPlayerHTML5Api97=function(){if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api34.error)return;var a=this.$VideoPlayerHTML5Api34.error,c=a.message;(c==null||c==="")&&(c=b("getErrorMessageFromMediaErrorCode")(a.code));this.emit("error",{error:b("getErrorNameFromMediaErrorCode")(a.code),isPlayback:this.$VideoPlayerHTML5Api29,message:c})};d.$VideoPlayerHTML5Api71=function(a,b){b=babelHelpers["extends"]({event:a},b);a==="started_playing"&&this.$VideoPlayerHTML5Api35&&(b.longest_init_response_time=this.$VideoPlayerHTML5Api35.getLongestInitResponseTime());b.projection=this.getVideoProjection();this.$VideoPlayerHTML5Api112("flash/logEvent",{logData:b})};d.$VideoPlayerHTML5Api112=function(a,c){b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api14},c)),this.emit(a.substr("flash/".length),c)};d.getLastPlayReason=function(){return this.$VideoPlayerHTML5Api23};d.getVideoPlayReason=function(){return this.$VideoPlayerHTML5Api42};d.isMuted=function(){return this.$VideoPlayerHTML5Api26};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.setPlaybackRate(a):this.$VideoPlayerHTML5Api34.playbackRate=a};d.getPlaybackRate=function(){if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35.getPlaybackRate();else return this.$VideoPlayerHTML5Api34.playbackRate};d.getPlaybackDuration=function(){return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api34.duration||0};d.getVolume=function(){return this.$VideoPlayerHTML5Api34.volume};d.getCurrentTimePosition=function(){return this.$VideoPlayerHTML5Api34.currentTime};d.getBufferEndPosition=function(){var a=this.$VideoPlayerHTML5Api34.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};d.$VideoPlayerHTML5Api83=function(){if(this.$VideoPlayerHTML5Api7.fallbackSources)return this.$VideoPlayerHTML5Api18&&this.$VideoPlayerHTML5Api7.fallbackSources.HD?this.$VideoPlayerHTML5Api7.fallbackSources.HD:this.$VideoPlayerHTML5Api7.fallbackSources.SD;var a=this.$VideoPlayerHTML5Api8;if(a)if(this.$VideoPlayerHTML5Api18&&a.hasHD())return this.$VideoPlayerHTML5Api114();else return this.$VideoPlayerHTML5Api115();return null};d.$VideoPlayerHTML5Api114=function(){var a=this.$VideoPlayerHTML5Api8;if(a)if(this.$VideoPlayerHTML5Api19){var b;return(b=a.getPlayableSrcRateLimitedHD())!=null?b:null}else{return(b=a.getPlayableSrcHD())!=null?b:null}return null};d.$VideoPlayerHTML5Api115=function(){var a=this.$VideoPlayerHTML5Api8;if(a)if(this.$VideoPlayerHTML5Api19){var b;return(b=a.getPlayableSrcRateLimitedSD())!=null?b:null}else{return(b=a.getPlayableSrcSD())!=null?b:null}return null};d.toggleSubtitles=function(){this.$VideoPlayerHTML5Api51=!this.$VideoPlayerHTML5Api51,this.$VideoPlayerHTML5Api92(),this.emit("toggleSubtitles")};d.$VideoPlayerHTML5Api116=function(){var a=this.$VideoPlayerHTML5Api8;return(a?a.isLiveStream():!1)&&this.areSubtitlesAutogenerated()&&!!b("qex")._("1177410")};d.hasSubtitles=function(){var a=this.$VideoPlayerHTML5Api8,b=this.$VideoPlayerHTML5Api35;if(this.$VideoPlayerHTML5Api116())return!1;a=a?a.hasSubtitles():!1;if(a)return a;else if(b)return b.areInbandCaptionsExpected();else return!1};d.areSubtitlesActive=function(){return this.$VideoPlayerHTML5Api51};d.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.areInbandCaptionsAutogenerated():!1};d.areHLSActive=function(){return!1};d.setAutogeneratedCaptionsOptions=function(a){this.$VideoPlayerHTML5Api52=a;a=(a=this.$VideoPlayerHTML5Api60)!=null?a:this.$VideoPlayerHTML5Api62;a&&a.setAutogeneratedCaptionsOptions(this.$VideoPlayerHTML5Api52)};d.setSubtitlesStyle=function(a,b,c,d){this.$VideoPlayerHTML5Api53=a;this.$VideoPlayerHTML5Api54=b;this.$VideoPlayerHTML5Api55=c;this.$VideoPlayerHTML5Api56=d;b=(a=this.$VideoPlayerHTML5Api60)!=null?a:this.$VideoPlayerHTML5Api62;b&&b.setCaptionsStyle(this.$VideoPlayerHTML5Api53,this.$VideoPlayerHTML5Api54,this.$VideoPlayerHTML5Api55,this.$VideoPlayerHTML5Api56)};d.$VideoPlayerHTML5Api92=function(){var a=this.$VideoPlayerHTML5Api35;a&&a.areInbandCaptionsExpected()&&(this.$VideoPlayerHTML5Api116()?a.setEnableInbandCaptionsParsing(!1):a.setEnableInbandCaptionsParsing(this.$VideoPlayerHTML5Api51));a=(a=this.$VideoPlayerHTML5Api60)!=null?a:this.$VideoPlayerHTML5Api62;a&&(this.$VideoPlayerHTML5Api51?a.showCaptions():a.hideCaptions())};d.$VideoPlayerHTML5Api117=function(){var a;a=(a=(a=this.$VideoPlayerHTML5Api57)==null?void 0:a.source)!=null?a:(a=this.$VideoPlayerHTML5Api58)==null?void 0:a.source;a&&a.handleTimeUpdate(this.$VideoPlayerHTML5Api34.currentTime);this.$VideoPlayerHTML5Api17&&this.$VideoPlayerHTML5Api92();this.emit("loadedSubtitles")};d.$VideoPlayerHTML5Api118=function(){var a=this,c=this.$VideoPlayerHTML5Api7.subtitleDrawer;if(!c||!(c instanceof b("VideoPlayerUIComponentDrawer")))return null;c=new(b("VideoPlayerHTML5CaptionsDisplay"))({append:function(c){if(!a.$VideoPlayerHTML5Api34.parentNode){b("FBLogger")("video").info("Missing video player parent element to append the captions display");return function(){}}b("DOM").insertAfter(a.$VideoPlayerHTML5Api34,c);return function(){b("DOM").remove(c)}},areCaptionsAutogenerated:this.areSubtitlesAutogenerated(),drawer:c,existingNodesContainer:this.$VideoPlayerHTML5Api34.parentNode,boundingBox:this.$VideoPlayerHTML5Api95()});c.setCaptionsStyle(this.$VideoPlayerHTML5Api53,this.$VideoPlayerHTML5Api54,this.$VideoPlayerHTML5Api55,this.$VideoPlayerHTML5Api56);c.setAutogeneratedCaptionsOptions(this.$VideoPlayerHTML5Api52);return c};d.$VideoPlayerHTML5Api95=function(){var a=this.$VideoPlayerHTML5Api34.getBoundingClientRect();return{width:a.width,height:a.height}};d.$VideoPlayerHTML5Api94=function(a){var c=this;this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api60=this.$VideoPlayerHTML5Api118();this.$VideoPlayerHTML5Api57=new(b("VideoPlayerHTML5ApiWebVttState"))({onReady:function(b){c.$VideoPlayerHTML5Api61&&(c.$VideoPlayerHTML5Api61.destroy(),c.$VideoPlayerHTML5Api61=null),b.loadFromUrl(a)},onCaptionsLoaded:function(a){c.$VideoPlayerHTML5Api117(),c.$VideoPlayerHTML5Api61=new(b("VideoPlayerHTML5TrackNodeManager"))({videoEl:c.$VideoPlayerHTML5Api34,parsedSubRipText:a})},captionsDisplay:this.$VideoPlayerHTML5Api60});return this.$VideoPlayerHTML5Api57};d.$VideoPlayerHTML5Api93=function(){var a=this;this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api62=this.$VideoPlayerHTML5Api118();this.$VideoPlayerHTML5Api58=new(b("VideoPlayerHTML5ApiCea608State"))({onReady:function(a){a.processQueue()},onCaptionsLoaded:function(){a.$VideoPlayerHTML5Api117()},captionsDisplay:this.$VideoPlayerHTML5Api62});return this.$VideoPlayerHTML5Api58};d.$VideoPlayerHTML5Api78=function(){this.$VideoPlayerHTML5Api58&&(this.$VideoPlayerHTML5Api58.destroy(),this.$VideoPlayerHTML5Api58=null);var a=this.$VideoPlayerHTML5Api59;a&&(b("cr:1061104")&&(b("gkx")("1063360")&&a.download()),this.$VideoPlayerHTML5Api59=null);this.$VideoPlayerHTML5Api57&&(this.$VideoPlayerHTML5Api57.destroy(),this.$VideoPlayerHTML5Api57=null);this.$VideoPlayerHTML5Api61&&(this.$VideoPlayerHTML5Api61.destroy(),this.$VideoPlayerHTML5Api61=null)};d.setStillFrameEnabled=function(a){this.$VideoPlayerHTML5Api39=!a};d.$VideoPlayerHTML5Api64=function(){if(this.$VideoPlayerHTML5Api63("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api34);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api34.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api34.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api34.width||r,height:Number(c)||this.$VideoPlayerHTML5Api34.height||s}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api34)};d.getDimensionsForDevice=function(){var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api64();return{width:b.width*a,height:b.height*a}};d.$VideoPlayerHTML5Api119=function(){if(this.$VideoPlayerHTML5Api39)return;if(!this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api64();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api34,a);this.$VideoPlayerHTML5Api38=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api34)}else a=this.$VideoPlayerHTML5Api38;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api34)};d.$VideoPlayerHTML5Api81=function(){if(!this.$VideoPlayerHTML5Api38)return;b("CSS").hide(this.$VideoPlayerHTML5Api38.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api34)};d.$VideoPlayerHTML5Api85=function(a){var c=this;a===void 0&&(a=null);var d=this.$VideoPlayerHTML5Api1;if(!d)return b("Promise").resolve();if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api21||b("Promise").resolve();var e=[];this.$VideoPlayerHTML5Api20=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();var f=a==null?d.currentTime:a;if(this.$VideoPlayerHTML5Api35){a=function(){return c.$VideoPlayerHTML5Api35&&c.$VideoPlayerHTML5Api35.reload(f)||b("Promise").resolve()};a=this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.then(a):a();e.push(a)}else{a=(a=this.$VideoPlayerHTML5Api83())!=null?a:"";a!==""&&(this.$VideoPlayerHTML5Api34.src=a);this.$VideoPlayerHTML5Api34.preload=d.preload}var g=new(b("Deferred"))();e.push(g.getPromise());var h=function(){var a=c.$VideoPlayerHTML5Api87();c.$VideoPlayerHTML5Api63("create_restore_abort_loading_promise",!1)?g.resolve(a):g.resolve()};b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api34,f,function(){c.$VideoPlayerHTML5Api81(),c.$VideoPlayerHTML5Api1&&(c.$VideoPlayerHTML5Api34.muted=c.$VideoPlayerHTML5Api1.mutedState,c.$VideoPlayerHTML5Api1=null,c.emit("restoredAfterAbort")),c.$VideoPlayerHTML5Api20=!1,c.$VideoPlayerHTML5Api21=null,b("onCanPlayHTMLMediaElement").once(c.$VideoPlayerHTML5Api34,h)});this.$VideoPlayerHTML5Api21=b("Promise").all(e).then(function(){});return this.$VideoPlayerHTML5Api21};d.abortLoadingWithoutStillFrame=function(){var a=this;if(this.$VideoPlayerHTML5Api1)return;var c=this.$VideoPlayerHTML5Api34.currentTime,d=this.isMuted(),e=this.$VideoPlayerHTML5Api34.duration,f=this.isPaused(),g=this.$VideoPlayerHTML5Api34.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api8.isLiveStream()){var h=this.getSeekableRanges();if(h){var i=h.length()-1;h=h.end(i);c=h}}this.$VideoPlayerHTML5Api31=!1;this.$VideoPlayerHTML5Api1={mutedState:d,currentTime:c,playbackDuration:e,preload:g};f&&this.$VideoPlayerHTML5Api17&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"pause");this.emit("abortedLoading");this.$VideoPlayerHTML5Api78();if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api10=this.$VideoPlayerHTML5Api35.unload().then(function(){a.$VideoPlayerHTML5Api10=null})["catch"](function(){a.$VideoPlayerHTML5Api10=null});return}this.$VideoPlayerHTML5Api34.preload="none";this.$VideoPlayerHTML5Api34.removeAttribute("src");this.$VideoPlayerHTML5Api34.load()};d.abortLoading=function(a){a===void 0&&(a={});if(this.$VideoPlayerHTML5Api1)return;a.disableStillFrame!==!0&&this.$VideoPlayerHTML5Api119();this.abortLoadingWithoutStillFrame()};d.setPreferredVideoQuality=function(a){var c=this;this.$VideoPlayerHTML5Api30=a;if(!this.$VideoPlayerHTML5Api8)return;if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api71("paused",this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api71("requested_playing",{reason:"user_initiated"}));this.$VideoPlayerHTML5Api18=!this.$VideoPlayerHTML5Api18;var d=this.$VideoPlayerHTML5Api34.currentTime,e=this.$VideoPlayerHTML5Api34.muted,f=this.$VideoPlayerHTML5Api34.volume;a=(a=this.$VideoPlayerHTML5Api83())!=null?a:"";a!==""&&(this.$VideoPlayerHTML5Api34.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api34,function(){c.$VideoPlayerHTML5Api34.currentTime=d,c.$VideoPlayerHTML5Api34.muted=e,c.$VideoPlayerHTML5Api34.volume=f,c.$VideoPlayerHTML5Api87(),c.emit("qualityChange")});this.$VideoPlayerHTML5Api29=!0;this.$VideoPlayerHTML5Api70(!0);this.$VideoPlayerHTML5Api89()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Api30=null,this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){return this.$VideoPlayerHTML5Api30};d.getSelectedVideoQuality=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getSelectedVideoQuality():this.$VideoPlayerHTML5Api18?"HD":"SD"};d.getAvailableVideoQualities=function(){if(this.$VideoPlayerHTML5Api7.fallbackSources)return l(this.$VideoPlayerHTML5Api7.fallbackSources.HD?["SD","HD"]:["SD"]);if(!this.$VideoPlayerHTML5Api8)return l([]);return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getAvailableVideoQualities():l(this.$VideoPlayerHTML5Api8.hasHD()?["SD","HD"]:["SD"])};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getIsAbrEnabled():!1};d.canAutoSelectVideoQuality=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.canAutoSelectVideoQuality():!1};d.setPreloadDisabled=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.restoreStreamBufferSize()};c.getPlayerVersion=function(){return"pleasantville"};d.getUpdatedPlayerVersion=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getPlayerVersion()||c.getPlayerVersion():c.getPlayerVersion()};d.getVideoNodeSource=function(){return this.$VideoPlayerHTML5Api34.src||""};d.getVideoProjection=function(){if(this.$VideoPlayerHTML5Api32)return this.$VideoPlayerHTML5Api32;var a=this.$VideoPlayerHTML5Api35;if(a){this.$VideoPlayerHTML5Api32=(a=a.getVideoProjection())!=null?a:null;if(this.$VideoPlayerHTML5Api32)return this.$VideoPlayerHTML5Api32}a=this.$VideoPlayerHTML5Api8;if(a){this.$VideoPlayerHTML5Api32=(a=a.getProjection())!=null?a:null}return this.$VideoPlayerHTML5Api32};d.$VideoPlayerHTML5Api120=function(){var a=this.getCurrentTimePosition();a!=null&&(this.$VideoPlayerHTML5Api6=a)};d.$VideoPlayerHTML5Api121=function(){this.$VideoPlayerHTML5Api6!=null&&this.$VideoPlayerHTML5Api6!==0?(this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api6,this.$VideoPlayerHTML5Api6=null):this.$VideoPlayerHTML5Api33=q};d.reloadDashManifest=function(){var a=this.$VideoPlayerHTML5Api35;if(a){this.$VideoPlayerHTML5Api120();this.abortLoading();return this.$VideoPlayerHTML5Api122(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api33)}return b("Promise").reject()};d.$VideoPlayerHTML5Api122=function(a,b){var c=this;return a().then(function(){c.$VideoPlayerHTML5Api85(b),c.$VideoPlayerHTML5Api121()})};d.switchReplicaSet=function(a,b){var c=this,d=this.$VideoPlayerHTML5Api35,e={failover_response_code:b.status,original_url:"",replica:a},f="";if(d){f=d.getManifestUrl()||f;e.original_url=f;this.$VideoPlayerHTML5Api71("replica_switch",{error_code:b.status,error_user_info:{failover_response_code:b.status,url:b.url||"",replica:a}});try{this.abortLoading(),d.switchReplicaSet(a)}catch(a){this.$VideoPlayerHTML5Api71("replica_switch_failed",{reason:a.toString(),error_user_info:e});return}this.$VideoPlayerHTML5Api85().then(function(){c.$VideoPlayerHTML5Api71("replica_switch_success",{error_code:b.status,error_user_info:e})})["catch"](function(a){c.$VideoPlayerHTML5Api71("replica_switch_failed",{reason:a.toString(),error_user_info:e})})}};d.p2pPluginReady=function(){var a=this;this.$VideoPlayerHTML5Api71("live_p2p_playback_reloading",{});var b=function(b){a.$VideoPlayerHTML5Api20=!1,a.$VideoPlayerHTML5Api1=null,a.$VideoPlayerHTML5Api71("live_p2p_playback_plugin_failed",{reason:b.toString()}),a.$VideoPlayerHTML5Api35&&a.$VideoPlayerHTML5Api35.disableP2PPlayback(),a.abortLoading(),a.$VideoPlayerHTML5Api85().then(function(){a.$VideoPlayerHTML5Api35&&(a.$VideoPlayerHTML5Api29||a.$VideoPlayerHTML5Api17)&&a.$VideoPlayerHTML5Api35.play()})["catch"](a.$VideoPlayerHTML5Api97.bind(a))};try{this.$VideoPlayerHTML5Api22="hive_reload";this.abortLoading();var c=function(){a.$VideoPlayerHTML5Api35&&(a.$VideoPlayerHTML5Api29||a.$VideoPlayerHTML5Api17)&&a.$VideoPlayerHTML5Api35.play(),a.$VideoPlayerHTML5Api71("live_p2p_playback_plugin_loaded",{})};this.$VideoPlayerHTML5Api85().then(c)["catch"](b)}catch(a){b(a)}};d.$VideoPlayerHTML5Api87=function(){var a=this,c=b("Promise").resolve();if(this.$VideoPlayerHTML5Api29){if(this.$VideoPlayerHTML5Api3)var d=b("EventListener").capture(this.$VideoPlayerHTML5Api34.parentNode,"play",function(a){b("Event").kill(a),d.remove()});this.$VideoPlayerHTML5Api34.ended&&!this.$VideoPlayerHTML5Api34.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play");if(this.$VideoPlayerHTML5Api35){var e=this.$VideoPlayerHTML5Api35,f=o&&o.isReady()&&o.get("www_videos_shaka_wait_for_buffered");c=f?this.$VideoPlayerHTML5Api123():e.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api34.preload="auto"),c=this.$VideoPlayerHTML5Api34.play();c&&c["catch"]&&c["catch"](function(c){if(c!=null&&c.name==="NotAllowedError")a.$VideoPlayerHTML5Api71("cancelled_requested_playing",{reason:"not_allowed"}),a.$VideoPlayerHTML5Api112("flash/playbackNotAllowed");else if(!(c!=null&&c.name==="AbortError")){var d;c=new Error("Unexpected .play() promise rejection: "+(c!=null?((d=c.name)!=null?d:"(no name)")+": "+((d=c.message)!=null?d:"(no message)"):"(unknown)"));b("FBLogger")("video").catching(c).info(c.message)}a.$VideoPlayerHTML5Api70(!1)})}this.$VideoPlayerHTML5Api88();return c};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBWasLive())};d.isFBIsLiveTemplated=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBIsLiveTemplated())};d.getFbManifestIdentifier=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getFbManifestIdentifier():""};d.isFBMS=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBMS())};d.ispDASH=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.ispDASH())};d.isLiveheadCatchupEnabled=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.isLiveheadCatchupEnabled():!1};d.getBandwidthEstimate=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getBandwidthEstimate():null};d.getSeekableRanges=function(){if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api34){var c=this.$VideoPlayerHTML5Api34.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};d.$VideoPlayerHTML5Api123=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api11&&this.$VideoPlayerHTML5Api35)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api34.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api34.buffered.start(0);d=this.$VideoPlayerHTML5Api34.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api35)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api35.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:case"end":return f.stop()}},null,this)};c.getStartMutedFromConfig=function(a){return a.muted};c.getStreamTypeFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};c.getIsServableViaFbmsFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};c.getIsPlayingLiveFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};c.getIsGamingFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isGaming()};c.getIsFacecastAudioFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};c.getIsSpherical=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};c.getIsLiveTraceEnabledOnPlayer=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveTraceEnabledOnPlayer()};return c}(b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));a.networkTimeout=5e3;e.exports=a}),null);
__d("manifestHasUnsupportedCodecs",[],(function(a,b,c,d,e,f){"use strict";a=function(a){if(window.MediaSource!=null||a!=null||typeof a!=="string")return!1;var b=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,c;while(c=b.exec(a)){c=c[1]+'; codecs="'+c[2]+'"';if(!window.MediaSource.isTypeSupported(c))return!0}return!1};e.exports=a}),null);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"})}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_BEEPER:"live_beeper"})}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC;a=function(){function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null;this.$5=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,b,c,d){var e=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(e={m:d,pf:Math.floor((b-a)*g),s:c,sa:Math.floor(a*g)});d={pps:this.$4,ps:e,si:this.$2,so:this.$3,vi:this.$1};this.$4=e;return d};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return Object.assign({},a,e)};c.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("CVCv3VideoControllerHelper",["AsyncRequest","CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","Run","SubscriptionsHandler","XVideoUnifiedCVCController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC,h=10,i=Object.values(b("CVCv3DisabledPlayerOrigins")),j=Object.values(b("CVCv3DisabledPlayerSubOrigins"));a=function(){function a(a){var c=this;this.$23=function(){c.$11=null,c.$22(),c.$20(0)};this.$3=new(b("CVCv3SubscriptionHelper"))(a.getVideoID(),a.getPlayerOrigin(),a.getPlayerSuborigin());this.$2=a;this.$4=null;this.$5=!1;this.$7=null;this.$8=null;this.$1=null;this.$12=!this.$3.isValidSubscription();this.$6=new(b("SubscriptionsHandler"))();this.$6.addSubscriptions(a.addListener("beginPlayback",this.$14.bind(this)),a.addListener("pausePlayback",this.$15.bind(this)),a.addListener("finishPlayback",this.$16.bind(this)),a.addListener("updateStatus",this.$17.bind(this)));a.registerOption("UnifiedCVC","cvcData",function(){return c.$13});b("Run").onLeave(function(){return c.leave()})}var c=a.prototype;c.leave=function(){this.$6.release(),this.$2.hasOption("UnifiedCVC","cvcData")&&this.$2.unregisterOption("UnifiedCVC","cvcData")};c.$14=function(){if(!this.$2.isState("playing"))return;this.$4=null;this.$5=!1};c.$15=function(){this.$4=null,this.$5=!1};c.$16=function(){this.$4=null,this.$5=!1};c.$17=function(a){this.$2.isState("playing")&&(this.$4==null&&(this.$4=a.position),!this.$5&&this.$4+3<a.position&&(this.$2.logEvent("played_for_three_seconds"),this.$5=!0))};c.setLinearChannelID=function(a){this.$7=a};c.setLivingRoomSessionID=function(a){this.$8=a};c.startUnifiedCVC=function(){if(this.$18()||this.$19())return;var a=!1;this.$8!=null&&(a=!0);a||(a=this.$2.isLiveVideo()?!0:!b("gkx")("1353007"));if(!a)return;this.$20(0)};c.stopUnifiedCVC=function(){this.$21()};c.$18=function(){return i.includes(this.$2.getPlayerOrigin())};c.$19=function(){return j.includes(this.$2.getPlayerSuborigin())};c.$21=function(){b("clearTimeout")(this.$10),b("clearTimeout")(this.$9),this.$10=null,this.$9=null,this.$3.clearAnyPreviousContext(),this.$11!=null&&(this.$11.abandon(),this.$11=null)};c.$22=function(){b("clearTimeout")(this.$9),this.$9=null};c.$20=function(a){var c=this;if(this.$10!=null||this.$11!=null||this.$12)return;this.$10=b("setTimeout")(function(){c.$10=null;var a=c.$24();a.setHandler(function(a){c.$25(a)});c.$11=a;a.send();c.$9=b("setTimeout")(c.$23,h*g)},a)};c.$25=function(a){if(a.getRequest()!==this.$11)return;this.$11=null;a=this.$3.processUnifiedResponse(a.payload);if(a!=null){this.$22();this.$13=a.d;a.d!=null&&this.$2.emit("unifiedCVC/update",a.d);if(a.a!=null){var b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=h);this.$20(b*g);break;case"s":this.$12=!0;break}}}};c.$24=function(){var a={};this.$7!=null&&(a.lc=this.$7);this.$8!=null&&(a.lr=this.$8);this.$2.isLiveVideo()&&(a.ls=!0,a.pc=!0);var c=0,d=0;this.$4!=null&&(c=this.$4,d=this.$2.getCurrentTimePosition());c=this.$3.makeUnifiedVideoCVCUpdate(c,d,this.$2.getVideoState(),this.$2.isMuted(),a);d={};d.d=JSON.stringify(c);this.$1!=null&&(d.access_token=this.$1);return new(b("AsyncRequest"))().setMethod("POST").setURI(b("XVideoUnifiedCVCController").getURIBuilder().getURI()).setReadOnly(!0).setData(d)};c.setAccessToken=function(a){this.$1=a};return a}();e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(a){f.addSubscriptions(d.addListener(a,h))})}e.exports={operateAsync:a}}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a={evaluate:function(a){if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;if(a!=null)for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b}};e.exports=a}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=function(){},this.$2=0}var b=a.prototype;b.setOnPriorityChanged=function(a){this.$1=a};b.getPriorityAdjustment=function(){return this.$2};b.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};b.cleanup=function(){this.$1=function(){}};return a}();e.exports=a}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoControllerPlayingStateEmitter2=null;c.$VideoControllerPlayingStateEmitter3=b;return c}var d=c.prototype;d.enable=function(){var a=this;this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var b=a.$VideoControllerPlayingStateEmitter2;a.$VideoControllerPlayingStateEmitter2=a.$VideoControllerPlayingStateEmitter3.getState();if(a.$VideoControllerPlayingStateEmitter2===b)return;a.$VideoControllerPlayingStateEmitter5(a.$VideoControllerPlayingStateEmitter2)}));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};d.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};d.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};d.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};d.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};d.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};return c}(b("EventEmitter"));e.exports=a}),null);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","live_trace_www_video_player");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("VideoLiveTrace",["LiveTraceWwwVideoPlayerFalcoEvent","throttle"],(function(a,b,c,d,e,f){var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i="x-fb-video-livetrace-streamtype",j="x-fb-origin-hit",k="x-fb-edge-hit",l="PLY:WWW:",m=l+"DL:",n=l+"DIS:",o=1e3,p=/[\r\n]+/;a=function(){"use strict";function a(a,c,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+c.substring(0,5);this.$3=l+a;this.$4=m+a;this.$5=n+a;this.$7=b("throttle")(function(a){return e.$8(a)},o)}var c=a.prototype;c.setStreamType=function(a){this.$2=a};c.$9=function(a,c,d,e,f,g){var h=this,i,j=Date.now(),k=(i=this.$2)!=null?i:0;b("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:h.$1,stream_type:k,event_name:c,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};c.onUpdateStatus=function(a){this.$7(a)};c.$8=function(a){a=a.position*1e3;var b=this.$6;while(b.length&&b[b.length-1].presentationTimestamp<=a){var c=b.pop();this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};c.handleHeadersString=function(a,b){a=a.trim().split(p);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};c.handleHeaders=function(a,b){var c=[];for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(f)}this.$10(c,b)};c.$10=function(a,b){var c=this,d="null",e=[],f=[],l="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===g&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];e.push(b);f.unshift({traceId:b,presentationTimestamp:a})})}b===h&&(l=a);c.$2===null&&b===i&&(c.$2=parseInt(a,10));(b===j||b===k)&&parseInt(a,10)&&(d=b===j?"origin":"edge")});var m=b||{};m.hit=d;f.length&&l!==""&&(this.$6=f.concat(this.$6));if(e.length&&l!==""){var n=l;e.forEach(function(a){return c.$9(c.$4,"SEGMENT",a,n,"SUCCESS",m)})}};c.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};c.getLiveTraceContext=function(){return{streamId:this.$1,streamType:this.$2||0,sourceId:this.$3}};return a}();e.exports=a}),null);
__d("VideoPlayerABRQualityTracker",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.$2=null}var b=a.prototype;b.setLastQualitySwitchReason=function(a){this.$2=a};b.getABREvaluation=function(){var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var b=0,c=0,d=0,e=0,f=this.$2;for(var g=0;g<a.length;g++)switch(a[g]){case"ideal":b++;break;case"conservative":c++;break;case"aggressive":d++;break;case"conservative_resolution_constrained":e++;break}return{idealSamples:b,conservativeSamples:c,aggressiveSamples:d,conservativeResolutionConstrainedSamples:e,lastQualitySwitchReason:f}};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",AYMT:"aymt",BALLOT:"ballot",BIZ_ART:"biz_art",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CATALOG_MANAGER:"catalog_manager",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CHANNEL_TAB:"channel_tab",CHANNEL_TAB_LATEST_VIDEOS_CARD:"channel_tab_latest_videos_card",CHANNEL_TAB_LIVE_VIDEO_CARD:"channel_tab_live_video_card",CHANNEL_TAB_ALL_VIDEOS_CARD:"channel_tab_all_videos_card",CHANNEL_TAB_PLAYLISTS_CARD:"channel_tab_playlists_card",CHANNEL_TAB_POPULAR_CARD:"channel_tab_popular_card",CHANNEL_TAB_SERIES_CARD:"channel_tab_series_card",CHANNEL_TAB_SERIES_CARD_CONTINUE_WATCH:"channel_tab_series_card_continue_watch",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",CRICKET_MATCHES_AGGREGATION:"cricket_matches_aggregation",DIM_SUM:"dim_sum",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",ENTRY_POINT:"entry_point",EVENTS_COVER:"events_cover",EVENTS_LIVE_CTA:"events_live_cta",FUNDRAISER_COVER:"fundraiser_cover",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_ARENA_HERO:"games_arena_hero",GAMES_ARENA_VIDEOS_TAB:"games_arena_videos_tab",GAMES_VERSE_DESTINATION:"games_verse_destination",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:"games_video_clips_home_immersive_player",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_MY_CLIPS:"games_video_clips_home_my_clips",GAMES_VIDEO_COMMUNITY_FEED:"games_video_community_feed",GAMES_VIDEO_EXPLORE_HOME:"games_video_explore_home",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_HIGHLIGHTED_CLIPS_STREAMER_PAGE:"games_video_highlighted_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GAMES_VIDEO_QP_RECOMMENDED_LIVE:"games_video_qp_recommended_live",GAMES_VIDEO_HOME_LEFT_RAIL:"games_video_home_left_rail",GAMES_VIDEO_HOME_SEE_ALL:"games_video_home_see_all",GAMES_VIDEO_HOME_STREAMER_HUB_HERO:"games_video_home_streamer_hub_hero",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",GROUPS_COVER:"groups_cover",GOODWILL_PRODUCT_SYSTEM:"goodwill_product_system",HTML5:"html5",INLINE:"inline",INLINE_END_SCREEN:"inline_end_screen",INSIGHTS:"insights",INTERN_CRM_CALL_RECORDING:"intern_crm_call_recording",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_CLIPS_CREATOR:"live_clips_creator",LIVE_HERO:"live_hero",LIVE_LINEAR:"live_linear",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_PAGE_UPCOMING_NEXT_UNIT:"live_page_upcoming_next_unit",LIVE_PRODUCER:"live_producer",LIVE_PYML:"live_pyml",LIVE_RHC:"live_rhc",LIVE_GAMING_RHC:"live_gaming_rhc",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVE_MSITE:"live_msite",LIVE_EVERGREEN_QP:"live_evergreen_qp",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEDIA_VIEWER:"media_viewer",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MESSENGER_THREAD:"messenger_thread",MISC:"misc",MOBILE:"mobile",MOVIES_RECOMMENDED_MOVIES_QP:"movies_recommended_movies_qp",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",OCULUS_GAMES:"oculus_games",OCULUS_HUB:"oculus_hub",OCULUS_RECOMMENDED_VIDEO_UNIT:"oculus_recommended_video_unit",PAGE_LIVE_TAB:"page_live_tab",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGE_ROLES:"page_roles",PAGE_TIMELINE_LIVE_CARD:"page_timeline_live_card",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PEOPLE_PORTAL:"people_portal",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",PROTON:"proton",REPORT_FLOW:"report_flow",REVIEW:"review",ROBOTICS_RTC_PAGE:"robotics_rtc_page",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CATALOG:"video_home_catalog",TOPIC_SPORTS:"topic_sports",TOPIC_CRICKET:"topic_cricket",TOPIC_LIVE:"topic_live",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_EXPLORE_TAB:"explore",VIDEO_HOME_CHANNEL:"video_home_channel",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_HOME_CRICKET:"video_home_cricket",VIDEO_HOME_RAINBOW_QP:"video_home_rainbow_qp",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SHOWS_CATALOG:"shows_catalog",SOTTO_CATALOG:"sotto_catalog",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results",SERIES_CARD:"series_card",WATCH_HISTORY:"watch_history",WATCH:"watch",SERP_THUMBNAIL_PREVIEW:"serp_thumbnail_preview",SERP_INLINE_PLAYER:"serp_inline_player",VIDEO_LIST:"video_list",VIDEO_HOME_THUMBNAIL_PREVIEW:"video_home_thumbnail_preview",WORK_CAPTIONS_REVIEW:"work_captions_review",MUSIC_HOME_SERP:"music_home_serp",MUSIC_VIDEOS_PLAYLISTS_CARD:"music_videos_playlists_card",MEDIA_MATCH_SERVICE:"media_match_service",LINEAR_CHANNEL:"linear_channel",VIDEO_WALL:"video_wall",MORC_CONSOLE:"morc_console",WORKPLACE_INSIGHTS:"workplace_insights"})}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.getReason=function(){return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;a=function(){"use strict";function a(){var a=this,c=new(b("CacheStorage"))("localstorage","_video_"),d=c.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return d},getFastMovingBandwidth:function(){return d}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),function(){b("VideoPlayerShakaGlobalConfig").getBool("shaka_update_bandwidth_cache_on_sample",!1)&&c.set("bandwidthEstimate",a.$1.getBandwidth())},d),this.$1.isMockObject=!1);b("Run").onUnload(function(){c.set("bandwidthEstimate",a.$1.getBandwidth())})}var c=a.prototype;c.getEstimator=function(){return this.$1};a.getInstance=function(){(h===null||h.getEstimator().isMockObject&&g)&&(h=new a());return h};a.getEstimator=function(){return a.getInstance().getEstimator()};a.getBandwidth=function(b){var c=a.getEstimator();return c.getBandwidth(b)};a.getBandwidthByVideoType=function(b){return a.getBandwidth(a.getBandwidthModel(b))};a.getBandwidthModel=function(a){return a?"aggressive":"conservative"};a.isAutoplayBandwidthRestrained=function(c){var d=a.getEstimator(),e;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?e=d.getFastMovingBandwidth():e=d.getBandwidth();d=c?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);e===null||e>=d?i=!1:i=!0;return i};return a}();e.exports=a}),null);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};e.exports={ANALYTICS_SAMPLE_RATE:a,BUCKET_DELIMITER:b,CONTEXT_BUCKET_STRATEGY:c,CONFIG_TYPE:d,EMPTY_RESOLVED_CONTEXTS:f,EMPTY_RESOLVED_MONITORS:g,EMPTY_RESULT_PARAMS:h,ERROR:i,JSON_SUB_SAMPLE_RATE:j,LIST_DELIMITER:k,TYPE:l}}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};e.exports={getBucketIndices:a,getBucketNames:b,getContextNames:c,getContextValues:d}}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE,h=b("ContextualConfigConstants").LIST_DELIMITER,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigResolvedContextsUtils").getContextNames,k=b("ContextualConfigResolvedContextsUtils").getContextValues,l=["cfg_ver_timestamp","policy_id","version","sample_rate"],m=function(a){return a.join(h)},n=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},o=function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=m(d.map(function(a){return a.value}))||"INVALID";a.context=m(j(e));a.context_value=m(k(e));a.bucket_name=m(i(e));a.monitor=m(j(b));a.monitor_value=m(k(b))};a=function(a,b,c){var d={sample_rate:g};n(d,a);o(d,b);c&&(d.config_contents=JSON.stringify(a));return d};e.exports=a}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}var c=a.prototype;c.getData=function(){return this.$2};c.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};c.isSampled=function(){return this.$4};return a}();e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};return a}();a=function(a,b){return new g(a,b)};e.exports=a}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(var c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};e.exports=b("ContextualConfigExposureLoggerFactory")(a,c)}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a===!1)throw new Error(b)};e.exports=a}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").TYPE;a=function(a){return Array.isArray(a)};c=function(a){return typeof a==="boolean"};d=function(a){return a!=null};f=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};b=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case g.BOOL:case g.FLOAT:case g.INT:case g.STRING:return!0;default:return!1}};e.exports={isArray:a,isBoolean:c,isDefined:d,isKey:f,isInteger:b,isNonEmptyString:h,isNumber:i,isString:j,isType:k}}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(g.BAD_BOOLEAN_FORMAT)}};e.exports=a}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR;a=function(a,c){var d;switch(c){case g.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case g.NULL:d=function(a){return a==null};break;case g.NNULL:d=function(a){return a!=null};break;case g.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(h.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}};e.exports=a}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isNumber,j=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,k=function(a){return j.test(a)};a=function(a){(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_NUMBER_FORMAT);a=parseFloat(a);g(i(a),h.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isNumber,j=/^[-\+]?([1-9]\d*|0)$/,k=function(a){return j.test(a)};a=function(a){(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_NUMBER_FORMAT);a=parseInt(a,10);g(i(a),h.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR;a=function(a){return(g||(g=b("ContextualConfigAssert")))(a>0,h.MISMATCH_NUMBER_OF_VALUES)};c=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,h.MISMATCH_NUMBER_OF_VALUES)};d=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a<c,h.BAD_VALUE_ORDER)};e.exports={assertHasValues:a,assertNumberOfValues:c,assertValueOrder:d}}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=b("ContextualConfigPredAssertions").assertValueOrder,l=b("ContextualConfigValidators").isInteger;a=function(a,c,d,e){var f=d.map(e?b("ContextualConfigParseInteger"):g||(g=b("ContextualConfigParseFloat"))),m;switch(c){case h.SAME:var n=e?b("ContextualConfigParseInteger")(a):(g||(g=b("ContextualConfigParseFloat")))(a);m=function(a){return e&&!l(a)?!1:a===n};break;case h.NULL:m=function(a){return a==null};break;case h.NNULL:m=function(a){return a!=null};break;case h.CATCH_ALL:m=function(a){return!0};break;case h.COR:j(f.length,2);k(f[0],f[1]);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>=f[0]&&a<f[1]};break;case h.LT:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a<f[0]};break;case h.LTE:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a<=f[0]};break;case h.EQ:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a===f[0]};break;case h.NEQ:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a!==f[0]};break;case h.GT:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>f[0]};break;case h.GTE:j(f.length,1);m=function(a){if(typeof a!=="number")return!1;return e&&!l(a)?!1:a>=f[0]};break;default:throw new Error(i.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return m(a)}};e.exports=a}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=/^\/(.+)\/(.*)$/;a=b("ContextualConfigConstants").ERROR;c=function(b){try{var c=b.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(b)}catch(b){throw new Error(a.REGEX_SYNTAX_ERROR)}};e.exports=c}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertHasValues,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=function(a){if(typeof a!=="string")throw new Error(h.INVALID_VALUE_TYPE);return a},l=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k(e))}return b};a=function(a,c,d){var e=l(d),f;switch(c){case g.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case g.NULL:f=function(a){return a==null};break;case g.NNULL:f=function(a){return a!=null};break;case g.CATCH_ALL:f=function(a){return!0};break;case g.IN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case g.NIN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case g.CONTAINS:j(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case g.REGEX:j(e.length,1);var k=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:k.test(a)};break;default:throw new Error(h.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}};e.exports=a}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g;a=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY;var h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigConstants").TYPE,j=(c=b("ContextualConfigValidators")).isArray,k=c.isDefined;d=c.isKey;var l=c.isNonEmptyString,m=c.isString,n=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.MISSING_BUCKETS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.MISSING_BUCKETS)},p=d(a),q=function(a){return(g||(g=b("ContextualConfigAssert")))(m(a)&&p(a.toUpperCase()),h.MISSING_BUCKET_STRATEGY)},r=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.ILLEGAL_BUCKET_VALUES)},s=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.MISSING_BUCKET_NAME)},t=function(a,c){var d=c.name;s(d);var e=c.strategy;q(e);c=c.values||[];r(c);switch(a){case i.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case i.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case i.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case i.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(h.UNKNOWN_BUCKET_DEFINITION)}},u=function(a,b){n(b);var c=b.name;s(c);return{name:c,pred:t(a,b)}};f=function(a,b){o(b);return b.map(function(b){return u(a,b)})};e.exports=f}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=(a=b("ContextualConfigValidators")).isArray,j=a.isDefined,k=a.isNonEmptyString,l=a.isType,m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_CONTEXT_IDENTIFIER)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a)&&a.length>0,h.MISSING_CONTEXT_IN_CONFIG)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_CONTEXT_IDENTIFIER)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.BAD_CONTEXT_IDENTIFIER)},q=function(a){m(a);var c=a.name,d=a.type;a=a.buckets;o(c);p(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};c=function(a){n(a);return a.map(q)};e.exports=c}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0};e.exports=a}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigConstants").TYPE,k=b("ContextualConfigValidators").isString,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.INVALID_STRING)};a=function(a,c){l(c);switch(a){case j.BOOL:return b("ContextualConfigParseBoolean")(c);case j.FLOAT:return(h||(h=b("ContextualConfigParseFloat")))(c);case j.INT:return b("ContextualConfigParseInteger")(c);case j.STRING:return c;default:throw new Error(i.INVALID_VALUE_TYPE)}};e.exports=a}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("ContextualConfigConstants").ERROR,j=(a=b("ContextualConfigValidators")).isArray,k=a.isDefined,l=a.isNonEmptyString,m=a.isType,n=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),i.MISSING_RESULTS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONTEXT_VALUE)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),i.BAD_CONTEXT_VALUE)},q=function(a){return(g||(g=b("ContextualConfigAssert")))(m(a),i.BAD_CONTEXT_VALUE)},r=function(a,b){for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.name===b)return e.type}throw new Error(i.UNDECLARED_OUTPUT_PARAM)},s=function(a){return function(c){o(c);var d=c.name;p(d);var e=r(a,d);q(e);c=(h||(h=b("ContextualConfigParseResultParamValue")))(e,c.value);return{name:d,type:e,value:c}}};c=function(a,b){n(b);return b.map(s(a))};e.exports=c}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),h.RESULTS_VECTOR_SIZE_MISMATCH)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));i(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").ERROR;c=function(c,d){try{return b("ContextualConfigParseDenseResultParams")(c,d)}catch(b){throw new Error(a.MISSING_DEFAULT_VALUE)}};e.exports=c}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=(a=b("ContextualConfigValidators")).isArray,j=a.isDefined,k=a.isNonEmptyString,l=a.isType,m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_CONTEXT_IDENTIFIER)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.BAD_MONITORED_CONTEXTS)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_CONTEXT_IDENTIFIER)},p=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),h.BAD_CONTEXT_IDENTIFIER)},q=function(a){m(a);var b=a.name;a=a.type;o(b);p(a);return{name:b,type:a}};c=function(a){n(a);return a.map(q)};e.exports=c}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_OUTPUTS_DEFINITION)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.BAD_OUTPUT_TYPE)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.BAD_OUTPUT_NAME)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(p(a),h.DUPLICATE_OUTPUT_NAME)},p=function(a){var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},q=function(a){n(a.name);m(a.type);return a};a=function(a){l(a);a=a.map(q);o(a);return a};e.exports=a}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isArray,k=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),i.MISSING_VECTOR)},l=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,i.RESULTS_VECTOR_SIZE_MISMATCH)},m=function(a,c){l(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];(h||(h=b("ContextualConfigParseResultParamValue")))(e,f)}},n=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};a=function(a,b,c){k(c);b=n(b);var d=a.length;l(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;m(a,c.slice(f,f+d))}return c};e.exports=a}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};a=function(a,b,c){var d=null;a=a.map(function(a){var e=a.name,f={name:e};if(d!=null)return f;var i;c[e]!=null?i=c[e]:b[e]!=null?i=b[e]():i=null;f.value=i;if(a.buckets!=null){e=h(a.buckets,i);if(e==null){d=new Error(g.MISSING_BUCKET_MATCH);return f}a=e[0];i=e[1];f.bucketName=a;f.bucketIndex=i}return f});return[d,a]};e.exports=a}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g;a=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;var h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigResolvedContextsUtils").getBucketIndices,k=b("ContextualConfigValidators").isDefined,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONFIG)},m=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},n=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},o=function(a,c,d){try{d=d.reduce(function(c,d,e){(g||(g=b("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};c=function(){function c(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=m(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}var d=c.prototype;d.resolve=function(b){try{return this.unsafeResolve(b)}catch(b){return[b,this.defaults,a,h]}};d.unsafeResolve=function(a){var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,i=this.outputs,k=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,h];l=o(c,i.length,j(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,h];c=n(i,k,l,f);i=c[0];k=c[1];if(i!=null)return[i,k,e,h];l=b("ContextualConfigResolveContexts")(g,d,a);f=l[0];c=l[1];return f!=null?[f,k,e,h]:[null,k,e,c]};return c}();e.exports=c}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,i=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,j=b("ContextualConfigConstants").ERROR,k=b("ContextualConfigValidators").isDefined,l=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),j.BAD_CONFIG)};a=function(){function a(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,h,i]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,h,i]:[null,e,h,a]};return a}();e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f};e.exports=a}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),h.MISSING_DEFAULT_VALUE)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c);i(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigParseResultParams","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isDefined,k=b("ContextualConfigValidators").isNonEmptyString,l=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_TABLE)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a),h.MISSING_TABLE)},n=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),h.MISSING_TABLE_ITEM_BUCKET)},o=function(a){return(g||(g=b("ContextualConfigAssert")))(i(a),h.MISSING_TABLE_ITEM_VALUES)},p=function(a,c){m(c);var d=c.bucket;c=c.values;n(d);o(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};a=function(a,b){l(b);return b.reduce(function(b,c){c=p(a,c);b[c.bucket]=c.values;return b},{})};e.exports=a}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=(a=b("ContextualConfigConstants")).BUCKET_DELIMITER;c=a.EMPTY_RESOLVED_CONTEXTS;d=a.EMPTY_RESOLVED_MONITORS;var i=a.ERROR,j=b("ContextualConfigResolvedContextsUtils").getBucketNames,k=b("ContextualConfigValidators").isDefined,l=[],m=function(a){return(g||(g=b("ContextualConfigAssert")))(k(a),i.BAD_CONFIG)};f=function(){function a(a,c){m(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}var e=a.prototype;e.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,c,d]}};e.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,g=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var i=d[0];d=d[1];if(i!=null)return[i,e,d,[]];i=j(d).join(h);g=g[i]||l;i=b("ContextualConfigMergePartialResultParams")(e,g);e=b("ContextualConfigResolveContexts")(f,c,a);g=e[0];f=e[1];return g!=null?[g,i,d,[]]:[null,i,d,f]};return a}();e.exports=f}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ContextualConfigConstants").CONFIG_TYPE,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isDefined,k=[1],l=function(a){return(g||(g=b("ContextualConfigAssert")))(j(a)&&j(a.version),i.BAD_CONFIG)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(k.indexOf(a)!==-1,i.UNSUPPORTED_CONFIG_VERSION)};a=function(a,c){l(a);m(a.version);switch(a.cctype){case h.DENSE:return new(b("DenseContextualConfig"))(a,c);case h.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case h.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(i.UNKNOWN_CONFIG_TYPE)}};e.exports=a}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";a=function(a){};e.exports=a}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var c=a.prototype;c.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(g.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};c.getParams=function(){return this.$2};return a}();e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").EMPTY_RESULT_PARAMS;a=function(){function a(a){this.error=a}var b=a.prototype;b.resolve=function(a){return[this.error,i,g,h]};return a}();e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE;var g=1/a,h=1;c=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var c=a.prototype;c.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};c.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};c.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};return a}();e.exports=c}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;a=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addParseConfigCallback(a);a();c=function(){"use strict";function a(a,c){this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}var c=a.prototype;c.setContext=function(a,b){if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};c.setOverrideConfig=function(a){this.$2=a};c.getBool=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getNumber=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.getString=function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};c.$4=function(a,c){if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};return a}();e.exports=c}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getPriority()-b.getPriority()};a=function(){function a(){this.$1=[]}var c=a.prototype;c.register=function(a,c){var d=this;c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return d.$2(a)});c.addListener("release",function(){return d.$2(a)});c.addListener("heightChange",function(){return d.$2(a)});this.$1.push(c);this.$1.sort(g);return c};c.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};return a}();e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){this.$1=1,this.$2=1}var c=a.prototype;c.getVolume=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};c.getSessionVolume=function(){return this.$1};c.setSessionVolume=function(a){this.$1=a};c.saveVolume=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};c.getLastVolumeBeforeMute=function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};c.saveLastVolumeBeforeMute=function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};return a}();c=new a();e.exports=c}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){var g=42;a=function(){"use strict";function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){var g,h=b("VideoPlayerExperiments").viewabilityPollingRate,i=new Map([[0,0],[25,25],[50,50],[75,75],[100,100]]);a=function(){"use strict";function a(a,c,d,e){var f=this;this.$14=function(a){if(!f.$8())return;a=(g||(g=b("performanceNow")))();a-f.$1>h&&(f.$12(),f.$1=a);f.$13()};this.$11=function(){f.$16()};this.$10=function(){f.setLastLoggedViewability(f.getViewability()),f.$15()};this.$1=0;this.$5=a;this.$6=new(b("ViewabilityVideoElement"))(c,d,e,this.$5.isSpherical());this.$7()}var c=a.prototype;c.getViewability=function(){var a;this.$5.isInline()?a=this.$6.feedViewabilityPercentage():a=this.$6.viewabilityPercentage();b("VideoPlayerExperiments").pauseVideosOnViewability&&a<50&&this.$8()&&this.$5.pause();return this.$9(a)};c.setLastLoggedViewability=function(a){this.$4=a};c.$7=function(){this.$5.addListener("beginPlayback",this.$10),this.$5.addListener("pausePlayback",this.$11)};c.$12=function(){var a=this.getViewability();a!=this.$4&&(this.$5.logEvent("viewability_changed",{current_viewability_percentage:a,last_viewability_percentage:this.$4}),this.$4=a)};c.$13=function(){var a=this,c=b("VideoPlayerExperiments").organicViewabilityLoggingUseSetTimeout,d=b("VideoPlayerExperiments").organicViewabilityLoggingPollingTimeMs;c=!this.$5.isAd()&&c?function(){a.$3=window.setTimeout(function(){return a.$14((g||(g=b("performanceNow")))())},d)}:function(){a.$2=window.requestAnimationFrame(a.$14)};c()};c.$15=function(){this.$13()};c.$16=function(){this.$17()};c.$17=function(){var a=this,c=b("VideoPlayerExperiments").organicViewabilityLoggingUseSetTimeout;c=!this.$5.isAd()&&c?function(){return window.clearTimeout(a.$3)}:function(){return window.cancelAnimationFrame(a.$2)};c()};c.$8=function(){return this.$5.getVideoAPI().isPaused()!==void 0?!this.$5.getVideoAPI().isPaused():this.$5.getState()==="playing"};c.$9=function(a){var b=-2;if(a<=0)return b;for(var c=i,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];a>=g&&(b=f)}return b};return a}();e.exports=a}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Arbiter","Banzai","Bootloader","CSS","CurrentUser","CVCv3VideoControllerHelper","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SRTVideoData","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerQualitiesArray","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","WebSessionExtender","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n=b("VideoAsyncLoggerHelper").operateAsync,o=b("VideoPlaybackQuality").getDroppedFrames,p=b("VideoPlaybackQuality").getTotalFrames,q=b("VideoPlayerQualitiesArray").getHighestVideoQuality,r=b("VideoPlayerQualitiesArray").getPreferredVideoQualityForToggleHD,s=b("VideoPlayerQualitiesArray").isHDSelectedVideoQuality,t=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return t=a});var u=1;function v(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?(j||(j=b("performanceAbsoluteNow")))():Date.now()}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e,f=c.video_id,g=c.video_ids,h=c.video_url,i=c.video_urls,j=c.chaining_token,m=c.video_channel_id,n=c.video_list_id,q=c.reaction_video_channel_type,r=c.reaction_video_channel_subtype,s=c.source,t=c.ad_client_token,u=c.should_autoplay,w=c.immediateplay_reason,x=c.player_version,y=c.autoplay_setting,z=c.apiModule,A=c.apiConfig,B=c.useInlineFallback,C=c.accessToken,D=c.projection,E=c.playerOrigin,F=c.playerSuborigin,G=c.playerSuboriginDerived,H=c.isBroadcast,I=c.isInstreamAd,J=c.customLiveManifestUrlParams,K=c.components,L=c.trackingCodes,M=c.alwaysShowCaptions;c.disableLogging;var N=c.subtitleBackgroundColor,O=c.subtitleBackgroundOpacity,P=c.subtitleTextColor,Q=c.subtitleTextSize,R=c.captionsAutogeneratedIndicatorConfig,S=c.video_path,T=c.customLoggingProps,U=c.broadcasterOrigin,V=c.allowCrossPageTransition,aa=c.isReactPlayer,ba=c.offsettype,ca=c.offsetvalue,da=c.upstreamPlayerSource,ea=c.shouldLogVideoViewability,W=c.livingRoomSessionID,fa=c.broadcastId,ga=c.isAdsPreview,ha=c.isInjectedAds,ia=c.isBroadcaster,ja=c.keepPlayingOnDialog,ka=c.isChainedLivingRoom,X=c.liveLinearChannelId,la=c.isReplayLivingRoom,Y=c.device_id,Z=c.iframeEmbedReferrer;c=c.positionInUnit;var ma=d.root_element,na=d.container_element;d=d.video_element;e=a.call(this)||this;e.$VideoPlayerController22=!1;e.$VideoPlayerController40=!1;e.$VideoPlayerController80=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);e.$VideoPlayerController81=0;e.$VideoPlayerController113=[];e.$VideoPlayerController120=null;e.$VideoPlayerController121=null;e.$VideoPlayerController122=new(b("EventEmitter"))();e.$VideoPlayerController127=null;e.emitHeartbeat=function(){if(!e.isState("playing")||!e.getVideoNode()){e.stopHeartbeat();e.$VideoPlayerController20.stopUnifiedCVC();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&e.isBuffering())return;e.getVideoAPI().logHeartbeat()};e.$VideoPlayerController168=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){e.$VideoPlayerController167();e.$VideoPlayerController102=b("setTimeout")(e.$VideoPlayerController168,e.$VideoPlayerController108);return}var a=e.getVideoAPI().isPaused()!==void 0?!e.getVideoAPI().isPaused():e.getState()==="playing";a&&(e.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+e.$VideoPlayerController108+"ms.",isPlayback:e.isPlayRequestPending()}),e.$VideoPlayerController167(),e.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))};e.$VideoPlayerController117=b("guid")();e.$VideoPlayerController48=0;e.$VideoPlayerController26=0;e.$VideoPlayerController25=new Map();e.$VideoPlayerController83={};T&&e.setLogEntryPropertyGetters(T);if(u===void 0)throw new Error("Must pass should_autoplay to "+e.constructor.name+"!");e.$VideoPlayerController129=Z;e.$VideoPlayerController118=c;e.$VideoPlayerController24=new(b("VideoPlayerUIComponentDrawerController"))();e.$VideoPlayerController13=new Map();e.$VideoPlayerController60=D;e.$VideoPlayerController1=C;e.$VideoPlayerController70=!!u;e.$VideoPlayerController71=w;e.$VideoPlayerController8=y;e.$VideoPlayerController2=t;e.$VideoPlayerController55=!1;e.$VideoPlayerController93=d;e.$VideoPlayerController69=ma;e.$VideoPlayerController15=na;e.$VideoPlayerController35=!1;e.$VideoPlayerController36=!1;e.$VideoPlayerController59=x;e.$VideoPlayerController92=f||g&&g[0]||"";e.$VideoPlayerController95=h||i&&i[0];e.$VideoPlayerController94=S;e.$VideoPlayerController11=j;e.$VideoPlayerController89=m;e.$VideoPlayerController90=n;e.$VideoPlayerController56=E;e.$VideoPlayerController57=F||s;e.$VideoPlayerController58=(T=G)!=null?T:null;e.$VideoPlayerController33=H;e.$VideoPlayerController41=I;e.$VideoPlayerController19=(Z=J)!=null?Z:null;e.$VideoPlayerController85=L;e.$VideoPlayerController3=M;e.$VideoPlayerController74=N||"";e.$VideoPlayerController75=O==void 0?0:O;e.$VideoPlayerController76=P||"";e.$VideoPlayerController77=Q==void 0?0:Q;e.$VideoPlayerController78=R;e.$VideoPlayerController31=b("uniqueID")();e.$VideoPlayerController66=q;e.$VideoPlayerController67=r;e.$VideoPlayerController121=fa;e.$VideoPlayerController123=ga;e.$VideoPlayerController124=ha;e.$VideoPlayerController125=ja;e.$VideoPlayerController5=z;e.$VideoPlayerController4=A;e.$VideoPlayerController79=e.$VideoPlayerController5.getStartMutedFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController45=e.$VideoPlayerController5.getStreamTypeFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController44=e.$VideoPlayerController5.getIsServableViaFbmsFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController42=e.$VideoPlayerController5.getIsPlayingLiveFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController43=e.$VideoPlayerController5.getIsGamingFromConfig(e.$VideoPlayerController4);e.isLiveVideo()&&e.$VideoPlayerController5.getIsLiveTraceEnabledOnPlayer(e.$VideoPlayerController4)&&e.$VideoPlayerController121&&(e.$VideoPlayerController120=new(b("VideoLiveTrace"))(e.$VideoPlayerController121,e.$VideoPlayerController117,b("CurrentUser").getAccountID()));e.$VideoPlayerController115=!!ea;e.$VideoPlayerController38=e.$VideoPlayerController5.getIsSpherical(e.$VideoPlayerController4);c={is_ad:e.isAd(),is_live:e.$VideoPlayerController42,player_format:e.$VideoPlayerController130(e.isFullscreen(),s)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:e.$VideoPlayerController38,content_category:"general",latency_level:"normal",servable_via_fbms:void 0,servable_via_fmbs:void 0};c.servable_via_fmbs=!1;e.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))(c);e.$VideoPlayerController116=W;e.$VideoPlayerController126=ka;e.$VideoPlayerController128=la;e.$VideoPlayerController127=X;e.$VideoPlayerController20=new(b("CVCv3VideoControllerHelper"))(babelHelpers.assertThisInitialized(e));C&&e.$VideoPlayerController20.setAccessToken(C);e.$VideoPlayerController20.setLivingRoomSessionID(W);e.$VideoPlayerController20.setLinearChannelID(X);e.$VideoPlayerController45==="progressive"?e.$VideoPlayerController108=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:e.isLiveVideo()?e.$VideoPlayerController108=b("VideoPlayerExperiments").liveBufferingErrorTimeout:e.$VideoPlayerController108=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&e.$VideoPlayerController131();e.$VideoPlayerController37=e.$VideoPlayerController5.getIsFacecastAudioFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController87=!!B;e.$VideoPlayerController100=new Set();e.$VideoPlayerController101=U;e.$VideoPlayerController102=null;e.$VideoPlayerController103=!!V;e.$VideoPlayerController104=!!aa;e.$VideoPlayerController105=e.getContainerNode().style.paddingBottom;e.$VideoPlayerController106=ba;e.$VideoPlayerController107=ca;e.$VideoPlayerController109=!1;e.$VideoPlayerController110=!1;e.$VideoPlayerController86=da;e.$VideoPlayerController23=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(e.getVideoNode(),c))return;e.pause("unloaded");e.destroy()});e.$VideoPlayerController18=0;D=(k||(k=b("URI"))).getRequestURI();u=b("VideoPermalinkURI").parse(D);w=parseFloat(D.getQueryData().t);y=u?u.video_id==e.$VideoPlayerController92:!1;w&&y&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.startTimestamp=w);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(babelHelpers.assertThisInitialized(e)));e.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.seekHandler=function(a){e.isState("playing")?(e.pause(),e.seek(a),e.play("seek_initiated")):e.seek(a)});e.$VideoPlayerController114=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.streamPriorityAdjuster=e.$VideoPlayerController114);e.$VideoPlayerController17=null;e.$VideoPlayerController53=null;e.$VideoPlayerController72=s;e.$VideoPlayerController50=Y?new(b("VideoPlayerLogger"))(s,{device_id:Y}):new(b("VideoPlayerLogger"))(s);e.$VideoPlayerController72==="tahoe"&&e.focusOnContainerNode();e.collectFeedTrackingData();e.$VideoPlayerController50.setScriptPath(b("ScriptPath").getScriptPath());e.$VideoPlayerController50.setFrameCountGetters(function(){return e.$VideoPlayerController93!=null?o(e.$VideoPlayerController93):null},function(){return e.$VideoPlayerController93!=null?p(e.$VideoPlayerController93):null});e.$VideoPlayerController62=b("VideosRenderingInstrumentation").retrieveRenderTime(e.getRootNode());e.$VideoPlayerController61=v()-e.$VideoPlayerController62;A&&(A.subtitleDrawer=e.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));e.$VideoPlayerController73="loading";e.$VideoPlayerController132(!1);if(e.$VideoPlayerController5.isImplementationUnavailable(e.$VideoPlayerController87)){e.$VideoPlayerController133();return babelHelpers.assertThisInitialized(e)}else e.$VideoPlayerController134();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()});e.$VideoPlayerController7=new(b("SubscriptionsHandler"))();e.$VideoPlayerController70&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?e.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return e.$VideoPlayerController135()})):e.$VideoPlayerController135());e.$VideoPlayerController21=0;e.$VideoPlayerController68=!1;e.$VideoPlayerController27=e.$VideoPlayerController136();e.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause("unloaded"),e.destroy()}));if(!e.$VideoPlayerController137()){var $=new Set(["DialogX","PhotoSnowlift","Spotlight"]);b("gkx")("1249530")&&($.add("FacebarTypeahead"),$.add("Jewel"));e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if($.has(c.type)){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController21=this.$VideoPlayerController21+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController21>0){a=this.$VideoPlayerController72==="tahoe"&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController125&&(this.pause("page_visibility_initiated"),this.$VideoPlayerController68=!0)}}}.bind(babelHelpers.assertThisInitialized(e))),b("Arbiter").subscribe("layer_hidden",function(a,c){$.has(c.type)&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController21=Math.max(0,this.$VideoPlayerController21-1):this.$VideoPlayerController21=this.$VideoPlayerController21-1,this.$VideoPlayerController21===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController68&&(this.play("page_visibility_initiated"),this.$VideoPlayerController68=!1)))}.bind(babelHelpers.assertThisInitialized(e))))}e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("share_dialog_closed",function(a,c){if(!c.root)return;if(!e.$VideoPlayerController69)return;b("ViewportTrackingHelper").isDescendantOf(e.$VideoPlayerController69,c.root)&&e.mute()}));b("Run").onLeave(function(){if(e.$VideoPlayerController103||b("VideoPlayerExperiments").persistentWNSEnabled&&e.$VideoPlayerController72==="watch_scroll")return;e.cleanOnLeave()});e.$VideoPlayerController12=K||[];e.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(a.enable,a,[babelHelpers.assertThisInitialized(e)],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(babelHelpers.assertThisInitialized(e)):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)});e.$VideoPlayerController52=1;e.$VideoPlayerController96=!1;e.$VideoPlayerController93&&(e.shouldCalculateViewability()?(e.$VideoPlayerController96=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController115,e.isInstreamAd()&&(e.$VideoPlayerController96=e.$VideoPlayerController96&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController115))):e.$VideoPlayerController96=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);e.$VideoPlayerController96&&e.$VideoPlayerController93&&(e.$VideoPlayerController97=new(b("VideoViewabilityLogging"))(babelHelpers.assertThisInitialized(e),e.$VideoPlayerController93,e.$VideoPlayerController69,e.$VideoPlayerController15));e.$VideoPlayerController32=!1;e.$VideoPlayerController34=ia;e.isLiveVideo()&&(e.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(e.getVideoID(),function(a){var b=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(b){case"block":if(e.$VideoPlayerController34)break;e.emit("blockVideo");e.destroy();break;case"mute":e.emit("blockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!0;e.$VideoPlayerController34||e.mute();break;case"unmute":e.emit("unblockAudio",e.$VideoPlayerController34);e.$VideoPlayerController32=!1;e.$VideoPlayerController34||e.unmute();break}e.$VideoPlayerController138(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}));e.$VideoPlayerController139();return e}var d=c.prototype;d.$VideoPlayerController139=function(){var a="v:"+this.$VideoPlayerController31;this.addListener("beginPlayback",function(){b("WebSessionExtender").subscribe(a,"video-on-blue")});this.addListener("pausePlayback",function(){b("WebSessionExtender").unsubscribe(a)});this.addListener("finishPlayback",function(){b("WebSessionExtender").unsubscribe(a)})};d.setVideoPriorityAdjustment=function(a){this.$VideoPlayerController114.notifyAdjustment(a)};d.addListener=function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.addListener).call.apply(b,[this].concat(d));d[0]==="visibilityChanged"&&this.$VideoPlayerController131();return f};d.$VideoPlayerController131=function(){var a=this;if(this.$VideoPlayerController111)return;this.$VideoPlayerController93||i(0,3694);this.$VideoPlayerController111=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController93);this.$VideoPlayerController111.addListener("visibilityChanged",function(b){return a.emit("visibilityChanged",b)})};d.setAutoScrollIntoView=function(a){this.$VideoPlayerController22=!a};d.setDetectionID=function(a){this.$VideoPlayerController119=a};d.destroy=function(a){a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController36)return;this.$VideoPlayerController36=!0;this.$VideoPlayerController111&&(this.$VideoPlayerController111.destroy(),this.$VideoPlayerController111=null);var c=this.$VideoPlayerController12||[];for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?(l||(l=b("ErrorUtils"))).applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController88&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.$VideoPlayerController50.stopCollectingVideoFramesInfo();this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController23&&(this.$VideoPlayerController23.unsubscribe(),this.$VideoPlayerController23=null);this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};d.collectFeedTrackingData=function(){if(this.$VideoPlayerController85){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController85.length;d++){var e=JSON.parse(this.$VideoPlayerController85[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController50.setFTData(e)};d.setStillFrameEnabled=function(a){var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};d.isFallbackRecoverable=function(){return!!this.$VideoPlayerController82};d.setFallbackSources=function(a){this.$VideoPlayerController82=a};d.setRelativeSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalFieldOfView=function(a){this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};d.isSpherical=function(){return this.$VideoPlayerController38};d.getVideoPlayerID=function(){return this.$VideoPlayerController31};d.focusOnContainerNode=function(){this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};d.setLogEntryPropertyGetters=function(a){var b=this;Object.keys(a).forEach(function(c){var d=a[c];typeof d==="function"?b.$VideoPlayerController25.set(c,d):b.$VideoPlayerController83[c]=d})};d.removeLogEntryPropertyGetters=function(a){var b=this;typeof a==="string"&&(a=[a]);Array.isArray(a)||(a=Object.keys(a));a.forEach(function(a){b.$VideoPlayerController25["delete"](a),delete b.$VideoPlayerController83[a]})};d.$VideoPlayerController134=function(){var a=this;this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.onApiReady()})};d.isImplementationUnavailable=function(){return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController87)&&!this.$VideoPlayerController87};d.getIsInChannel=function(){return this.$VideoPlayerController72==="channel"};d.updateSource=function(a){if(!this.$VideoPlayerController72)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController72],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController50.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController130(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController98&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState("playing")&&!this.$VideoPlayerController39?(this.logEvent("player_format_changed"),this.$VideoPlayerController47=d):this.$VideoPlayerController47=c:this.logEvent("player_format_changed"));this.$VideoPlayerController72=a};d.getSource=function(){return this.$VideoPlayerController50.getSource()};d.getPlayerOrigin=function(){return this.$VideoPlayerController56};d.getPlayerSuborigin=function(){return this.$VideoPlayerController57};d.getUpstreamPlayerSource=function(){return this.$VideoPlayerController86};d.hasLooped=function(){return this.$VideoPlayerController52>1};d.$VideoPlayerController133=function(){var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent("error",a);this.$VideoPlayerController70=!1};d.logError=function(a){a=this.$VideoPlayerController46=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,error_domain:c,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};f===410||f==="410"||(this.$VideoPlayerController49=this.logEvent("error",a));this.$VideoPlayerController38&&Math.random()<.01&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController55&&this.$VideoPlayerController132(!1)};d.setRotation=function(a){this.getVideoAPI().setRotation(a)};d.setDimensions=function(a,c){var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController63={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController39||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};d.isPlayRequestPending=function(){return this.$VideoPlayerController55};d.$VideoPlayerController132=function(a){if(this.$VideoPlayerController55===a)return;this.$VideoPlayerController55=a;this.emit("pendingPlayRequestChanged")};d.updateAutoplayRestrained=function(){var a=this;b("ifRequired")("VideoPlayerHTML5Shaka",function(b){b=b.isAutoplayBandwidthRestrained(a.$VideoPlayerController42);a.$VideoPlayerController140(b)})};d.$VideoPlayerController140=function(a){a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};d.getDataInsertionPosition=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-insertion-position")};d.getDataFt=function(){return this.$VideoPlayerController27&&this.$VideoPlayerController27.getAttribute("data-ft")};d.play=function(a){var c=this,d=null;a instanceof b("VideoPlayerReasonTransitionHelper")?d=a.getReason():d=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&d==="user_initiated"&&!this.$VideoPlayerController22&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var e=this.getDOMPosition(),f=e.y>=0;e=e.y+e.height<=b("getViewportDimensions")().height;!f?a.scrollIntoView(!0):e||a.scrollIntoView(!1)}this.$VideoPlayerController141();this.$VideoPlayerController54||(this.$VideoPlayerController54=d);this.$VideoPlayerController112=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController112&&this.$VideoPlayerController112.shouldPlayPreRollAds(d)){this.$VideoPlayerController112.schedulePreRollAds();return}if(!this.$VideoPlayerController55){this.$VideoPlayerController53=this.$VideoPlayerController142();var g=this.$VideoPlayerController143({debug_reason:d});f=this.$VideoPlayerController72;b("VideoPlayerExperiments").delayFormatChangeEvent&&f&&this.$VideoPlayerController98&&this.$VideoPlayerController47&&b("VideoPlayerFormatsMap")[f]!==this.$VideoPlayerController47&&!this.$VideoPlayerController39&&(this.logEvent("player_format_changed"),this.$VideoPlayerController47=b("VideoPlayerFormatsMap")[f]);b("VideoPlayerExperiments").logRequestedPlayingAsync?n(function(){c.logEvent("requested_playing",g)},["started_playing","unpaused"],this.$VideoPlayerController122):this.logEvent("requested_playing",g);this.$VideoPlayerController98=!0}this.$VideoPlayerController144(d);this.emit("playRequested",d);this.sendPlayRequest(d);d==="loop_initiated"&&(this.$VideoPlayerController52++,this.$VideoPlayerController52>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController99=!0))};d.sendPlayRequest=function(a){var c=this;if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController50.endBuffering();return}this.$VideoPlayerController132(!0);this.isState("loading")?this.$VideoPlayerController64={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController51&&(b("VideoPlayerExperiments").logUnmutedAsync?n(function(){c.logEvent("unmuted")},["started_playing","unpaused"],this.$VideoPlayerController122):this.logEvent("unmuted")),this.$VideoPlayerController51=!1,this.$VideoPlayerController145(),this.getVideoAPI().play(a))};d.getOriginalPlayReason=function(){return this.$VideoPlayerController54};d.reset=function(){if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController146();this.$VideoPlayerController88&&this.$VideoPlayerController88.destroy&&this.$VideoPlayerController88.destroy();this.$VideoPlayerController88=null;this.setState("loading");this.$VideoPlayerController134()};d.detachRootNode=function(){var a=this;if(!this.$VideoPlayerController69)return;b("DOM").remove(this.$VideoPlayerController69);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.$VideoPlayerController147()})};d.getVideoAPI=function(){this.$VideoPlayerController88||i(0,3695);return this.$VideoPlayerController88};d.getVideoNodeNullable=function(){return this.$VideoPlayerController93};d.getVideoNode=function(){var a=this.getVideoNodeNullable();return a};d.getRootNodeNullable=function(){return this.$VideoPlayerController69};d.getRootNode=function(){var a=this.getRootNodeNullable();return a};d.getContainerNodeNullable=function(){return this.$VideoPlayerController15};d.getContainerNode=function(){var a=this.getContainerNodeNullable();return a};d.getVideoResolution=function(){var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};d.$VideoPlayerController147=function(){this.setState("ready"),this.$VideoPlayerController51=!this.getVideoAPI().isMuted(),this.$VideoPlayerController84=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController74,this.$VideoPlayerController75,this.$VideoPlayerController76,this.$VideoPlayerController77),this.getVideoAPI().setAutogeneratedCaptionsOptions&&this.getVideoAPI().setAutogeneratedCaptionsOptions(this.$VideoPlayerController78),this.$VideoPlayerController64&&(this.sendPlayRequest(this.$VideoPlayerController64.reason),this.$VideoPlayerController64=null),this.$VideoPlayerController63&&(this.setDimensions(this.$VideoPlayerController63.width,this.$VideoPlayerController63.height),this.$VideoPlayerController63=null),this.$VideoPlayerController65&&(this.getVideoAPI().unmute(),this.$VideoPlayerController65=null)};d.onApiReady=function(){var a=this;this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController31,this.$VideoPlayerController4.customLiveManifestUrlParams=this.$VideoPlayerController19,this.$VideoPlayerController82&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController82),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController56,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController57,this.$VideoPlayerController4.getSource=function(){return a.getSource()},this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController117,this.$VideoPlayerController120&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController120));this.$VideoPlayerController88=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController148();this.getVideoAPI().setup();this.$VideoPlayerController147();var c={is_auto_played:this.isAutoplayable()};this.logEvent("player_loaded",c);this.$VideoPlayerController88&&this.$VideoPlayerController50.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController88.getLocalEstimator()));c=this.getVideoProjection();c&&(this.$VideoPlayerController60=c);this.emit("apiReady")};d.getLocalEstimator=function(){if(this.$VideoPlayerController88)return this.$VideoPlayerController88.getLocalEstimator();else return null};d.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};d.resetPositions=function(){this.$VideoPlayerController18=0};d.getCurrentTimePosition=function(){if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController18=a)}return this.$VideoPlayerController18};d.getBufferEndPosition=function(){if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};d.$VideoPlayerController141=function(){if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};d.$VideoPlayerController149=function(a){this.$VideoPlayerController132(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController18=a);this.setState("playing");this.areHLSActive()&&this.$VideoPlayerController150();this.startHeartbeat();this.$VideoPlayerController20.startUnifiedCVC()};d.$VideoPlayerController151=function(a){var b=a.position;this.$VideoPlayerController120&&this.isState("playing")&&this.$VideoPlayerController120.onUpdateStatus(a);b!==void 0&&(this.$VideoPlayerController18=b);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.$VideoPlayerController152=function(a){return this.$VideoPlayerController100.has(a)};d.runOnceOnApiEventLogged=function(a,b){if(this.$VideoPlayerController152(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};d.$VideoPlayerController153=function(a){var b=a.event;this.$VideoPlayerController100.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};d.$VideoPlayerController154=function(){this.isState("finished")||this.setState("paused"),this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.$VideoPlayerController155=function(a){a=a.position;a!==void 0&&(this.$VideoPlayerController18=a)};d.$VideoPlayerController156=function(){this.setState("finished"),this.$VideoPlayerController68=!1,this.stopHeartbeat(),this.$VideoPlayerController20.stopUnifiedCVC()};d.getVolume=function(){return this.getVideoAPI().getVolume()};d.$VideoPlayerController157=function(){this.$VideoPlayerController40=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController105);!c&&this.$VideoPlayerController28&&(this.$VideoPlayerController28.unsubscribe(),this.$VideoPlayerController28=null);if(this.$VideoPlayerController39!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController130(c,this.$VideoPlayerController72)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController39=c};d.$VideoPlayerController130=function(a,c){return a?"full_screen":c?b("VideoPlayerFormatsMap")[c]:"inline"};d.logFullscreenChanged=function(a){var c={player_format:this.$VideoPlayerController130(a,this.$VideoPlayerController72)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?"entered_fs":"exited_fs",c):this.logEvent(a?"entered_fs":"exited_fs")};d.setVideoPlayerAPIDimensions=function(a,b){this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};d.removeOffsetStylings=function(){var a=this.$VideoPlayerController107;if(a===null||a===void 0)return;this.$VideoPlayerController106===1?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController106===0&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};d.addOffsetStylings=function(){var a=this.$VideoPlayerController107;if(a===null||a===void 0)return;this.$VideoPlayerController106===1?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController106===0&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};d.hasDialog=function(){return this.$VideoPlayerController21>0};d.isTahoe=function(){return this.$VideoPlayerController72==="tahoe"};d.isFullscreen=function(){return this.$VideoPlayerController40||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};d.toggleFullscreen=function(){var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController40=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController28=b("FullScreen").subscribe("changed",this.$VideoPlayerController157.bind(this)))};d.instreamVideoStart=function(){b("CSS").addClass(this.getContainerNode(),"_24pm")};d.instreamVideoEnd=function(){b("CSS").removeClass(this.getContainerNode(),"_24pm")};d.unmute=function(){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController84&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController158()):this.$VideoPlayerController65=!0};d.isAudioBlocked=function(){return this.$VideoPlayerController32};d.isMuted=function(){return this.$VideoPlayerController88?this.getVideoAPI().isMuted():this.$VideoPlayerController79};d.mute=function(){this.$VideoPlayerController84&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController158(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};d.getMediaID=function(){return this.getVideoID()};d.getPlaybackDuration=function(){return this.getVideoAPI().getPlaybackDuration()};d.getPlayerFormat=function(){return this.$VideoPlayerController130(this.isFullscreen(),this.$VideoPlayerController72)};d.getVideoID=function(){return this.$VideoPlayerController92};d.getVideoChannelID=function(){return this.$VideoPlayerController89};d.getVideoListID=function(){return this.$VideoPlayerController90};d.getVideoURL=function(){return this.$VideoPlayerController95};d.$VideoPlayerController148=function(){var a=this,c=this.getVideoAPI(),d=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=d;var e={buffered:function(){return a.setBuffering(!1)},buffering:function(){return a.setBuffering(!0)},bufferingProgress:function(b){return a.$VideoPlayerController159(b)},streamInterrupted:function(){return a.$VideoPlayerController50.startInterrupt()},streamResumed:function(){return a.$VideoPlayerController50.endInterrupt()},beginPlayback:function(b){return a.$VideoPlayerController149(b)},updateStatus:function(b){return a.$VideoPlayerController151(b)},logEvent:function(b){return a.$VideoPlayerController153(b.logData)},pausePlayback:function(){return a.$VideoPlayerController154()},seekEnd:function(b){return a.$VideoPlayerController155(b)},clickForTracking:function(){return b("logVideosClickTracking")(a.getVideoNode())},error:function(b){return a.logError(b)},finishPlayback:function(){return a.$VideoPlayerController156()},networkInterrupted:function(){return a.$VideoPlayerController160()},networkResumed:function(){return a.$VideoPlayerController161()},replicaSwitch:function(b){return a.switchReplicaSet(b)}};d.addSubscriptions.apply(d,Object.keys(e).map(function(a){return c.addListener(a,e[a])}));d.addSubscriptions.apply(d,b("VideoPlayerApiEvents").map(function(d){return b("forwardEvent")(c,a,d)}))};d.$VideoPlayerController146=function(){this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};d.seek=function(a,b){this.emit("seekRequested",a,b),this.getVideoAPI().seek(a)};d.pause=function(a){this.isState("loading")?this.$VideoPlayerController64=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController55&&this.getVideoAPI().pause(a),this.$VideoPlayerController132(!1),this.$VideoPlayerController68=!1,this.$VideoPlayerController162(a),this.emit("pauseRequested",a)};d.stopHeartbeat=function(){b("clearInterval")(this.$VideoPlayerController30),this.$VideoPlayerController30=null,this.$VideoPlayerController20.stopUnifiedCVC()};d.startHeartbeat=function(){if(this.$VideoPlayerController30||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController30=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};d.isPlayerVersion=function(a){return this.getPlayerVersion()===a||this.$VideoPlayerController104&&this.$VideoPlayerController163(a)===this.getPlayerVersion()};d.isHtml5Player=function(){return this.isPlayerVersion("pleasantville")||this.isPlayerVersion("oz")};d.isAutoplayable=function(){return this.$VideoPlayerController70};d.getImmediatePlayReason=function(){return this.$VideoPlayerController71};d.$VideoPlayerController164=function(){return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};d.$VideoPlayerController135=function(){var a=this;if(b("Visibility").isHidden()){var c=b("Visibility").once(b("Visibility").VISIBLE,function(){return a.$VideoPlayerController135()});b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(c)}else{if(!this.$VideoPlayerController164()&&this.$VideoPlayerController71!=="watch_time_not_logged"){b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath());if(this.$VideoPlayerController14.getBool("block_immediateplay_on_hidden_videos",!1))return}this.play("autoplay_initiated")}};d.isBuffering=function(){return this.$VideoPlayerController35};d.$VideoPlayerController165=function(){var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController113=this.$VideoPlayerController113.filter(function(b){return b.time+3>a});this.$VideoPlayerController113.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController113.push({time:a,count:1})};d.$VideoPlayerController166=function(){var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController113.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};d.$VideoPlayerController159=function(a){this.emit("bufferingProgress",a)};d.setBuffering=function(a){if(a!==this.$VideoPlayerController35){this.$VideoPlayerController35=a;if(this.$VideoPlayerController35){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController165();if(this.$VideoPlayerController166()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController50.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController108&&(this.$VideoPlayerController167(),this.$VideoPlayerController102=b("setTimeout")(this.$VideoPlayerController168,this.$VideoPlayerController108));this.$VideoPlayerController169()}else this.$VideoPlayerController50.endBuffering(),this.$VideoPlayerController167(),this.isState("paused")&&this.$VideoPlayerController170();this.emit("bufferingChanged")}};d.setVideoStreamOffset=function(a){var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};d.$VideoPlayerController167=function(){this.$VideoPlayerController102&&(b("clearTimeout")(this.$VideoPlayerController102),this.$VideoPlayerController102=null)};d.$VideoPlayerController170=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController110&&this.play("network_resumed")};d.$VideoPlayerController169=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController35&&this.$VideoPlayerController109&&this.isState("playing")&&this.pause("network_interrupted")};d.$VideoPlayerController144=function(a){this.$VideoPlayerController110=!1};d.$VideoPlayerController162=function(a){a==="network_interrupted"?this.$VideoPlayerController110=!0:this.$VideoPlayerController110=!1};d.$VideoPlayerController160=function(){this.$VideoPlayerController109=!0,this.$VideoPlayerController169()};d.$VideoPlayerController161=function(){this.$VideoPlayerController109=!1,this.$VideoPlayerController170()};d.isLiveVideo=function(){return this.$VideoPlayerController42};d.isGaming=function(){return this.$VideoPlayerController43};d.isVideo=function(){return!0};d.isBroadcast=function(){return!!this.$VideoPlayerController33};d.isInline=function(){return!!this.$VideoPlayerController72&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController72]==="inline"&&!this.isFullscreen()};d.isFacecastAudio=function(){return this.$VideoPlayerController37};d.isStreamInterrupted=function(){var a=this.$VideoPlayerController88;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};d.setVolume=function(a){if(!this.$VideoPlayerController34&&this.$VideoPlayerController32)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};d.getDOMPosition=function(){var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};d.clickVideo=function(){this.emit("clickVideo"),this.$VideoPlayerController29=!0};d.mouseMove=function(a){this.emit("mouseMove",a)};d.mouseUp=function(a){this.emit("mouseUp",a)};d.mouseLeave=function(a){this.emit("mouseLeave",a)};d.hasSeenClick=function(){return!!this.$VideoPlayerController29};d.isAd=function(){return!!this.$VideoPlayerController2};d.shouldCalculateViewability=function(){if(this.isAd())return!0;var a=this.$VideoPlayerController50.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};d.isInstreamAd=function(){return!!this.$VideoPlayerController41};d.getAdClientToken=function(){return this.$VideoPlayerController2};d.getLastScrollDirection=function(){return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};d.$VideoPlayerController171=function(){var a=this,c=null,d=null,e=!1,f=null,g=null,h=null,i=null,j=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());c=this.getVideoAPI().getEstimatedBandwidth();d=this.getVideoAPI().getAvailableVideoQualities().length;e=this.getVideoAPI().getIsAbrEnabled();f=this.getPlaybackDuration();j=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var k=this.getVideoAPI().getDimensionsForDevice();h=k&&k.height;g=k&&k.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(i=b("VideoPlayerConnectionQuality").evaluate(function(){return a.getVideoAPI().getEstimatedBandwidth()}))}var l=babelHelpers["extends"]({},this.$VideoPlayerController83);this.$VideoPlayerController25.forEach(function(b,c){l[c]=b(c,a)});k={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(k.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var m=this.isLiveVideo()&&!!t&&t.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:d,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController101,projection:this.$VideoPlayerController60,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController73,player_origin:this.$VideoPlayerController56,player_suborigin:this.$VideoPlayerController57,player_suborigin_derived:this.$VideoPlayerController58,playback_is_broadcast:this.$VideoPlayerController33,player_instance_key:this.$VideoPlayerController117,playback_duration:f,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController88?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController44,playback_is_live_streaming:this.$VideoPlayerController42,playback_is_drm:this.isDrm(),is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_predictive_playback:this.ispDASH(),is_live_video_rewound:m,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController89,video_list_id:this.$VideoPlayerController90,fb_manifest_identifier:this.getFbManifestIdentifier(),reaction_video_channel_type:this.$VideoPlayerController66,reaction_video_channel_subtype:this.$VideoPlayerController67,fbcdn_pop:this.$VideoPlayerController53,representation_id:this.$VideoPlayerController17,audio_representation_id:j,video_bandwidth:c,video_player_height:h,video_player_width:g,data_connection_quality:i,is_abr_enabled:e,position_in_unit:this.$VideoPlayerController118,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController86,should_log_video_viewability:this.$VideoPlayerController115,living_room_session_id:this.$VideoPlayerController116,detectionID:this.$VideoPlayerController119,is_ads_preview:this.$VideoPlayerController123,is_injected_ads:this.$VideoPlayerController124,is_chained_living_room:this.$VideoPlayerController126,is_replay_living_room:this.$VideoPlayerController128,live_linear_channel_id:this.$VideoPlayerController127},this.$VideoPlayerController91,this.$VideoPlayerController9,l,k,{iframe_embed_referrer:this.$VideoPlayerController129})};d.$VideoPlayerController142=function(){var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};d.getVideoInfo_DEPRECATED=function(){return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};d.getDebugInfo=function(){var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController61,initializationTimestamp:this.$VideoPlayerController62,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController50.getCumulativeStallCount(),stallTime:this.$VideoPlayerController50.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController50.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController50.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController50.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController50.getCumulativeInterruptTime(),state:this.$VideoPlayerController73,canPlayType:(m||(m=b("mapObject")))(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController49,lastError:this.$VideoPlayerController46,droppedFrames:!!this.$VideoPlayerController88&&this.$VideoPlayerController88.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController88&&this.$VideoPlayerController88.getTotalFrames(),videoSource:!!this.$VideoPlayerController88&&this.$VideoPlayerController88.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController97&&!(b("VideoPlayerExperiments").organicViewabilityLoggingNoOrganicLogging&&!this.isAd())&&this.$VideoPlayerController97.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController88&&this.$VideoPlayerController88.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController60,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};d.getLastError=function(){return this.$VideoPlayerController46};d.isAkamai=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};d.getLoggedError=function(){return this.$VideoPlayerController49};d.getTotalFrames=function(){return this.$VideoPlayerController88?this.$VideoPlayerController88.getTotalFrames():0};d.getDroppedFrames=function(){return this.$VideoPlayerController88?this.$VideoPlayerController88.getDroppedFrames():0};d.getInterruptCount=function(){return this.$VideoPlayerController50.getCumulativeInterruptCount()};d.getInterruptTime=function(){return this.$VideoPlayerController50.getCumulativeInterruptTime()};d.getVideoStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.getAudioStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};d.getVideoTracks=function(){return this.getVideoAPI().getVideoTracksDebug()};d.getAudioDashFormat=function(){return this.getVideoAPI().getDashAudioConfigurationDebug()};d.getCumulativeStallCount=function(){return this.$VideoPlayerController50.getCumulativeStallCount()};d.getCumulativeStallTime=function(){return this.$VideoPlayerController50.getCumulativeStallTime()};d.getStallCount=function(){return this.$VideoPlayerController50.getStallCount()};d.getStreamType=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};d.hasSubtitles=function(){return this.getVideoAPI().hasSubtitles()};d.getVideoState=function(){return this.$VideoPlayerController73};d.areSubtitlesActive=function(){return this.getVideoAPI().areSubtitlesActive()};d.areSubtitlesAutogenerated=function(){return this.getVideoAPI().areSubtitlesAutogenerated()};d.areHLSActive=function(){return this.getVideoAPI().areHLSActive()};d.toggleSubtitles=function(){this.$VideoPlayerController158(),this.logEvent("caption_change"),this.$VideoPlayerController84=!1};d.$VideoPlayerController158=function(){this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController145()};d.$VideoPlayerController145=function(){this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};d.isHD=function(){return s(this.getAvailableVideoQualities(),this.getSelectedVideoQuality())};d.hasHD=function(){var a=q(this.getAvailableVideoQualities());return a!=null};d.toggleHD=function(){var a=r(this.getAvailableVideoQualities(),this.getSelectedVideoQuality());a!=null&&this.setPreferredVideoQuality(a)};d.setPreferredVideoQuality=function(a){this.getVideoAPI().setPreferredVideoQuality(a)};d.unsetPreferredVideoQuality=function(){this.getVideoAPI().unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){var a;return(a=this.getVideoAPI().getPreferredVideoQuality())!=null?a:null};d.getSelectedVideoQuality=function(){var a;return(a=this.getVideoAPI().getSelectedVideoQuality())!=null?a:null};d.getAvailableVideoQualities=function(){return this.getVideoAPI().getAvailableVideoQualities()};d.getVideoProjection=function(){return this.getVideoAPI().getVideoProjection()};d.canAutoSelectVideoQuality=function(){return this.getVideoAPI().canAutoSelectVideoQuality()};d.switchToStreamType=function(a){this.getVideoAPI().switchToStreamType(a)};d.$VideoPlayerController150=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",u).setString("source",this.$VideoPlayerController72).getURI().toString())};d.$VideoPlayerController143=function(a){var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};d.$VideoPlayerController172=function(){var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};d.logEvent=function(a,c){if(a==="displayed"&&b("gkx")("1218754"))return void 0;if(a==="player_loaded"&&b("gkx")("1218755"))return void 0;this.$VideoPlayerController48++;if(this.$VideoPlayerController99)return void 0;this.$VideoPlayerController122.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController48>d&&(this.$VideoPlayerController99=!0);d=++this.$VideoPlayerController26;c=Object.assign(this.$VideoPlayerController171(),c);var e=this.getOriginalPlayReason();e&&a!=="displayed"&&(c.video_play_reason=e);a==="finished_playing"&&(c.viewport_distance=this.$VideoPlayerController172());(a==="muted"||a==="unmuted"||a==="started_playing"||a==="caption_change"||a==="unpaused")&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController96&&!(b("VideoPlayerExperiments").organicViewabilityLoggingNoOrganicLogging&&!this.isAd())&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController97.getViewability(),this.$VideoPlayerController97.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController80.has(a)&&(b("VideoPlayerExperiments").logSBLVpts&&(c.vpts=(j||(j=b("performanceAbsoluteNow")))()),c.seq_num=++this.$VideoPlayerController81):c.seq_num=d;a==="played_for_three_seconds"&&(c.detection_id=this.$VideoPlayerController119,this.emit("videoView/runFraudDetector"));if(a==="requested_playing"&&this.$VideoPlayerController120){e=this.$VideoPlayerController120.getLiveTraceContext();c.live_trace_stream_id=e.streamId;c.live_trace_stream_type=e.streamType;c.live_trace_source_id=e.sourceId}d=b("SRTVideoData").getInstance();d!=null&&d.getJobID()&&(c.srt_job_id=d.getJobID(),c.srt_job_tracking_id=d.getJobTrackingID());e=this.$VideoPlayerController50.logEvent(a,c);this.emit("debug/vpcLogEvent",e);return e};d.getState=function(){return this.$VideoPlayerController73};d.getStreamingFormat=function(){var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController45};d.setPlaybackRate=function(a){this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};d.getPlaybackRate=function(){return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};d.setState=function(a){if(this.isState("destroyed")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.$VideoPlayerController73=a;this.$VideoPlayerController73==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController146());this.emit("stateChange")};d.isState=function(a){return this.$VideoPlayerController73===a};d.isIntentionallyViewing=function(){return this.isState("playing")&&!this.isMuted()};d.abortLoading=function(a){if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController42)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat();this.$VideoPlayerController20.stopUnifiedCVC()};d.preload=function(){if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};d.getPlayerVersion=function(){var a;this.$VideoPlayerController88&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController59;return this.$VideoPlayerController104?this.$VideoPlayerController163(b):b};d.$VideoPlayerController163=function(a){switch(a){case"silvercity":return"react_silvercity";case"pleasantville":return"react_pleasantville";case"oz":return"react_oz";default:return"react"}};d.registerOption=function(a,b,c,d){var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};d.unregisterOption=function(a,b){var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};d.getComponents=function(){return this.$VideoPlayerController13.keys()};d.getOptions=function(a){a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};d.hasOption=function(a,b){a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};d.getOption=function(a,b){a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};d.setOption=function(a,b,c){a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};d.showDebugOverlayView=function(a){this.emit("showDebugOverlay",a)};d.$VideoPlayerController136=function(){var a=b("DOMQuery").scry(this.$VideoPlayerController69,"^._5pat");return a.length?a[0]:null};d.registerDrawer=function(a,b){return this.$VideoPlayerController24.register(a,b)};d.getVideoPath=function(){return this.$VideoPlayerController94};d.setAllowCrossPageTransition=function(a){this.$VideoPlayerController103=a};d.cleanOnLeave=function(){this.pause("unloaded"),this.destroy()};d.switchReplicaSet=function(a){var b=this.isState("playing");this.getVideoAPI().switchReplicaSet(a.replica,{url:a.url,status:a.status,timestamp:a.timestamp});b&&this.play("autoplay_initiated")};d.switchToFullVideo=function(){var a=this;this.pause("unloaded");this.getVideoAPI().reloadDashManifest().done(function(){a.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")),a.emit("switchedToFullVideo")})};d.$VideoPlayerController137=function(){return this.getIsInChannel()||this.$VideoPlayerController72==="living_room"||this.$VideoPlayerController72==="topic_channel_living_room"||this.$VideoPlayerController56==="intern_curation"||this.$VideoPlayerController56==="games_video_hub"};d.getDashAudioConfiguration=function(){return this.getVideoAPI().getDashAudioConfiguration()};d.setEnableLiveheadCatchup=function(a){var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};d.isFBIsLiveTemplated=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};d.getFbManifestIdentifier=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return a?a.getFbManifestIdentifier():""};d.isDrm=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return a&&a.isDrm()};d.isFBMS=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return!!(a&&a.isFBMS())};d.ispDASH=function(){var a=this.$VideoPlayerController88&&this.getVideoAPI();return!!(a&&a.ispDASH())};d.isLiveheadCatchupEnabled=function(){var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};d.getBandwidthEstimate=function(){var a=this.getVideoAPI();return a?a.getBandwidthEstimate():null};d.getSeekableRanges=function(){var a=this.getVideoAPI();return a?a.getSeekableRanges():null};d.isBroadcaster=function(){return this.$VideoPlayerController34||!1};d.isWatchAndScroll=function(){return this.$VideoPlayerController72==="watch_scroll"};d.$VideoPlayerController138=function(a,c){var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController92+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController92,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};return c}(b("MediaController"));e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g,h=window.__fbNativeSetTimeout,i=a.__fbNativeClearTimeout,j=window.requestIdleCallback,k=window.cancelIdleCallback,l=function(a){var b=function b(){a(b)};return b},m=function(a,b){var c=function c(){a(c,b)};return c},n=function(a,b){var c=function c(){a(c,b)};return c};c=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(g||(g=b("performanceNow")))()-Number(this.$2):null};c.$8=function(){this.$2=b("Visibility").isHidden()?null:(g||(g=b("performanceNow")))()};c.$9=function(){this.$2=null,typeof this.$4==="number"&&(k(this.$4),this.$4=null),typeof this.$3==="number"&&(i(this.$3),this.$3=null)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$10():this.$11()};c.$6=function(){var a=this,c;(c=b("Visibility")).addListener(c.VISIBLE,function(){a.$9(),a.$7()});c.addListener(c.HIDDEN,function(){a.$9()})};c.$10=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$8(),a.$3=h(b,c)};h(d,c)}};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$8(),a.$4=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$5=function(){return b("Visibility").isSupported()&&typeof j==="function"&&typeof k==="function"&&typeof h==="function"&&typeof i==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=l(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=m(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=l(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof j==="function"&&(a=m(j,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof h==="function"&&(a=n(h,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c){var d=this;this.$3=new(b("SubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return d.$5()}),b("EventListener").listen(this.$1,"pause",function(){return d.$6()}))}var c=a.prototype;c.playStarted=function(){(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};c.$6=function(){this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};c.$5=function(){this.$4&&(this.$4.log(),this.$4=null)};c.unload=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["isFBIsLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}]])}e.exports={createOzCustomParser:a}}),null);
__d("OzCustomRepresentationParsers",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){function a(a){var c=a.ozConfig,d=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};var e=c.getNumber("mos_upper_threshold",0),f=c.getNumber("mos_lower_threshold",0);e>f&&(a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}});a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};c.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(d!=null&&d>0)return null;try{var c=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),e={startByte:c[0],endByte:c[1]},f=new(b("oz-player/shims/OzURI"))(a.BaseURL[0]._);return{getURI:function(){return f},getByteRange:function(){return e},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null}}}catch(a){return null}});return a}e.exports={createOzCustomRepresentationParsers:a}}),null);
__d("OzDOMEventListenerImpl",["requireCond","cr:1351686"],(function(a,b,c,d,e,f){"use strict";a={listenDOMEvent:b("cr:1351686").listen,captureDOMEvent:b("cr:1351686").capture,suppressDOMEvent:b("cr:1351686").suppress};e.exports=a}),null);
__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.hasCacheValue=function(a){return b("VideoDashPrefetchCache").hasCacheValue(a)};c.getCacheValue=function(a){return b("VideoDashPrefetchCache").getCacheValue(a)};c.getCachedRepresentations=function(a){return null};return a}();e.exports=a}),null);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$1=a,this.$2=b,this.$3=c}var c=a.prototype;c.$5=function(a,c){var d=null;if(this.$4.get(a))d=this.$4.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(d=b("MosUtils").parsePlaybackMos(String(e)),d&&this.$4.set(a,d))}return d!=null?b("MosUtils").getMosValue(d,b("MosUtils").getQualityLabel(c.width,c.height)):null};c.$6=function(a,b){var c=this,d=a.some(function(a){a=c.$5(a,b);return a!=null?a>c.$2&&a<c.$1:!1});return!d?a:a.filter(function(a){a=c.$5(a,b);return a!=null?a<=c.$1:!0})};c.$7=function(a,b){var c=this,d=null;a.forEach(function(a){a=c.$5(a,b);a!=null&&a>c.$1&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$5(a,b);return a==null?!0:a<=c.$1||a===d})};c.applyRestriction=function(a,b){return a.length===0?[]:this.$3?this.$7(a,b):this.$6(a,b)};return a}();e.exports=a}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a={getBool:function(a,b){return g?g.getBool(a,b):b},getNumber:function(a,b){return g?g.getNumber(a,b):b},getString:function(a,b){return g?g.getString(a,b):b},setGlobalConfig:function(a){g=a}};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverage:i,getExponentiallyWeightedMovingAverageOfBandwidth:j,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:k}}),null);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzTransformStream3=function(a){return a};c=c||{};c=c.errorTransform;(c===void 0||c===null)&&(c=d.$OzTransformStream3);var e=c||d.$OzTransformStream3;d.writable=new(b("oz-player/shims/OzWritableStream"))({start:function(a){d.$OzTransformStream2=a},write:function(a){d.emit("writableWrite",a);try{d.onDataWritten(a)}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+d.constructor.name,extra:{originalError:a}}))}d.$OzTransformStream1.enqueue(a)},close:function(){d.emit("writableClose");try{d.onClose()}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+d.constructor.name,extra:{originalError:a}}))}d.$OzTransformStream1.close()},abort:function(a){a=e(a);d.$OzTransformStream1.error(a)}});d.readable=new(b("oz-player/shims/OzReadableStream"))({start:function(a){d.$OzTransformStream1=a},cancel:function(a){d.emit("readableCancel",a),d.$OzTransformStream2.error(a)}});return d}var d=c.prototype;d.onDataWritten=function(a){};d.onClose=function(){};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/shims/ozGetResponseTimeMs","oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/ozGetResponseTimeMs").getResponseTimeMs,h=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry;a=function(){function a(a){this.$10=Date.now();this.$11=0;this.$12=0;this.$13=function(){};this.$14=function(){};this.$15=new(b("oz-player/networks/OzTransformStream"))();var c=a.stream,d=a.loggerProvider,e=a.byteCountPerSample,f=a.minimumBytesToSampleOnClose,g=a.minimumSampleDuration,h=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose,j=a.useResponseTimeMs,k=a.responseTimeHandicapMs,l=a.ignoreTimeToResponseStart;a=a.ignoreOnStreamWriteSamples;this.$1=c;this.$16=d;this.$2=e;this.$3=f;this.$4=g;this.$5=h;this.$6=i;this.$7=j;this.$8=k;this.$9=l;this.$17=a;this.$15.addListener("writableWrite",this.$18.bind(this));this.$15.addListener("writableClose",this.$19.bind(this))}var c=a.prototype;c.getTransformStream=function(){return this.$15};c.onBandwidthSample=function(a){this.$13=a};c.onTimeToFirstByteMsSample=function(a){this.$14=a};c.$20=function(a,b,c){if(this.$16){var d=Date.now();this.$16&&this.$16.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(d).setClientTimeBegin(d-b).log()}this.$13(a,b-c)};c.$18=function(a){a.length!=void 0&&(this.$12+=a.length);if(this.$17)return;this.$21()};c.$19=function(){var a=Date.now()-this.$10,b=this.$1.getLastRequestUrl();b=b!=null?h(b):null;b&&this.$14(b.responseStart-b.requestStart);if(this.$3>0&&a>0&&this.$11===0&&this.$12>=this.$3){if(this.$6&&b&&b.responseEnd&&b.startTime){b=this.$9?b.responseEnd-b.responseStart:b.responseEnd-b.startTime;a=b>0?b:a}b=this.$1.getLastResponse();b=this.$7?g(b==null?void 0:b.headers)||0:0;this.$22(a,b)||this.$20(this.$12,a,Math.max(b-this.$8,0))}};c.$22=function(a,b){if(a-b<=0)return!0;b=this.$12*8/(a/1e3);return a<this.$4&&b>this.$5};c.$21=function(){var a=Date.now(),b=a-this.$10;this.$2>0&&this.$12>=this.$11+this.$2&&!this.$22(b,0)&&(this.$20(this.$12-this.$11,b,0),this.$10=a,this.$11=this.$12)};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=new Map(),i=2,j=2,k=6e4;function a(a){var c=g.get(a);if(!c){c=new(b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(i,j);var d=new(b("oz-player/scheduling/OzSequentialTaskScheduler"))(c,{taskTimeout:k});g.set(a,c);h.set(a,d);d.start()}return c}e.exports={getQueue:a,OZ_QUEUE_MAX_PRIORITY:i}}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzBandwidthCache","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("oz-player/networks/OzBandwidthUtils")).getBandwidthEstimate,h=a.getExponentiallyWeightedMovingAverage,i=a.getExponentiallyWeightedMovingAverageOfBandwidth,j=a.getStandardDeviationOfBandwidth,k=.9,l=5e5,m=2e4;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$OzBandwidthEstimator1=[];c.$OzBandwidthEstimator2=[];c.$OzBandwidthEstimator3=new(b("oz-player/shims/OzBandwidthCache"))(b("oz-player/configs/OzGlobalConfig").getString("bandwidth_cache_key","bandwidthEstimate"),function(){return c.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))});return c}var d=c.prototype;d.getBandwidth=function(a){var b=g(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};d.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?h(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};d.$OzBandwidthEstimator4=function(a){var b=this.$OzBandwidthEstimator3.getCachedBandwidth();return typeof b==="number"&&b>0?b:a.getNumber("default_bandwidth_estimate",l)};d.getStandardDeviationOfBandwidth=function(){return j(this.$OzBandwidthEstimator1)};d.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};d.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};d.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(k,d*a);return c*(1-d)};d.$OzBandwidthEstimator5=function(a){var b=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};d.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};d.pipeThroughReporter=function(a,c,d){var e=this;return{startStream:function(f){var g=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",m),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1)});g.onBandwidthSample(function(b,c){e.$OzBandwidthEstimator8(b,c),a.getBool("update_bandwidth_cache_on_sample",!1)&&e.$OzBandwidthEstimator3.updateCachedBandwidth()});g.onTimeToFirstByteMsSample(e.$OzBandwidthEstimator9.bind(e));return c.startStream(f).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(g.getTransformStream())})}}};d.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.shift(),this.emit("bandwidth_sampled")};d.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=new c()}),null);
__d("RepomenAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;a=function(){function a(a,b,c,d,e,f,g){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$11=null,this.$1=a,this.$5=b,this.$6=c,this.$7=d,this.$8=e,this.$10=f,this.$12=g}var c=a.prototype;c.setSourceBuffer=function(a){this.$9=a};c.getBestRepresentation=function(){var a=i(this.$9,this.$8),c=h(this.$1,this.$4,a,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!==null&&c!==void 0){this.$11=c;return this.$5}c=Date.now();this.$2=c;var d=this.$10.getDimensions(),e=g(this.$1,this.$6,d,this.$12);e=j(this.$7,d,e);d=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1);var f,k=this.$1.getNumber("bandwidth_abr_ratio",1),l=this.$1.getNumber("bandwidth_abr_bias",0),m=this.$1.getNumber("buffer_abr_ratio",1),n=this.$1.getNumber("buffer_abr_bias",0);k=k*(d/1e6-l)+m*(a-n);for(var d=0;d<e.length;d++)e[d].getBandwidth()/1e6<k&&(f=e[d]);f=f||e[0];this.$5!==f&&(this.$4=!0,this.$3=c,this.$5=f);this.$11="repomen";return f};c.getStreamSegmentsCountStrategy=function(){return null};c.getLastEvaluationReason=function(){return this.$11};return a}();e.exports=a}),null);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d,e,f){return new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:f,extra:{originalError:a,code:c.toString(),headers:d,url:e}})};e.exports=a}),null);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};return a}();e.exports=a}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a={getBool:function(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)},getNumber:function(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)},getString:function(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=b;return a.prototype.setType.call(this,b)};d.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(b){var d;d=a.call(this)||this;d.$VideoPlayerShakaPerformanceLogger12=!1;d.$VideoPlayerShakaPerformanceLogger22=0;d.$VideoPlayerShakaPerformanceLogger23=0;d.$VideoPlayerShakaPerformanceLogger21=b;d.$VideoPlayerShakaPerformanceLogger2=b.videoID;d.$VideoPlayerShakaPerformanceLogger4=b.video;d.$VideoPlayerShakaPerformanceLogger1=b.uniqueID;d.$VideoPlayerShakaPerformanceLogger3=0;d.$VideoPlayerShakaPerformanceLogger10=b.isLive;d.$VideoPlayerShakaPerformanceLogger11=b.isServableViaFbms;d.$VideoPlayerShakaPerformanceLogger8=null;d.$VideoPlayerShakaPerformanceLogger13=b.accessToken;d.$VideoPlayerShakaPerformanceLogger14=b.playerOrigin;d.$VideoPlayerShakaPerformanceLogger15=b.playerSuborigin;d.$VideoPlayerShakaPerformanceLogger16=b.playerVersion;d.$VideoPlayerShakaPerformanceLogger24=b.getBandwidthEstimate;d.setRepresentationID(b.representationId);d.$VideoPlayerShakaPerformanceLogger26=b.isDrm;d.$VideoPlayerShakaPerformanceLogger27={};d.$VideoPlayerShakaPerformanceLogger28=(b=b.playerInstanceCount)!=null?b:null;c.maybeEnableMainThreadAvailabilityLogging();return d}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger29=function(a){var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger12=a};d.$VideoPlayerShakaPerformanceLogger30=function(){return this.$VideoPlayerShakaPerformanceLogger12};d.getEventLogger=function(a){var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration,k=this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger10);this.$VideoPlayerShakaPerformanceLogger29(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(k==null?null:Math.round(k)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger10).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger11).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger30()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setLiveheadSeqNum(this.$VideoPlayerShakaPerformanceLogger9).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger13).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger26).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger28);var l=this,m=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?l.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(l.$VideoPlayerShakaPerformanceLogger6=null);l.$VideoPlayerShakaPerformanceLogger5=a;return m.call(this,a)};f.updateState=function(a){return this.getState()==l.$VideoPlayerShakaPerformanceLogger5?this.setState(a):this};var n=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),n.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),n.call(this,a.type)),this.setCode(a.status||a.errorRawTransportStatus)):n.call(this,a);return this};var o=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger17=a;return o.call(f,a)};return f};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){var c=this,d=this.getEventLogger(a),e=d.setResource;d.setResource=function(a){return e.call(d,a)};var f=d.log,g=this,h=!1,j=null;d.log=function(){if(h)return;b("clearTimeout")(j);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);g.$VideoPlayerShakaPerformanceLogger31(d);g.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());h=!0;d=this.getType();d&&(g.$VideoPlayerShakaPerformanceLogger27[d+a]=(g.$VideoPlayerShakaPerformanceLogger27[d+a]||0)+1,this.setMediastreamEventCount(g.$VideoPlayerShakaPerformanceLogger27[d+a]));return f.call(this)};d.start=function(){j=b("setTimeoutAcrossTransitions")(function(){j=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var k=d.setLiveheadSeqNum;d.setLiveheadSeqNum=function(a){c.$VideoPlayerShakaPerformanceLogger9=a;return k.call(d,a)};var l=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return l.call(d,a)};var m=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger18=a;return m.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger31=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger25=null;e.exports=a}),null);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f){"use strict";var g=720,h=2160;function a(a,c){var d=[];switch(a){case"HD":d.push(new(b("OzMinimumSmallestDimensionRestriction"))(g));break;case"UHD":b("gkx")("1488288")&&d.push(new(b("OzMinimumSmallestDimensionRestriction"))(h));break;default:break}a=c.keepLowestMosAboveUpperThresold;var e=c.mosUpperThreshold;c=c.mosLowerThreshold;e>c&&d.push(new(b("OzMosThresholdRestriction"))(e,c,a));return d}e.exports=a}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};b.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};b.setError=function(a){this.$2=a;return this};b.setResult=function(a){this.$3=a;return this};b.setType=function(a){this.$4=a;return this};b.setClientTimeBegin=function(a){this.$5=a;return this};b.setClientTimeEnd=function(a){this.$6=a;return this};b.setSegmentCount=function(a){this.$13=a;return this};b.setTimeToFirstByte=function(a){this.$7=a;return this};b.setTimeToLastByte=function(a){this.$8=a;return this};b.setTimeToRequestStart=function(a){this.$9=a;return this};b.setTimeToRequestSent=function(a){this.$10=a;return this};b.setReason=function(a){this.$11=a;return this};b.setResource=function(a){this.$12=a;return this};b.setSegmentStartTime=function(a){this.$14=a;return this};b.setSegmentEndTime=function(a){this.$15=a;return this};b.setLength=function(a){this.$16=a;return this};b.setLiveheadPosition=function(a){this.$17=a;return this};b.setLiveheadSeqNum=function(a){this.$18=a;return this};b.setManifestType=function(a){this.$19=a;return this};b.setPriorityFloat=function(a){this.$20=a;return this};b.setAppendedBufferMs=function(a){this.$21=a;return this};b.setInitiator=function(a){this.$22=a;return this};b.setPreloadTime=function(a){this.$23=a;return this};b.setConcluder=function(a){this.$24=a;return this};b.setPreviousRepresentationID=function(a){this.$25=a;return this};b.setRepresentationID=function(a){this.$26=a;return this};b.setStreamSwitchReason=function(a){this.$27=a;return this};b.setState=function(a){this.$28=a;return this};b.setContentLengthHeader=function(a){this.$29=a;return this};b.setOriginHitHeader=function(a){this.$31=a;return this};b.setEdgeHitHeader=function(a){this.$32=a;return this};b.setCode=function(a){this.$30=a;return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$3};b.getType=function(){return this.$4};b.getClientTimeBegin=function(){return this.$5};b.getClientTimeEnd=function(){return this.$6};b.getTimeToRequestStart=function(){return this.$9};b.getTimeToRequestSent=function(){return this.$10};b.getReason=function(){return this.$11};b.getResource=function(){return this.$12};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$14};b.getSegmentEndTime=function(){return this.$15};b.getLength=function(){return this.$16};b.getLiveheadPosition=function(){return this.$17};b.getManifestType=function(){return this.$19};b.getPriorityFloat=function(){return this.$20};b.getAppendedBufferMs=function(){return this.$21};b.getInitiator=function(){return this.$22};b.getPreloadTime=function(){return this.$23};b.getConcluder=function(){return this.$24};b.getContentLengthHeader=function(){return this.$29};b.getOriginHitHeader=function(){return this.$31};b.getEdgeHitHeader=function(){return this.$32};b.getCode=function(){return this.$30};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";function g(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function i(a,b){return Math.floor(a).toString().padStart(b,"0")}function j(a,b){b===void 0&&(b=null);var c=function(a){return i(a.getHours(),2)+":"+i(a.getMinutes(),2)+":"+i(a.getSeconds(),2)+" "+i(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function k(a){return a==="failed"?h:g}function l(a){return!a?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new m(a)};c.createLoggerProvider=function(){return new b()};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));var m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=l(this.getSegmentStartTime()),i=l(this.getSegmentEndTime());k(d)("["+d+"]",this.getOperationName()+": "+j(new Date(a),c),e?"["+e+"]":"",h&&i?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(b("oz-player/loggings/OzOperationLoggerBase"));e.exports={OzDevConsolePerfLoggerProvider:a,OzDevConsoleOperationLogger:m}}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){e(f);f.setError(a);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new g(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNum=function(a){b.prototype.setLiveheadSeqNum.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNum(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setCode(a)});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(b("oz-player/loggings/OzOperationLoggerBase"));e.exports={OzMultiDestinationPerfLoggerProvider:a}}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}var c=a.prototype;c.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var c=a.prototype;c.getID=function(){return this.$6};c.getBandwidth=function(){return this.$5};c.getMimeCodecs=function(){return this.$2};c.getQualityLabel=function(){return this.$6};c.getInitSegment=function(){return this.$3};c.getCustomFieldFirstSegment=function(){return this.$7};c.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller"});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(c.$4)};c.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};c.getSegment=function(a){return this.$4.getSegment(a)};c.getPredictedSegmentAfter=function(a){return this.$4.getPredictedSegmentAfter(a)};c.canPredict=function(){return this.$4.canPredict()};c.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};c.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};c.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};c.getTimeRanges=function(){return this.$4.getTimeRanges()};c.blockTimeRange=function(a){this.$4.blockTimeRange(a)};c.getEndingSegment=function(){return this.$4.getEndingSegment()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.$2=function(a){a=a.split(":")[0];return a||""};return a}();e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/ozClearTimeout","oz-player/shims/OzDeferred","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzReadableStream","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer","oz-player/utils/OzError","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,i=b("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime,j=b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime,k=b("oz-player/shims/ozSetTimeoutAcrossTransitions");a=function(){function a(a,c,d){var e=this;this.$2=null;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$5=!1;this.$6=[];this.$11=function(){e.$2&&e.$2.resolve(),e.$2=null};this.$12=function(){var a=e.$2;a&&(b("oz-player/shims/ozClearTimeout")(e.$10),e.$10=k(function(){e.$10=null;var c=e.$8.getErrorCode(),d=e.$8.getMediaErrorName(),f={};c!==null&&c!==void 0&&(f.code=c.toString());c=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:d!==null&&d!==void 0?d:"Unknown SourceBuffer Append Error",extra:f});a.reject(c);e.$2=null},0))};this.$1=a;this.$9=c;this.$3.addSubscriptions(h(this.$1,"updateend",this.$11),h(this.$1,"error",this.$12));this.$7=new(b("oz-player/states/OzObservedSourceBufferState"))(this.$1);this.$8=d}var c=a.prototype;c.queueData=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=0);var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$6.push({data:a,deferred:e,loggerProvider:c,appendTarget:d});a=e.getPromise();this.$5||(this.$9.getBool("queue_data_with_error_handling",!1)?this.$13():this.$14());return a};c.cancelOperationAndCleanQueue=function(){var a=this.$15();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var c=b("oz-player/shims/OzMaybeNativePromise").resolve(),d=this.$2;d&&(d.reject(a),c=d.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(a),this.$4=null);return c};c.getSourceBufferState=function(){return this.$7};c.clearRange=function(a,b){this.$1.remove(a,b)};c.$16=function(a){var c=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=c.getPromise();a&&g(c,a,"wait_for_source_buffer");return c};c.$17=function(a,c){var d=this;if(this.$2!==null)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$18("cannot have concurrent appends"));var e=function e(){if(d.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&d.$1.updating)return d.$16(c).then(e)["catch"](function(a){if(d.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return e();throw a});var f=d.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));try{d.$1.appendBuffer(a)}catch(a){var h=d.$8.getErrorCode();h=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:h!==null&&h!==void 0?h.toString():"0"}});d.$2=null;f.reject(h)}h=f.getPromise();c&&g(h,c,"append",function(b){b.setLength(a.byteLength)});var i=d.$9.getBool("log_appended_secs",!1)?j(d.$1):0;return h.then(function(){return d.$9.getBool("log_appended_secs",!1)?j(d.$1)-i:0})};if(!this.$9.getBool("sbm_waits_for_update_end",!1))return e();return!this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating?this.$16(c).then(e)["catch"](function(a){if(d.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return e();throw a}):e()};c.$14=function(){var a=this;if(this.$5)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$18("Another unit of queued data is being appended."));var c=this.$6.shift();if(!c){this.$5=!1;return b("oz-player/shims/OzMaybeNativePromise").resolve()}var d=c.data,e=c.deferred,f=c.loggerProvider;c=c.appendTarget;this.$5=!0;c=d instanceof b("oz-player/shims/OzReadableStream")?this.$19(d,f,c):this.$17(d,f);var g=this.$9.getBool("generate_mos_segment_appended_secs",!1)?i(this.$1):NaN;return c["catch"](function(a){e.reject(a);return 0}).then(function(b){var c=a.$9.getBool("generate_mos_segment_appended_secs",!1)?i(a.$1):NaN;e.resolve({startTime_UNSAFE:g,endTime_UNSAFE:c,appendedSec:a.$9.getBool("generate_mos_segment_appended_secs",!1)?c-g:b});a.$5=!1;a.$14()})};c.$13=function(){var a=this;try{if(this.$5)throw this.$18("Another unit of queued data is being appended.");var c=this.$6.shift();if(!c){this.$5=!1;return}var d=c.data,e=c.deferred,f=c.loggerProvider;c=c.appendTarget;this.$5=!0;c=d instanceof b("oz-player/shims/OzReadableStream")?this.$19(d,f,c):this.$17(d,f);var g=this.$9.getBool("generate_mos_segment_appended_secs",!1)?i(this.$1):NaN;c.then(function(b){var c=a.$9.getBool("generate_mos_segment_appended_secs",!1)?i(a.$1):NaN;e.resolve({startTime_UNSAFE:g,endTime_UNSAFE:c,appendedSec:a.$9.getBool("generate_mos_segment_appended_secs",!1)?c-g:b})},function(a){e.reject(a)})["finally"](function(){a.$5=!1,a.$13()})}catch(a){new(b("oz-player/utils/OzError"))({type:"OZ_JAVASCRIPT_NATIVE",description:a.message,extra:{originalError:a,code:"0"}})}};c.$19=function(a,c,d){var e=this,f=new ArrayBuffer(0),g=a.getReader();a=function a(){var h=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));e.$4=h;g.read().then(function(a){h.resolve(a),e.$4=null})["catch"](function(a){h.reject(a),e.$4=null});return h.getPromise().then(function(g){var h=g.done;g=g.value;if(h)return f.byteLength>0?e.$17(f,c):b("oz-player/shims/OzMaybeNativePromise").resolve(0);h=g;d>0&&(g instanceof Uint8Array&&(g=g.buffer),f=b("oz-player/utils/ozConcatArrayBuffer")(f,g),h=f);if(h&&h.byteLength>=d){f=new ArrayBuffer(0);return e.$17(h,c).then(function(b){return a().then(function(a){return a+b})})}return a()})};return a()};c.$18=function(a){a=new Error(a);a.name="invariant_violation";return a};c.$15=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};c.destroy=function(){b("oz-player/shims/ozClearTimeout")(this.$10),this.$10=null,this.$2&&this.$2.reject(this.$15()),this.$2=null,this.$3.release(),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$7.destroy()};c.getDebug=function(){return{SourceBuffer:this.$1}};return a}();e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,i=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c,d){var e=this;d===void 0&&(d=new h([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$5=[];this.$6=[];this.$8=!1;this.$10=!1;this.$12=function(){e.$13()||(e.$8=!1);if(!e.$14())return;var a=e.$6.shift();a&&(a(e.$2),e.$8=!0)};this.$4=d;this.$9=c;this.$1=a;this.$2=new MediaSource();this.$1.src=window.URL.createObjectURL(this.$2);this.$7=new(b("oz-player/media_source/OzMediaErrorProvider"))(this.$1);g(this.$11(),this.$4,"media_source_open")}var c=a.prototype;c.$11=function(){var a=this;if(this.$2.readyState==="open")return b("oz-player/shims/OzMaybeNativePromise").resolve();var c=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(i(this.$2,"sourceopen",function(){c.resolve(),a.$12()}));return c.getPromise()};c.createSourceBufferManager=function(a,c){var d=this;c===void 0&&(c=!1);return this.$11().then(function(){var e=d.$2.addSourceBuffer(a);c&&!isNaN(d.$2.duration)&&(e.appendWindowEnd=d.$2.duration);d.$5.push(e);d.$3.addSubscriptions(i(e,"updateend",d.$12));return new(b("oz-player/media_source/SourceBufferManager"))(e,d.$9,d.$7)})};c.getMediaSource=function(){return this.$2};c.notifyEndOfStream=function(){var a=this;this.$6.push(function(b){a.$4.getOperationLogger("end_of_stream").log(),b.endOfStream()});this.$12()};c.updateDuration=function(a){this.$6.push(function(b){b.duration=a}),this.$12()};c.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$6=[];this.$8=!1;this.$10=!0};c.$14=function(){return!this.$13()&&this.$2.readyState==="open"&&!this.$8&&!this.$10};c.$13=function(){return this.$5.some(function(a){return a.updating})};return a}();e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration",!1)&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=c;this.$5()}var c=a.prototype;c.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};c.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended",!1)){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/networks/OzFetchWithCache",["oz-player/shims/ozClearTimeout","oz-player/shims/OzReadableStream","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";var g=window.fetch,h=b("oz-player/shims/ozSetTimeoutAcrossTransitions");function i(a){return new(b("oz-player/shims/OzReadableStream"))({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}function a(a,c,d,e,f,j,k){f===void 0&&(f=null);k===void 0&&(k="DISABLE_CACHE");if(!g)throw new Error("fetch api is missing");var l=a.getBool("use_segment_request_cache",!1)&&k==="ENABLE_CACHE"?j.get(c):null;f=f?f.getCacheValue(c):null;l=l!=null?l:f;f=!1;if(l)k==="ENABLE_CACHE"&&j.set(c,l),f=!0,k=l.then(function(a){a=i(a.response);return{body:a,status:200,headers:null,ok:!0}})["catch"](function(b){if(a.getBool("retry_fetch_on_prefetch_error",!1))return g(c,d);else throw new TypeError()});else{var m=null;if("AbortController"in window&&e&&e.networkTimeoutMs!=null&&e.networkTimeoutMs!=0){var n=new AbortController();m=h(function(){return n.abort()},e.networkTimeoutMs);d.signal=n.signal}k=g(c,d).then(function(a){b("oz-player/shims/ozClearTimeout")(m);var c={status:a.status,headers:a.headers,ok:a.ok,body:void 0};if(a.body){c.body=b("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(a.body);return c}return a.arrayBuffer().then(function(a){c.body=i(a);return c})})}return{promise:k,retrievedFromCache:f}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/shims/ozvariant","oz-player/networks/createNetworkError","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){e===void 0&&(e=null),f===void 0&&(f=null),h===void 0&&(h="DISABLE_CACHE"),this.$6=!1,this.$1=b,this.$2=c,this.$3=d,this.$7=e||[],this.$8=f,this.$9=a,this.$10=g,this.$11=h}var c=a.prototype;c.startStream=function(a){var c=this;a=this.$3.createRequestParam(this.$1,a);var d=a.uri;a=a.http;var e=d.toString();this.$4=e;d=b("oz-player/networks/OzFetchWithCache")(this.$9,e,a,this.$2,this.$8,this.$10,this.$11);a=d.promise;d=d.retrievedFromCache;this.$6=d;return a.then(function(a){var d=[];for(var f=0;f<c.$7.length;f++)try{var g=c.$7[f].onResponse(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}g=a.body;f=a.headers;var h=a.ok,i=a.status;if(!h)return b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),i,f,e,"HTTP error."));g.getReader||b("oz-player/shims/ozvariant")(0,3287);h=g;c.$5=a;for(var i=0;i<d.length;i++)h=h.pipeThrough(d[i]);if(!c.$9.getBool("throw_network_error_during_stream",!1))return h;f=new(b("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."):a}});return h.pipeThrough(f)},function(a){var d=[];for(var f=0;f<c.$7.length;f++)try{var g=c.$7[f].onError(a,e);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){g=b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(a,0,null,e,"Network failure."));for(var f=0;f<d.length;f++)g=g.pipeThrough(d[f]);return g}throw a})["catch"](function(a){return a.name==="AbortError"?b("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:e,message:a}):b("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:e,message:"Stream processing error. "+a})})};c.getLastRequestUrl=function(){return this.$4};c.getLastResponse=function(){return this.$5};c.retrievedFromCache=function(){return this.$6};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var c=a.prototype;c.produce=function(a){this.$6(a)};c.signalProducerInterruption=function(){this.$6(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){var c=this;if(this.$3)throw new Error("A buffer can only be consumed by one client at a time");this.$3=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),d=this.$4.getPromise());return d.then(function(){if(c.$1){if(c.$2[c.$5]===void 0)throw new Error("buffer has no value at position "+c.$5)}else if(c.$2.length===0)throw new Error("buffer length must not be 0");c.$4=null;c.$3=!1;var b=c.$1?c.$7(a):c.$8(a);if(b instanceof Uint8Array)return b;throw b})};c.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};c.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};c.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};c.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzDeferredBuffer","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(a,c,d,e,f){var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.enablePausableStreamResumeFromStartDangerously;f=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!e;this.$17=!!f;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("pipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("pipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.createRequestParam=function(a,c){a=new(b("oz-player/shims/OzURI"))(a);if(c){var d=c.startByte,e=c.endByte;d===0&&(e===null||e===void 0)||(a=a.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&(a=a.addQueryData({byteend:e})))}d=this.$1&&this.$1(a)?"include":"same-origin";return{uri:a,http:{credentials:d}}};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/shims/OzWritableStream","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","oz-player/networks/getOzSegmentStreamableRange","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){function a(a,c,d,e){c===void 0&&(c=null),d===void 0&&(d=null),this.$1=a,this.$5=e,this.$2=new(b("oz-player/networks/RequestParamCreator"))(this.$5),this.$3=c,this.$4=d,this.$6=new Map()}var c=a.prototype;c.destroy=function(){this.$6&&this.$6.clear()};c.request=function(a,c,d,e){d===void 0&&(d=null);e===void 0&&(e="DISABLE_CACHE");a.length>0||b("oz-player/shims/ozvariant")(0,212);var f=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null};e=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),null,this.$2,this.$4,this.$3,this.$6,e);return this.$7(f,e,c,d,a)};c.createPausableStream=function(a,c,d){a.length>0||b("oz-player/shims/ozvariant")(0,212);var e=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=null,g=this.$1.getNumber("network_seg_timeout_ms",0);g>0&&(f={networkTimeoutMs:g});var h=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),f,this.$2,this.$4,this.$3,this.$6);return{pausableStream:this.$8(e,h,c||null,d),loggingPayloads:{getRequestUrl:function(){return h.getLastRequestUrl()||null},isPrefetch:function(){return h.retrievedFromCache()},segments:a,getResponse:function(){return h.getLastResponse()}}}};c.requestRawUrl=function(a,c,d,e){e===void 0&&(e=null);c=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,new(b("oz-player/shims/OzURI"))(a),d,this.$2,this.$4,this.$3,this.$6);a={startByte:0,endByte:null};return this.$7(a,c,[],e)};c.$8=function(a,c,d,e){c=c;if(d!=null)for(var f=0;f<d.length;f++){var g=d[f];c=g(this.$1,c,e)}return new(b("oz-player/networks/OzPausableRangeStream"))(b("oz-player/shims/OzReadableStream"),b("oz-player/shims/OzWritableStream"),a,c,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$1.getBool("pausable_stream_throws_error_when_aborted",!1)})};c.$7=function(a,b,c,d,e){e===void 0&&(e=[]);var f=this.$8(a,b,c,d);a=f.startStream();var i=this.$9(a);d&&g(i,d,"fetch_stream",function(){},function(a){h(a,b.getLastRequestUrl(),b.retrievedFromCache(),e,0,f.getBytesStreamed(),b.getLastResponse())});return{getStream:function(){return f.getStream()},cancel:function(){return f.pauseStream()},getStatusChangePromise:function(){return i}}};c.$9=function(a){var c=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!c.$1.getBool("enable_network_manager_error",!1))return"done";throw new(b("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!b("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){var i;i=a.call(this)||this;i.$Mpd1=b;i.$Mpd4=f;i.$Mpd2=c;i.$Mpd3=d;i.$Mpd5=e;i.$Mpd6=g;i.$Mpd7=h;return i}var c=b.prototype;c.getLocation=function(){return this.$Mpd5};c.getMinimumUpdatePeriod=function(){return this.$Mpd4};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getCustomField=function(a){var b=this.$Mpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd7};c.updateWith=function(a){this.$Mpd1=a.$Mpd1,this.$Mpd8(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd8(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd7=a.isStaticMpd(),this.$Mpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd8=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("oz-player/utils/OzNumericalHelper")).equalTo,h=a.greaterThan,i=a.greaterThanOrEqual,j=a.lessThanOrEqual,k=1e-4;c=function(){function a(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$7=a,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}var c=a.prototype;c.getSegmentByTime=function(a){a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d*(d.r+1),a,this.$8))break;b=d}if(b===null)return null;if(this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8))return null;d=Math.max(0,Math.floor((a-b.t+this.$8)/b.d));return this.$12(b,d)};c.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$3.length){var c=this.$3[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$3[b];return!c?null:this.$12(c,a)};c.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};c.getPredictedSegmentAfter=function(a){return null};c.canPredict=function(){return!1};c.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$3[this.$3.length-1],c=b.r;b=this.$12(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,646),this.$5=c.$5,this.$13(c.$3),this.$14(c.$3),this.$6.emit("segment_updated")};c.getTimeRanges=function(){return this.$9&&this.$7.getBool("live_block_time_range_on_the_fly",!1)?this.$15(this.$4,this.$9):this.$4};c.blockTimeRange=function(a){this.$9=a,this.$7.getBool("live_block_time_range_on_the_fly",!1)||(this.$4=this.$15(this.$4,a))};c.$15=function(a,c){return new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:c.startTime,rangeEnd:c.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};c.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};c.$16=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,d=b.t+b.d*b.r;return i(a.t,d,this.$8)||i(b.t,c,this.$8)?!1:Number.isInteger((a.t-b.t)/a.d)};c.$13=function(a){if(this.$7.getBool("use_loose_manifest_updates",!1)){var c;(c=this.$3).splice.apply(c,[this.$3.length,0].concat(a));this.$3.sort(function(a,b){if(a.t<b.t)return-1;else if(a.t>b.t)return 1;return a.d===b.d?a.r-b.r:0});c=[];for(var d=0,e=d+1;e<this.$3.length;){var f=this.$3[d],i=this.$3[e];if(f.t===i.t){if(f.d>i.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new."});f.d=i.d;f.r=Math.max(f.r,i.r);e++;continue}else c.push(this.$3[d]),d=e,e++}this.$3.length>0&&c.push(this.$3[this.$3.length-1]);(f=this.$3).splice.apply(f,[0,this.$3.length].concat(c));return}i=this.$3.length-1;d=a.length-1;e=i;f=d;c=JSON.stringify(this.$3);var j=this.$7.getBool("fix_templated_manifest_r_field_check",!1);while(i>=0&&d>=0){var k=this.$3[i],l=a[d];if(g(k.t,l.t,this.$8)){if(j){var m=i===e||d===f,n=m&&(i!==e&&l.r>k.r||d!==f&&k.r>l.r);m=!m&&k.r!==l.r||n}else m=!(i===e&&d===f)&&k.r!==l.r;if(m)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+c+"\n            , new groups: "+JSON.stringify(a)});if(this.$7.getBool("throw_on_non_zero_r_d_mismatch",!1)&&k.r>0&&k.d!==l.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Duration mismatch between non-zero repeat tag and new."});k.r=Math.max(k.r,l.r);if(this.$7.getBool("fix_template_duration_artifact_in_manifest",!1)){if(k.d>l.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new."});k.d=l.d}i--;d--}else if(h(l.t,k.t,this.$8))this.$3.splice(i+1,0,l),d--;else{if(this.$16(k,l))throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged"});i--}}if(d>=0){(n=this.$3).unshift.apply(n,a.slice(0,d+1))}};c.$14=function(a){a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.$4.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));if(!this.$7.getBool("live_block_time_range_on_the_fly",!1)){var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}))}this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.$10=function(a){var c=this;a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){var b=c.$12(a,0).getTimeRange().startTime;a=c.$12(a,a.r).getTimeRange().endTime;return{rangeStart:b,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};c.$12=function(a,c){var d=this;c===void 0&&(c=0);var e=a.t,f=a.d,g=e+f*c,h=this.$7.getBool("use_sc_timebased_segments",!1),i=this.$7.getBool("use_scf_timebased_segments",!1),j=this.$7.getBool("touch_cb_key",!1);return{getURI:function(){var a=d.$1.replace("$Time$",g.toString());a=new(b("oz-player/shims/OzURI"))(a);h&&a.addQueryData("_nc_sc",1);i&&a.addQueryData("_nc_scf",1);var c=a.getQueryData().cb;j&&c&&a.addQueryData("cb",c+"_oz");return a},getTimeRange:function(){return{startTime:g/d.$2,endTime:(g+f)/d.$2}},getByteRange:function(){return null},getSequenceNumber:function(){return null}}};c.getSegmentGroups=function(){return this.$3};c.getEndingSegment=function(){if(this.$3.length==0)return null;var a=this.$3[this.$3.length-1],b=a.r;return this.$12(a,b)};return a}();e.exports=c}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(c,d,e){var f=c.getBool("estimate_video_bandwidth_only",!1)?a==="video":!0;return d instanceof b("oz-player/networks/OzNetworkRequestStream")&&f?b("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(c,d,e):d}};e.exports=a}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};b.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};b.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};b.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};b.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};b.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/utils/ozConcatArrayBuffer","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=new ArrayBuffer(0);c.$OzReadableStreamDataReader2=b;return c}var d=c.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1=b("oz-player/utils/ozConcatArrayBuffer")(this.$OzReadableStreamDataReader1,a.buffer)};d.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};return c}(b("oz-player/networks/OzTransformStream"));e.exports=a}),null);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozPerformanceNow","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;a=function(){function a(a,c){this.$3=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$1=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$6=b("oz-player/shims/ozPerformanceNow")(),this.$7=c,this.$8=a}var c=a.prototype;c.run=function(){var a=this.$3.getPromise(),c=this.$7;if(c){var d=b("oz-player/shims/ozPerformanceNow")()-this.$6;g(a,c,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(d))})["catch"](function(){})}this.$2.resolve();return a};c.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(new(b("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled"})),this.$5=!0};c.finish=function(){this.$3.resolve()};c.isCancelled=function(){return this.$5};c.addStream=function(a,c,d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:d}),changeStatusDeferred:e,createStreamDeferred:new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:c,loggingPayloads:d});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return e.getPromise()}}};c.addStreamDeferred=function(a,c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:c});var f=function(){return e.getPromise()};return{genStream:f,cancel:function(){f().then(function(a){return a.pauseStream()})},getStatusChangePromise:function(){return d.getPromise()}}};c.$9=function(a){var c=this,d=a.pausableStreamPromise,e=a.changeStatusDeferred,f=a.createStreamDeferred,i=a.loggerProviderWithStreamContext,j=a.loggingPayloads;a=this.$1.getPromise();var k=b("oz-player/shims/ozPerformanceNow")(),l=this.$1=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return d}).then(function(a){if(a){var d=a.pausableStream;a.loggingPayloads&&(j=a.loggingPayloads);f.resolve(d.getStream());c.$4=d;var e=b("oz-player/shims/ozPerformanceNow")();a=c.$10(d.startStream());i&&g(a,i,"fetch_stream",function(){},function(a){j&&h(a,j.getRequestUrl(),j.isPrefetch(),j.segments,e-k,d.getBytesStreamed(),j.getResponse())});return a}return null}).then(function(a){c.$4=null,l.resolve(),e.resolve(a||"cancelled")})["catch"](function(a){c.$4=null,c.$3.reject(a),e.reject(a)})};c.$10=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$5=a;this.$1=c;this.$6=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=d;this.$8=e;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){f.$10(a,b),f.$2&&f.$6.updatePriority(f.$2,f.$4)}))}var c=a.prototype;c.startStream=function(a){var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a),e=this.$12();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$13(c.getStatusChangePromise)};return d};c.$12=function(){var a=[];a.push(b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};c.startStreamDeferred=function(a){var c=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$11(e);var f=this.$12(),g=new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return b(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$13(a.getStatusChangePromise)};return g};c.$11=function(a){a=this.$2;this.$10(this.$1.compute(),"start_stream");!a||a.isCancelled()?(a=this.$2=new(b("oz-player/networks/OzStreamingTask"))(this.$8,this.$7),this.$6.enqueue(a,this.$4)["catch"](function(){})):this.$6.updatePriority(a,this.$4);return a};c.$13=function(a){var c=this;return function(){return a().then(function(a){c.$14();return a})["catch"](function(a){c.$14();return b("Promise").reject(a)})}};c.finishTaskIfNoOngoingStream=function(){this.$9||this.$15()};c.destroy=function(){this.$3.release();if(b("gkx")("1343341")){var a=this.$2;this.$2=null;a&&this.$6.remove(a)}};c.$14=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<b("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$15()};c.$15=function(){this.$2&&(this.$2.finish(),this.$2=null)};c.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzAudioRepresentation","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPlayerDimensions","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider,h=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog,i=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,j=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,k=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;function l(a){if(b("gkx")("1427587")){a||b("oz-player/shims/ozvariant")(0,21876);return a}return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$Player4=new Map();d.$Player5=new Map();d.$Player9=void 0;d.$Player10=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$Player11=new(b("oz-player/utils/OzErrorEmitter"))();d.$Player25=[];d.$Player32=null;d.$Player33=null;d.$Player37=function(a){};var e=c.audioOnly;e=e===void 0?!1:e;var f=c.videoNodeOrQuickStarter,g=c.config,h=c.rawMpdXml,i=c.dimensions,k=c.mpdUrl;k=k===void 0?null:k;var l=c.loggerConfig;l=l===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:l;var m=c.prefetchCache;m=m===void 0?null:m;var n=c.networkRequestStreamHandlers,o=c.getShouldIncludeCredentials;o=o===void 0?null:o;var p=c.initialRepresentationIDs;p=p===void 0?[]:p;var q=c.debugCreateInitiator;q=q===void 0?null:q;var r=c.customParsers;r=r===void 0?new Map():r;var s=c.entityKey;s=s===void 0?"":s;var t=c.videoPlaybackRestrictions;t=t===void 0?[]:t;var u=c.customSegmentTimelineParser;u=u===void 0?null:u;var v=c.customRepresentationParsers;v=v===void 0?{}:v;var w=c.videoAbrManagerFactory;w=w===void 0?null:w;var x=c.seekHandler;x=x===void 0?null:x;var y=c.streamGoneHandler;y=y===void 0?null:y;var z=c.initialPlaybackPositionForDynamicMpd;z=z===void 0?-20:z;var A=c.liveheadFallBehindBlockThreshold;A=A===void 0?30:A;var B=c.liveheadFallBehindBlockMargin;B=B===void 0?5.9:B;var C=c.startTimeStamp;C=C===void 0?0:C;var D=c.disableAbr;D=D===void 0?!1:D;var E=c.drmManagerModule;E=E===void 0?null:E;c=c.drmProviders;c=c===void 0?null:c;d.$Player48=q;q=l.perfLoggerProviders;var F=l.observedOperationLoggers;l=l.isOzDevConsoleEnabled;d.$Player16=l||!1;d.$Player15=new j(d.$Player49().concat(q));d.$Player1=e;d.$Player3=g;d.$Player50();d.$Player22=new(b("oz-player/loggings/OzOperationLoggerObserver"))();d.$Player22.observe(F,d.$Player15);d.$Player24=m;l=m&&m.getCachedRepresentations(s);d.$Player25=l||p;d.$Player27=r;d.$Player31=t;d.$Player28=v;d.$Player29=u;d.$Player35=w;d.$Player36=x;y&&(d.$Player37=y);d.$Player38=C;d.$Player39=z;d.$Player40=A;d.$Player41=B;d.$Player45=E;d.$Player46=c;f instanceof HTMLVideoElement?(d.$Player2=f,d.$Player6=new(b("oz-player/media_source/MediaSourceManager"))(d.$Player2,d.$Player3,d.$Player15)):(d.$Player2=f.getVideoNode(),d.$Player6=f.getMediaSourceManager(),d.$Player7=f);d.$Player42=n;d.$Player43=o;d.$Player12=new(b("oz-player/networks/OzNetworkManager"))(d.$Player3,d.$Player24,d.$Player42,d.$Player43);d.$Player17=k;d.$Player8=h;d.$Player13=new(b("oz-player/states/OzObservedPlaybackState"))(d.$Player2,d.$Player15);d.$Player30=new(b("oz-player/states/OzPlayerDimensions"))(i);d.$Player14=new(b("oz-player/streams/OzEndOfStreamWatcher"))(d.$Player6,d.$Player3);d.$Player10.addSubscriptions(d.$Player14.addListener("streamEnd",d.emit.bind(babelHelpers.assertThisInitialized(d),"streamEnd")));d.$Player23=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(d.$Player6,d.$Player3);d.$Player26=d.$Player51();d.$Player44=D;return d}var d=c.prototype;d.setupPlayer=function(){this.$Player52();this.$Player3.getBool("listen_for_quick_starter_errors",!1)&&this.$Player7&&this.$Player10.addSubscriptions(this.$Player7.onError(this.$Player11.emitError));try{var a=h(this.$Player15.cloneContext().setInitiator(this.$Player48),"parse_manifest",this.$Player53.bind(this,this.$Player8));this.$Player9=l(a);if(this.$Player17!==null&&this.$Player17!==void 0){var c=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player3,a,this.$Player12,this.$Player13,this.$Player15,{customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player47);this.$Player54(c);this.$Player10.addSubscriptions(c.onError(this.$Player11.emitError),c.addListener("streamGone",this.$Player55.bind(this)),c.addListener("streamTransitionToStatic",this.$Player56.bind(this)));c.setupUpdateLoop();this.$Player21=c}this.$Player38=a.isStaticMpd()?this.$Player38:this.$Player39;this.$Player18=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player2,mpd:a,playheadCatchup:this.$Player34,playbackState:this.$Player13,config:this.$Player3,perfLoggerProvider:this.$Player15,seekHandler:this.$Player36,initialPlaybackPosition:this.$Player38});this.$Player19=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player3,this.$Player2);this.$Player20=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player2,a,this.$Player40,this.$Player41);this.setupStreamsAndFireDebugEvent()}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player11.emitError(a);else throw a}};d.updatePlayerRunTimeConfig=function(a){a=a.videoStreamDataHandler;if(a!==void 0){var b=this.$Player4.get("video");b&&b.updateRunTimeConfigs({videoStreamDataHandler:a})}};d.$Player57=function(a,b){var c=this,d=a.getMimeCodecs(),e,f=0,g=null,h=this.$Player7;h&&(e=h.getSourceBufferManagerPromise(d),f=h.getPrependedSegmentsCount(d),this.$Player3.getBool("fix_quick_starter_overhead",!1)&&(g=h.getRepresentationId(d)));e||(e=this.$Player6.createSourceBufferManager(d,this.$Player3.getBool("set_source_buffer_append_window_end",!1)));this.$Player58(e,b,g,a,f);return i(e,this.$Player15,"source_attach",function(a){a.setType(b)}).then(function(a){return c.$Player18.observeSourceBufferState(a.getSourceBufferState(),b)})};d.isDrm=function(){var a=this.$Player47;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};d.$Player52=function(){if(this.$Player45){var a=this.$Player47=new this.$Player45(this.$Player15,this.$Player2);a.onError(this.$Player11.emitError);this.$Player46&&this.$Player46.forEach(a.addProvider,a);this.$Player28.drmProtections&&this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player28.drmProtections=a.parseContentProtectionForRepresentation.bind(this.$Player47)}};d.$Player59=function(a){var c=l(this.$Player9);a=[this.$Player3,a,c.getVideoRepresentations(),this.$Player31,this.$Player13,this.$Player30,window.devicePixelRatio||1];return this.$Player35?this.$Player35.apply(this,a):new(Function.prototype.bind.apply(b("oz-player/strategies/OzAbrManager"),[null].concat(a)))()};d.$Player58=function(a,c,d,e,f){var g=this,h=l(this.$Player9),i=this.$Player5.get(c),j=new(b("oz-player/streams/OzMediaStream"))(this.$Player3,a,f,this.$Player12,this.$Player13,this.$Player14,this.$Player26,this.$Player60(),this.$Player61(i),i,d,e,this.$Player15.cloneContext().setType(c));this.$Player38===0?j.start():this.$Player10.addSubscriptions(this.$Player18.addListener("initialPlaybackPositionSet",function(){g.$Player13.forceUpdateCurrentTime(),j.start()}));this.$Player10.addSubscriptions(j.onError(this.$Player11.emitError),this.$Player23.listenToMediaStreamInitAppended(j));c==="video"&&(this.$Player33=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player3,this.$Player13,k(this.$Player31,this.$Player30.getDimensions(),h.getVideoRepresentations()),j,a));this.$Player4.set(c,j);this.$Player10.addSubscriptions(j.addListener("switchRepresentation",function(){c==="video"&&g.emit("switchVideoRepresentation")}),j.addListener("SegmentAppended",function(a){g.$Player62("SegmentAppended",a)}))};d.$Player51=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player13,this.$Player3),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player3)])};d.$Player54=function(a){var c=this;if(this.$Player3.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0){var d=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player2);this.$Player10.addSubscriptions(d.addListener("playheadAtInterruption",function(a){return c.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){return d.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){d.notifyStreamResumed(),c.emit("streamResumedAt",a)}));this.$Player32=d}};d.$Player60=function(){var a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player13),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player13)];return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};d.$Player61=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player3),new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player26,this.$Player3)];this.$Player3.getNumber("paused_stream_segments_count",0)!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player13,this.$Player3));if(a){a=a.getStreamSegmentsCountStrategy();a&&c.push(a)}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};d.onError=function(a){return this.$Player11.onError(a)};d.getCurrentQuality=function(){var a=l(this.$Player9),c=this.$Player4.get("video");c=c&&c.getCurrentRepresentation();if(c instanceof b("oz-player/manifests/OzVideoRepresentation"))return c.getQualityLabel();c=a.getVideoRepresentations();a=c[0];if(a)return a.getQualityLabel();a||b("oz-player/shims/ozvariant")(0,19857);return""};d.getCurrentAudioQuality=function(){var a=this.$Player4.get("audio");a=a&&a.getCurrentRepresentation();return a instanceof b("oz-player/manifests/OzAudioRepresentation")?a.getQualityLabel():""};d.switchToVideoQuality=function(a){var b=l(this.$Player9);b=b.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player4.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};d.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player4.get("video");return a?a.getIsAdaptationEnabled():!1};d.enableVideoQualityAdaptation=function(){var a=this.$Player4.get("video");a&&a.enableAdaptation()};d.getVideoQualities=function(){var a=l(this.$Player9);return a.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};d.setEnableLiveheadCatchup=function(a){this.$Player20&&(a?this.$Player15.getOperationLogger("live_catchup_enabled").log():this.$Player15.getOperationLogger("live_catchup_disabled").log(),this.$Player20.setTimelineBlockingEnabled(a))};d.setupStreamsAndFireDebugEvent=function(){var a=this,c=this.$Player1?[this.setupAudioStreamIfExist({liveConfigsFromAudioStream:!0})]:[this.setupVideoStream(),this.setupAudioStreamIfExist({})],d=[];return b("Promise").all(c).then(function(){var b=a.$Player4.get("video"),c=a.$Player4.get("audio");b&&d.push(b.getCurrentRepresentation());c&&d.push(c.getCurrentRepresentation());d.forEach(function(b){a.$Player10.addSubscriptions(b.addUpdateListener(function(){a.$Player62("SegmentIndexesUpdated",d)}))});a.$Player62("InitialSegmentIndexes",d);a.$Player2&&a.$Player2.style&&(a.$Player2.style.display=a.$Player1?"none":"block")})};d.$Player63=function(a){if(this.$Player3.getBool("update_duration_if_mpd_synchronously_has_timeline_info",!1)&&a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player6.updateDuration(a)}};d.$Player64=function(a){this.$Player63(a),this.$Player23.setTimeRangeProvider(a),this.$Player18.setTimeRangeProvider(a),this.$Player20!=null&&this.$Player20.setTimeRangeProvider(a)};d.setupVideoStream=function(){var a=l(this.$Player9);a=k(this.$Player31,this.$Player30.getDimensions(),a.getVideoRepresentations());if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player64(a[0]);var c=this.$Player65(a);if(!this.$Player44&&this.$Player3.getBool("enable_adaptation",!1)){var d=this.$Player59(c||a[0]);this.$Player5.set("video",d);this.$Player3.getBool("use_abr_for_missing_default_representation",!1)&&!c&&(c=d.getBestRepresentation())}return this.$Player57(c||a[0],"video")};d.setupAudioStreamIfExist=function(a){a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var c=l(this.$Player9);c=c.getAudioRepresentations();a&&this.$Player64(c[0]);return c.length?this.$Player57(this.$Player66(c)||c[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.getMpd=function(){var a=l(this.$Player9);return a};d.destroy=function(a){a=this.$Player15.getOperationLogger("unload").setInitiator(a).start();this.$Player4.forEach(function(a){a.cleanup()});this.$Player33&&this.$Player33.cleanup();this.$Player4=new Map();this.$Player10.release();this.$Player10.engage();this.$Player13.destroy();this.$Player18&&this.$Player18.destroy();this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player20&&(this.$Player20.destroy(),this.$Player20=null);this.$Player47&&this.$Player47.destroy();this.$Player12&&this.$Player12.destroy();this.$Player3.getBool("detach_media_source_manager",!1)&&this.$Player6&&this.$Player6.detach();var c=b("Promise").resolve();this.$Player3.getBool("cleanup_video_node_on_destroy",!1)&&(this.$Player2.pause(),this.$Player3.getBool("remove_src_attr_on_unload",!1)?this.$Player2.removeAttribute("src"):this.$Player2.src="",this.$Player2.setMediaKeys&&"function"===typeof this.$Player2.setMediaKeys&&(c=this.$Player2.setMediaKeys(null)));this.$Player21&&this.$Player21.destroy();this.$Player32&&this.$Player32.destroy();this.$Player22.destroy();this.$Player23.destroy();a.log();this.emit("destroyed");a=[c];return b("Promise").all(a)};d.$Player65=function(a){var c=this,d;d=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!d&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player7.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));return d||null};d.$Player66=function(a){var c=this,d=l(this.$Player9),e;e=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!e&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead",!1)){var f=this.$Player7.getRepresentationId("audio");f!==null&&f!==void 0&&(e=a.find(function(a){return a.getID()===f}))}e||(e=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));if(!e&&!d.isStaticMpd()&&a.length>1&&this.$Player3.getBool("live_audio_ibr",!0)){d=new(b("oz-player/strategies/OzAudioIBRManager"))(this.$Player3,this.$Player15);e=d.getInitialAudioRepresentation(a)}return e||null};d.$Player53=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player3,{mpdUrl:this.$Player17,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player12,this.$Player15,this.$Player47);this.$Player10.addSubscriptions(c.onError(this.$Player11.emitError));return c.parse(a)};d.$Player49=function(){var a=[];this.$Player16&&a.push(new g());return a};d.setDimensions=function(a){this.$Player30.setDimensions(a)};d.$Player67=function(a,b){b=this.$Player4.get(b);return b?b.getRepresentationIDAtTime(a):null};d.getAudioRepresentationIDAtTime=function(a){return this.$Player67(a,"audio")};d.getVideoRepresentationIDAtTime=function(a){return this.$Player67(a,"video")};d.getCurrentVideoRepresentation=function(){var a=this.$Player4.get("video");return a!=null?a.getCurrentRepresentation():null};d.getCurrentAudioRepresentation=function(){var a=this.$Player4.get("audio");return a!=null?a.getCurrentRepresentation():null};d.$Player55=function(){this.$Player37!=null&&this.$Player37(Array.from(this.$Player4.values()))};d.$Player56=function(){this.$Player3.getBool("end_buffered_streams_on_transition_to_static",!1)&&this.$Player4.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};d.getDebug=function(){var a=this,b=this.$Player4.get("video"),c=this.$Player4.get("audio"),d,e,f,g,h;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(g=c.getDebug().SourceBufferManager,g&&(h=g.getDebug().SourceBuffer));return{getManifest:function(){return l(a.$Player9)},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:g,AudioSourceBuffer:h}};d.$Player62=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};d.$Player50=function(){this.$Player3.getBool("live_playhead_catch_up",!1)&&(this.$Player34=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player3))};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("oz-player/manifests/PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){h===void 0&&(h=!1);c=a.call(this,b,c,d,e,h)||this;c.$PredictedSegmentTemplateSegmentsContainer6=h;c.$PredictedSegmentTemplateSegmentsContainer7=e;c.$PredictedSegmentTemplateSegmentsContainer5=b;c.$PredictedSegmentTemplateSegmentsContainer3=d;c.$PredictedSegmentTemplateSegmentsContainer1=f;c.$PredictedSegmentTemplateSegmentsContainer2=g;c.$PredictedSegmentTemplateSegmentsContainer4=b.getNumber("live_numerical_error_epsilon",0);return c}var d=c.prototype;d.$PredictedSegmentTemplateSegmentsContainer8=function(a,c,d){var e=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",d.toString()),f=this.$PredictedSegmentTemplateSegmentsContainer5.getBool("touch_cb_key",!1);return{getURI:function(){var a=new(b("oz-player/shims/OzURI"))(e),c=a.getQueryData().cb;f&&c&&a.addQueryData("cb",c+"_oz");return a},getTimeRange:function(){return{startTime:a,endTime:c}},getByteRange:function(){return null},getSequenceNumber:function(){return d}}};d.updateWith=function(d){d instanceof c||b("oz-player/shims/ozvariant")(0,646),this.$PredictedSegmentTemplateSegmentsContainer2=d.$PredictedSegmentTemplateSegmentsContainer2,a.prototype.updateWith.call(this,d),this.$PredictedSegmentTemplateSegmentsContainer7=d.$PredictedSegmentTemplateSegmentsContainer7,this.$PredictedSegmentTemplateSegmentsContainer6=d.$PredictedSegmentTemplateSegmentsContainer6};d.getSegmentByTime=function(a){return this.$PredictedSegmentTemplateSegmentsContainer9(a)};d.getPredictedSegmentAfter=function(a){return a!=null&&a.getSequenceNumber()!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer8(0,0,a.getSequenceNumber()+1):null};d.canPredict=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer5.getNumber("num_predictive_segments",0);return a>0};d.$PredictedSegmentTemplateSegmentsContainer9=function(a){var c=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer3;var d=0;for(var e=0;this.$PredictedSegmentTemplateSegmentsContainer7.length-1-e>=0;e++){var f=this.$PredictedSegmentTemplateSegmentsContainer7[this.$PredictedSegmentTemplateSegmentsContainer7.length-1-e];f.r==0||b("oz-player/shims/ozvariant")(0,18769);if(g(f.t+f.d*(f.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer4))break;c=f;d=e}if(c===null)return null;else return this.$PredictedSegmentTemplateSegmentsContainer8(c.t/this.$PredictedSegmentTemplateSegmentsContainer3,(c.t+c.d)/this.$PredictedSegmentTemplateSegmentsContainer3,this.$PredictedSegmentTemplateSegmentsContainer2-d)};d.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer6)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer2:a.prototype.isEndingSegment.call(this,b)};d.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer7.length==0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer7[this.$PredictedSegmentTemplateSegmentsContainer7.length-1];return this.$PredictedSegmentTemplateSegmentsContainer8(a.t/this.$PredictedSegmentTemplateSegmentsContainer3,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer3,this.$PredictedSegmentTemplateSegmentsContainer2)};return c}(b("oz-player/manifests/SegmentTemplateSegmentsContainer"));e.exports=a}),null);
__d("reportOzError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();return{error:a.getType(),message:a.getDescription(),httpStatus:c.code,url:c.url,stack:a.stack}}else return{error:"OZ_JAVASCRIPT_NATIVE",message:a.name+" "+a.message,httpStatus:null,url:null,stack:a.stack}}e.exports=a}),null);
__d("VideoPlayerHTML5Oz",["invariant","Promise","BanzaiODS","Deferred","EventEmitter","EventListener","MaybeNativePromise","OzActiveActiveFailoverNetworkRequestStreamHandler","OzCustomParsers","OzCustomRepresentationParsers","OzDashPrefetchCache","OzVideoLiveTraceNetworkRequestStreamHandler","RepomenAbrManager","SubscriptionsHandler","TimeRanges","URI","VideoPlayerConnectionQuality","VideoPlayerOzWWWConfig","VideoPlayerOzWWWGlobalConfig","VideoPlayerPlayLogger","VideoPlayerQualitiesArray","VideoPlayerShakaPerformanceLogger","XHRRequest","getCrossOriginTransport","getOzPlaybackRestrictions","gkx","manifestHasUnsupportedCodecs","oz-player","oz-player/configs/OzGlobalConfig","oz-player/networks/OzBandwidthEstimator","oz-player/parsers/OzPredictedSegmentTimelineParser","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","parseHeaders","reportOzError","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("OzCustomParsers").createOzCustomParser,j=b("OzCustomRepresentationParsers").createOzCustomRepresentationParsers,k=b("VideoPlayerQualitiesArray").ensureVideoPlayerQualitiesArray,l=b("oz-player/utils/OzNetworkRequestLoggingUtils").setPerformanceLoggingAttributes;b("oz-player/configs/OzGlobalConfig").setGlobalConfig(b("VideoPlayerOzWWWGlobalConfig"));var m=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,n=function(a){return m.test(a.getDomain())};a=function(a){babelHelpers.inheritsLoose(c,a);c.isSupported=function(a){var c;!a.hasDashManifest()&&!a.getLiveManifestUrl()?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!b("oz-player/shims/OzReadableStream")||!b("oz-player/shims/OzReadableStream").prototype.pipeTo||!b("oz-player/shims/OzReadableStream").prototype.pipeThrough?c="noReadableStream":!b("oz-player/shims/OzWritableStream")?c="noWritableStream":b("manifestHasUnsupportedCodecs")(a.getDashManifest())&&(c="codecNotSupported");if(c){b("BanzaiODS").bumpEntityKey(2966,"VideoPlayerHtml5Oz","fallback."+c);return!1}return!0};c.getEstimatedBandwidth=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))};function c(c,d,e){var f,g=e.config,h=e.manifest,i=e.manifestUrl,j=e.videoID,k=e.isLive,l=e.isServableViaFbms,m=e.accessToken,n=e.playerOrigin,o=e.playerSuborigin,p=e.playerInstanceKey,q=e.prefetchCache,r=e.width,s=e.height,t=e.minPlayQuality,u=e.startTimestamp,v=e.seekHandler,w=e.videoLiveTrace,x=e.disableAbr,y=e.OzDrmHelper,z=e.videoLicenseUriMap,A=e.graphApiVideoLicenseUri,B=e.widevineCert,C=e.desiredLatencyMs;e=e.latencyToleranceMs;f=a.call(this)||this;f.$VideoPlayerHTML5Oz5=1;f.$VideoPlayerHTML5Oz6=!1;f.$VideoPlayerHTML5Oz8=null;f.$VideoPlayerHTML5Oz22=!1;f.$VideoPlayerHTML5Oz23=!1;f.$VideoPlayerHTML5Oz24=null;f.$VideoPlayerHTML5Oz25=null;f.$VideoPlayerHTML5Oz26=0;f.$VideoPlayerHTML5Oz27=null;f.$VideoPlayerHTML5Oz28=!1;f.$VideoPlayerHTML5Oz31=!0;f.$VideoPlayerHTML5Oz32=!1;f.$VideoPlayerHTML5Oz33=!1;f.$VideoPlayerHTML5Oz1=c;f.$VideoPlayerHTML5Oz2=h;f.$VideoPlayerHTML5Oz3=new(b("VideoPlayerOzWWWConfig"))(g);f.$VideoPlayerHTML5Oz16=d;f.$VideoPlayerHTML5Oz14=i;f.$VideoPlayerHTML5Oz15=q;f.$VideoPlayerHTML5Oz17=j;f.$VideoPlayerHTML5Oz18=r;f.$VideoPlayerHTML5Oz19=s;f.$VideoPlayerHTML5Oz20=u;f.$VideoPlayerHTML5Oz29=v;f.$VideoPlayerHTML5Oz30=w;f.$VideoPlayerHTML5Oz33=!!x;f.$VideoPlayerHTML5Oz34=y;f.$VideoPlayerHTML5Oz35=m;f.$VideoPlayerHTML5Oz36=z;f.$VideoPlayerHTML5Oz37=A;f.$VideoPlayerHTML5Oz38=B;f.$VideoPlayerHTML5Oz39=C;f.$VideoPlayerHTML5Oz40=e;f.$VideoPlayerHTML5Oz9=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:j,video:c,representationId:null,isLive:k,isServableViaFbms:l,accessToken:m,playerOrigin:n,playerSuborigin:o,playerVersion:f.getPlayerVersion(),uniqueID:p,getBandwidthEstimate:function(a){return b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(f.$VideoPlayerHTML5Oz3)},isDrm:f.isDrm()}):null;f.$VideoPlayerHTML5Oz9&&(f.$VideoPlayerHTML5Oz21=new(b("VideoPlayerPlayLogger"))(f.$VideoPlayerHTML5Oz1,f.$VideoPlayerHTML5Oz9));f.$VideoPlayerHTML5Oz13=t;(!f.$VideoPlayerHTML5Oz15||typeof f.$VideoPlayerHTML5Oz15.getCachedRepresentations!=="function")&&(f.$VideoPlayerHTML5Oz15=null);!f.$VideoPlayerHTML5Oz15&&f.$VideoPlayerHTML5Oz3.getBool("use_prefetch_cache",!1)&&(f.$VideoPlayerHTML5Oz15=new(b("OzDashPrefetchCache"))());f.$VideoPlayerHTML5Oz41();return f}var d=c.prototype;d.$VideoPlayerHTML5Oz41=function(){var a=this;this.$VideoPlayerHTML5Oz12=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Oz42();var c=this.$VideoPlayerHTML5Oz3.getBool("fix_live_video_duration_buffering",!1);this.$VideoPlayerHTML5Oz7=new(b("oz-player/strategies/OzBufferingDetector"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,function(){return!c||a.$VideoPlayerHTML5Oz28?a.$VideoPlayerHTML5Oz1.duration:Infinity});this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)||(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz43.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz44.bind(this)));this.$VideoPlayerHTML5Oz12.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Oz1,"timeupdate",function(b){a.$VideoPlayerHTML5Oz45(b.target.currentTime)}));this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz12.addSubscriptions(this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz43.bind(this)),this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz44.bind(this)))};d.setup=function(){var a=[];this.$VideoPlayerHTML5Oz9&&a.push(this.$VideoPlayerHTML5Oz9);var b=[];this.$VideoPlayerHTML5Oz3.getBool("force_initial_representation",!1)&&(b=this.$VideoPlayerHTML5Oz16);this.$VideoPlayerHTML5Oz2?this.$VideoPlayerHTML5Oz46({manifest:this.$VideoPlayerHTML5Oz2,manifestUrl:this.$VideoPlayerHTML5Oz14,loggerProviders:a,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:b,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19}):(!this.$VideoPlayerHTML5Oz14&&g(0,1106),this.$VideoPlayerHTML5Oz47(this.$VideoPlayerHTML5Oz14,a,b))};d.$VideoPlayerHTML5Oz47=function(a,c,d){var e=this;this.$VideoPlayerHTML5Oz48(a).then(function(b){e.$VideoPlayerHTML5Oz46({manifest:b,manifestUrl:a,loggerProviders:c,prefetchCache:e.$VideoPlayerHTML5Oz15,initialRepresentations:d,videoID:e.$VideoPlayerHTML5Oz17,width:e.$VideoPlayerHTML5Oz18,height:e.$VideoPlayerHTML5Oz19})})["catch"](function(f){if(f instanceof b("oz-player/utils/OzError")&&e.$VideoPlayerHTML5Oz26<e.$VideoPlayerHTML5Oz3.getNumber("initial_manifest_request_retry_count",0)){var g=JSON.parse(e.$VideoPlayerHTML5Oz3.getString("network_retry_intervals_json","{}"));g=g[f.getExtra().code];typeof g==="number"&&g>0?(e.$VideoPlayerHTML5Oz26++,b("setTimeout")(function(){e.$VideoPlayerHTML5Oz47(a,c,d)},g)):e.$VideoPlayerHTML5Oz49(f)}else e.$VideoPlayerHTML5Oz49(f)})};d.$VideoPlayerHTML5Oz48=function(a){var c=this,d=new(b("Deferred"))();this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz27=this.$VideoPlayerHTML5Oz9.getOperationLogger("request").setType("manifest").setResource(a).start());var e=new(h||(h=b("URI")))(a),f=this.$VideoPlayerHTML5Oz3.getBool("use_oz_credentials_provider",!1)&&n(e);new(b("XHRRequest"))(e).setMethod("GET").setResponseType("text").setTransportBuilder(f?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport")).setErrorHandler(function(e){if(c.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)&&e&&e.errorRawResponseHeaders){var f=b("parseHeaders")(e.errorRawResponseHeaders);f=f["x-fb-video-replica"];if(f!=null){c.emit("replicaSwitch",{replica:parseInt(f,10),url:a,status:e.rawTransportStatus,timestamp:new Date().valueOf()});return}}d.reject(e?new(b("oz-player/utils/OzError"))({type:e.errorCode,description:e.errorMsg,extra:{code:e.errorRawTransportStatus,url:a}}):e);c.emit("initialLiveManifestRequestFailure",{url:a,status:e.errorRawTransportStatus});c.$VideoPlayerHTML5Oz27&&(c.$VideoPlayerHTML5Oz27.setError(e).log(),c.$VideoPlayerHTML5Oz27=null)}).setResponseHandler(Object.assign(function(b){c.$VideoPlayerHTML5Oz27&&(l(c.$VideoPlayerHTML5Oz27,a),c.$VideoPlayerHTML5Oz27&&c.$VideoPlayerHTML5Oz27.log(),c.$VideoPlayerHTML5Oz27=null),d.resolve(b)},{includeHeaders:!0})).send();return d.getPromise()};d.$VideoPlayerHTML5Oz46=function(a){var c=this,d=a.manifest,e=a.manifestUrl,f=a.loggerProviders,g=a.prefetchCache,h=a.initialRepresentations,k=a.videoID,l=a.width;a=a.height;var m=this.$VideoPlayerHTML5Oz50(),o=null;switch(this.$VideoPlayerHTML5Oz13){case"hd":case"HD":o="HD";break;case"sd":case"SD":o="SD";break;case"uhd":case"UHD":o="UHD";break}d=this.$VideoPlayerHTML5Oz4=new(b("oz-player"))({videoNodeOrQuickStarter:this.$VideoPlayerHTML5Oz1,config:this.$VideoPlayerHTML5Oz3,rawMpdXml:d,dimensions:{width:l,height:a},mpdUrl:e,customSegmentTimelineParser:this.$VideoPlayerHTML5Oz3.getBool("enable_predictive_dash",!1)?new(b("oz-player/parsers/OzPredictedSegmentTimelineParser"))():void 0,loggerConfig:{perfLoggerProviders:f,observedOperationLoggers:[],isOzDevConsoleEnabled:b("gkx")("722076")},prefetchCache:g,networkRequestStreamHandlers:[new(b("OzActiveActiveFailoverNetworkRequestStreamHandler"))(),new(b("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b){c.$VideoPlayerHTML5Oz30&&c.$VideoPlayerHTML5Oz30.handleHeaders(a,b)})],getShouldIncludeCredentials:this.$VideoPlayerHTML5Oz3.getBool("use_oz_credentials_provider",!1)?n:null,initialRepresentationIDs:h||[],customParsers:i(),entityKey:k,videoPlaybackRestrictions:b("getOzPlaybackRestrictions")(o,{keepLowestMosAboveUpperThresold:this.$VideoPlayerHTML5Oz3.getBool("keep_lowest_mos_above_upper_thresold",!1),mosUpperThreshold:this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0)}),customRepresentationParsers:j({ozConfig:this.$VideoPlayerHTML5Oz3,startTimestamp:this.$VideoPlayerHTML5Oz20}),videoAbrManagerFactory:this.$VideoPlayerHTML5Oz51(),seekHandler:this.$VideoPlayerHTML5Oz29,streamGoneHandler:this.$VideoPlayerHTML5Oz52(),initialPlaybackPositionForDynamicMpd:this.$VideoPlayerHTML5Oz39!=null&&this.$VideoPlayerHTML5Oz39>0?this.$VideoPlayerHTML5Oz39/1e3*-1:this.$VideoPlayerHTML5Oz3.getNumber("live_initial_playback_position",0),liveheadFallBehindBlockThreshold:this.$VideoPlayerHTML5Oz39!=null&&this.$VideoPlayerHTML5Oz39>0&&this.$VideoPlayerHTML5Oz40!=null&&this.$VideoPlayerHTML5Oz40>0?(this.$VideoPlayerHTML5Oz39+this.$VideoPlayerHTML5Oz40)/1e3:this.$VideoPlayerHTML5Oz3.getNumber("livehead_fall_behind_block_threshold",0),liveheadFallBehindBlockMargin:this.$VideoPlayerHTML5Oz39!=null&&this.$VideoPlayerHTML5Oz39>0?this.$VideoPlayerHTML5Oz39/2/1e3:this.$VideoPlayerHTML5Oz3.getNumber("live_time_range_block_margin",0),startTimeStamp:this.$VideoPlayerHTML5Oz3.getBool("fix_start_timestamp",!1)?this.$VideoPlayerHTML5Oz20||0:0,drmManagerModule:this.$VideoPlayerHTML5Oz34?this.$VideoPlayerHTML5Oz34.OzDrmManagerModule:null,drmProviders:m});!this.$VideoPlayerHTML5Oz3.getBool("cleanup_all_ozplayer_subscriptions",!1)?(d.onError(this.$VideoPlayerHTML5Oz49.bind(this)),d.addListener("destroyed",this.$VideoPlayerHTML5Oz53.bind(this)),d.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz54.bind(this)),d.addListener("streamEnd",this.$VideoPlayerHTML5Oz55.bind(this))):this.$VideoPlayerHTML5Oz12.addSubscriptions(d.onError(this.$VideoPlayerHTML5Oz49.bind(this)),d.addListener("destroyed",this.$VideoPlayerHTML5Oz53.bind(this)),d.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz54.bind(this)),d.addListener("streamEnd",this.$VideoPlayerHTML5Oz55.bind(this)));d.setupPlayer();this.$VideoPlayerHTML5Oz56();this.$VideoPlayerHTML5Oz57(d);this.$VideoPlayerHTML5Oz3.getBool("emit_cea_608_availability",!1)&&this.$VideoPlayerHTML5Oz58(d);this.$VideoPlayerHTML5Oz30&&this.$VideoPlayerHTML5Oz59(d);this.$VideoPlayerHTML5Oz3.getBool("update_seekable_range",!1)&&this.$VideoPlayerHTML5Oz60(d)};d.$VideoPlayerHTML5Oz60=function(a){var b=this;a=a.getMpd();this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("updated",function(){b.emit("seekRangeChanged")}))};d.$VideoPlayerHTML5Oz50=function(){var a=[];this.$VideoPlayerHTML5Oz34&&a.push(new this.$VideoPlayerHTML5Oz34.OzWidevineDrmProviderModule(this.$VideoPlayerHTML5Oz17,this.$VideoPlayerHTML5Oz37,this.$VideoPlayerHTML5Oz36,this.$VideoPlayerHTML5Oz35,this.$VideoPlayerHTML5Oz38));return a};d.$VideoPlayerHTML5Oz61=function(){var a=this;return this.$VideoPlayerHTML5Oz3.getBool("parse_cea_608",!1)?function(b,c){if(!a.$VideoPlayerHTML5Oz6||!a.$VideoPlayerHTML5Oz31)return;try{b=b.getCustomField("timescale")||0;if(!b||typeof b!=="number")return;a.emit("cea608CaptionsBytesReceived",{timescale:b,videoBytes:c})}catch(b){a.$VideoPlayerHTML5Oz49(b)}}:null};d.$VideoPlayerHTML5Oz45=function(a){if(this.$VideoPlayerHTML5Oz3.getBool("fix_representation_ended_timing",!1)&&(this.$VideoPlayerHTML5Oz1.paused||this.$VideoPlayerHTML5Oz1.seeking))return;if(!this.$VideoPlayerHTML5Oz4)return;a=this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$VideoPlayerHTML5Oz8){var b=this.$VideoPlayerHTML5Oz8;this.$VideoPlayerHTML5Oz8=a;b!=null&&this.emit("representation_ended",{representationID:b,nextRepresentationID:a})}};d.$VideoPlayerHTML5Oz56=function(){this.ispDASH()&&this.$VideoPlayerHTML5Oz3.setContext("latency_level","predictive")};d.$VideoPlayerHTML5Oz42=function(){var a=this,d=this.$VideoPlayerHTML5Oz3.getNumber("connection_quality_context_throttle_frequency",0);if(d===0)return;var e=function(){a.$VideoPlayerHTML5Oz3.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(c.getEstimatedBandwidth))};this.$VideoPlayerHTML5Oz12.addSubscriptions(b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b("throttle")(e,d)));e()};d.$VideoPlayerHTML5Oz52=function(){return this.$VideoPlayerHTML5Oz3.getBool("end_all_streams_on_stream_gone",!1)?function(a){return a.forEach(function(a){return a.endStream()})}:null};d.$VideoPlayerHTML5Oz49=function(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();(c.code==="417"||c.code==="200")&&c.headers&&c.headers.has("x-fb-video-replica")&&this.$VideoPlayerHTML5Oz3.getBool("enable_double_ingest",!1)?this.emit("replicaSwitch",{replica:parseInt(c.headers.get("x-fb-video-replica"),10),url:c.url,status:c.code,timestamp:new Date().valueOf()}):(this.emit("error",b("reportOzError")(a)),this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.destroy())}else this.emit("error",b("reportOzError")(a))};d.$VideoPlayerHTML5Oz55=function(){this.$VideoPlayerHTML5Oz28=!0};d.$VideoPlayerHTML5Oz53=function(){this.$VideoPlayerHTML5Oz4=null};d.$VideoPlayerHTML5Oz54=function(a){this.emit("debug/dashPlayerEvent",a.detail)};d.$VideoPlayerHTML5Oz62=function(){var a=1;return this.$VideoPlayerHTML5Oz24!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz24)<a||this.$VideoPlayerHTML5Oz25!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz25)<a?!0:!1};d.$VideoPlayerHTML5Oz43=function(a){this.$VideoPlayerHTML5Oz62()||(this.$VideoPlayerHTML5Oz22=!0,this.emit("bufferingStart"),this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz10=this.$VideoPlayerHTML5Oz9.getOperationLogger("buffering").setType(a))),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz63()};d.$VideoPlayerHTML5Oz44=function(){(!this.$VideoPlayerHTML5Oz3.getBool("buffer_end_only_when_buffering",!1)||this.$VideoPlayerHTML5Oz22)&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null),this.$VideoPlayerHTML5Oz22=!1),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz64()};d.$VideoPlayerHTML5Oz63=function(){this.$VideoPlayerHTML5Oz5==null&&(this.$VideoPlayerHTML5Oz5=this.$VideoPlayerHTML5Oz1.playbackRate),this.$VideoPlayerHTML5Oz1.playbackRate=0};d.$VideoPlayerHTML5Oz64=function(){this.$VideoPlayerHTML5Oz5&&(this.$VideoPlayerHTML5Oz1.playbackRate=this.$VideoPlayerHTML5Oz5),this.$VideoPlayerHTML5Oz5=null};d.$VideoPlayerHTML5Oz59=function(a){var b=this,c=a.getMpd();a=function(){if(b.$VideoPlayerHTML5Oz30){var a=c.getCustomField("loapStreamType");typeof a==="number"&&b.$VideoPlayerHTML5Oz30&&b.$VideoPlayerHTML5Oz30.setStreamType(a)}};a();this.$VideoPlayerHTML5Oz12.addSubscriptions(c.addListener("updated",a))};d.$VideoPlayerHTML5Oz58=function(a){var c=this,d=a.getMpd();a=function(){c.$VideoPlayerHTML5Oz32=!!d.getCustomField("hasInbandCaptionsFromUsingASRCaptions")||!!d.getCustomField("hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding")&&b("gkx")("1176251"),c.$VideoPlayerHTML5Oz65(!!d.getCustomField("hasInbandCaptionsFromAccessibility")||c.$VideoPlayerHTML5Oz32)};a();this.$VideoPlayerHTML5Oz12.addSubscriptions(d.addListener("updated",a))};d.$VideoPlayerHTML5Oz65=function(a){if(this.$VideoPlayerHTML5Oz6===a)return;this.$VideoPlayerHTML5Oz6=a;this.$VideoPlayerHTML5Oz6&&this.$VideoPlayerHTML5Oz4!=null&&this.$VideoPlayerHTML5Oz4.updatePlayerRunTimeConfig({videoStreamDataHandler:this.$VideoPlayerHTML5Oz61()});this.emit("cea608AvailabilityChanged")};d.$VideoPlayerHTML5Oz57=function(a){var b=this;a=a;if(!a)return;this.$VideoPlayerHTML5Oz3.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0&&this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("streamInterruptAt",function(a){b.$VideoPlayerHTML5Oz24=a,b.$VideoPlayerHTML5Oz22&&(b.emit("bufferingEnd"),b.$VideoPlayerHTML5Oz10&&(b.$VideoPlayerHTML5Oz10.log(),b.$VideoPlayerHTML5Oz10=null)),b.$VideoPlayerHTML5Oz66()}),a.addListener("streamResumedAt",function(a){b.$VideoPlayerHTML5Oz25=a,b.$VideoPlayerHTML5Oz23&&b.$VideoPlayerHTML5Oz67()}))};d.$VideoPlayerHTML5Oz66=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Oz22=!1,this.$VideoPlayerHTML5Oz23=!0,this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz11=this.$VideoPlayerHTML5Oz9.getOperationLogger("stream_interrupted"))};d.$VideoPlayerHTML5Oz67=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null),this.$VideoPlayerHTML5Oz23=!1};d.$VideoPlayerHTML5Oz51=function(){return this.$VideoPlayerHTML5Oz3.getBool("use_repomen_abr",!1)?function(a,c,d,e,f,g,h){return new(b("RepomenAbrManager"))(a,c,d,e,f,g,h)}:null};d.play=function(){this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.playStarted();return this.$VideoPlayerHTML5Oz1.play()};d.pause=function(){this.$VideoPlayerHTML5Oz1.pause()};d.reload=function(){if(this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)){this.$VideoPlayerHTML5Oz41();this.setup();return b("MaybeNativePromise").resolve()}return b("Promise").reject()};d.unload=function(){this.$VideoPlayerHTML5Oz12.release();this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null);this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null);this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.unload();this.$VideoPlayerHTML5Oz26=0;var a=b("Promise").resolve();this.$VideoPlayerHTML5Oz3.getBool("cleanup_buffering_detector_on_unload",!1)&&this.$VideoPlayerHTML5Oz7&&this.$VideoPlayerHTML5Oz7.destroy();this.$VideoPlayerHTML5Oz3.getBool("enable_abortload_and_reload",!1)&&(this.$VideoPlayerHTML5Oz44(),this.$VideoPlayerHTML5Oz4&&(a=this.$VideoPlayerHTML5Oz4.destroy(),this.$VideoPlayerHTML5Oz4=null));return a};d.getVideoStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a)};d.getAudioStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getAudioRepresentationIDAtTime(a)};d.getDashAudioConfiguration=function(){return""};d.getLocalEstimator=function(){return null};d.setDimensions=function(a,b){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setDimensions({width:a,height:b})};d.getLongestInitResponseTime=function(){return 0};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Oz5=a,this.$VideoPlayerHTML5Oz1.playbackRate=a};d.areInbandCaptionsExpected=function(){return this.$VideoPlayerHTML5Oz6};d.areInbandCaptionsAutogenerated=function(){return this.$VideoPlayerHTML5Oz32};d.setEnableInbandCaptionsParsing=function(a){this.$VideoPlayerHTML5Oz31=a};d.setPreferredVideoQuality=function(a){if(!this.$VideoPlayerHTML5Oz4)return;this.$VideoPlayerHTML5Oz4.switchToVideoQuality(a)};d.setVideoStreamOffset=function(a){};d.getSelectedVideoQuality=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getCurrentQuality()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.enableVideoQualityAdaptation()};d.getAvailableVideoQualities=function(){return k(this.$VideoPlayerHTML5Oz4?this.$VideoPlayerHTML5Oz4.getVideoQualities():[])};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Oz3.getBool("enable_adaptation",!1)&&!this.$VideoPlayerHTML5Oz33};d.canAutoSelectVideoQuality=function(){return!0};d.isDrm=function(){var a;this.$VideoPlayerHTML5Oz4&&(a=this.$VideoPlayerHTML5Oz4.isDrm());(a===void 0||a===null)&&this.$VideoPlayerHTML5Oz2&&(a=this.$VideoPlayerHTML5Oz2.indexOf("<ContentProtection")>=0);return a};d.setPreloadDisabled=function(a){};d.restoreStreamBufferSize=function(){};d.getDebug=function(){return{manifest:this.$VideoPlayerHTML5Oz2,DashPlayer:this.$VideoPlayerHTML5Oz4,AbrManager:this.$VideoPlayerHTML5Oz4?this.$VideoPlayerHTML5Oz4.getDebug().VideoAbrManager:null,BandwidthEstimator:b("oz-player/networks/OzBandwidthEstimator")}};d.getVideoProjection=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("fbProjection")};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!1};d.clearBufferAfterSeekingIfLowerQuality=function(a){};d.isFBIsLiveTemplated=function(){if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("isFBIsLiveTemplated");return!!a}return!1};d.isFBMS=function(){return!1};d.ispDASH=function(){var a;a=(a=this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.getMpd().getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()};d.isLiveheadCatchupEnabled=function(){return!1};d.getFbManifestIdentifier=function(){var a=this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("fbManifestIdentifier");return typeof a==="string"?a:""};d.getSeekableRanges=function(){if(this.$VideoPlayerHTML5Oz4){var a=this.$VideoPlayerHTML5Oz4.getMpd();a=a.getVideoRepresentations();if(a.length){a=a[0];a=a.getTimeRanges();if(a.length){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-this.$VideoPlayerHTML5Oz3.getNumber("live_rewind_seek_to_live_delta",8),c);return new(b("TimeRanges"))([{startTime:c,endTime:a}])}}}return null};d.refreshDashManifest=function(){return b("Promise").reject()};d.switchReplicaSet=function(a){var c=new(h||(h=b("URI")))(this.$VideoPlayerHTML5Oz14);c.addQueryData("replica",a);this.$VideoPlayerHTML5Oz14=c.toString()};d.getPlaybackRate=function(){return 1};d.getPlayerVersion=function(){return"oz"};d.getManifestUrl=function(){return this.$VideoPlayerHTML5Oz14};d.disableP2PPlayback=function(){};d.getBandwidthEstimate=function(){return c.getEstimatedBandwidth()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("Duration.react",["React","ServerTime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=500,i=1e3,j=60,k=60;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={duration:0};return b}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2()};d.componentWillUnmount=function(){b("clearTimeout")(this.$1)};d.$2=function(){var a=this,c;this.props.useLocalTime?c=Date.now():c=b("ServerTime").getMillis();this.setState({duration:Math.max(c-this.props.startTime,0)});this.$1=b("setTimeout")(function(){return a.$2()},h)};d.render=function(){var a=Math.floor(this.state.duration/i),b=a%j;a=Math.floor(a/j);var c=a%k;a=Math.floor(a/k);var d="";a>0&&(d=a+":");a=c+":";a.length<3&&d.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return g.jsxs("span",{children:[d,a,c]})};return c}(g.Component);a.defaultProps={useLocalTime:!1};e.exports=a}),null);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f){var g=3,h=14,i={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},j={SHORT:"SHORT",LONG:"LONG"};function a(a,c,d,e){d===void 0&&(d=j.SHORT);e===void 0&&(e=i.ROUND);d=b("IntlCompactDecimalNumberFormatConfig")[d==j.SHORT?"short_patterns":"long_patterns"];var f=a===0?0:Math.floor(Math.log10(Math.abs(a)));f>h&&(f=h);var l=k(a,f,c,e,d),m=l[0],n=l[1];l=l[2];if(l){f+=1;l=k(a,f,c,e,d);m=l[0];n=l[1];l[2]}e=b("FbtNumberType").getVariation(m)||b("IntlVariations").NUMBER_OTHER;l=f.toString();l=(d=d)!=null?(d=d[l])!=null?d[e.toString()]:d:d;if(!l||f<g||l.positive_prefix_pattern===""&&l.positive_suffix_pattern===""){e=c===void 0?0:c;return b("intlNumUtils").formatNumberWithThousandDelimiters(a,e)}return l&&l.min_integer_digits===0&&m===1?l.positive_prefix_pattern+l.positive_suffix_pattern:(l&&l.positive_prefix_pattern||"")+b("intlNumUtils").formatNumberWithThousandDelimiters(m,n)+(l&&l.positive_suffix_pattern||"")}function k(a,c,d,e,f){var g=c.toString();g=(f=f)!=null?(f=f[g])!=null?f[b("IntlVariations").NUMBER_OTHER.toString()]:f:f;f=g&&g.min_integer_digits||c+1;var j=c-f+1;j=Math.abs(a)/Math.pow(10,j);var k=d!=null;d=k?d:g&&g.min_fraction_digits;d==null&&(d=c>2?1:0);g=e==i.TRUNCATE?b("intlNumUtils").truncateLongNumber(j.toString(),d):j.toFixed(d);e=parseFloat(g)*(a<0?-1:1);return[e,e%1===0&&!k?0:d,g.length>f+(d>0?d+1:0)+(j>=0?0:1)&&c<h]}e.exports=a}),null);
__d("VideoConcurrentViewerCount.react",["ix","cx","fbt","Image.react","React","Tooltip","asset","intlSummarizeNumber","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.isAudio)return g("466773");else return g("406916")};d.render=function(){var a=this.props.viewerCount;if(!a)return k.jsx("div",{className:"_1jb_ _2z59"});var c=null;this.props.compact||(c=k.jsx(b("Image.react"),{className:"_5pf2",src:this.$1()}));var d=this.props.pageCount!=null&&this.props.pageCount>1?b("Tooltip").propsFor(i._({"*":"Total current viewers from this page and {number} others","_1":"Total current viewers from this page and 1 other"},[i._plural(this.props.pageCount-1,"number")]),"right"):{};return k.jsxs("div",babelHelpers["extends"]({className:this.props.style==null?"_1jb_"+(this.props.compact?" _3eca":""):(j||(j=b("stylex")))(this.props.style),"data-testid":void 0},d,{children:[c,b("intlSummarizeNumber")(a)]}))};return c}(k.Component);e.exports=a}),null);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","React","VideoConcurrentViewerCount.react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");(i||(i=b("stylex"))).inject(".i8dhgihx{background-color:rgba(0,0,0,.5)}",1);i.inject(".dl2p71xr{border-top-left-radius:4px}",1,".dl2p71xr{border-top-right-radius:4px}");i.inject(".h0c7ht3v{border-top-right-radius:4px}",1,".h0c7ht3v{border-top-left-radius:4px}");i.inject(".j8nb7h05{border-bottom-right-radius:4px}",1,".j8nb7h05{border-bottom-left-radius:4px}");i.inject(".gffp4m6x{border-bottom-left-radius:4px}",1,".gffp4m6x{border-bottom-right-radius:4px}");i.inject(".t0qzo8p7{color:#fff}",1);i.inject(".b6ax4al1{display:block}",1);i.inject(".c61n2bf6{font-size:0.875rem}",1);i.inject(".ihx95mk1{margin-top:12px}",1);i.inject(".j1v7989l{opacity:.99}",1);i.inject(".srn514ro{padding-top:0}",1);i.inject(".i5oewl5a{padding-right:6px}",1,".i5oewl5a{padding-left:6px}");i.inject(".rl78xhln{padding-bottom:0}",1);i.inject(".nnzkd6d7{padding-left:6px}",1,".nnzkd6d7{padding-right:6px}");var k={titleCVCIndicator:{backgroundColor:"i8dhgihx",borderTopStartRadius:"dl2p71xr",borderTopEndRadius:"h0c7ht3v",borderBottomEndRadius:"j8nb7h05",borderBottomStartRadius:"gffp4m6x",color:"t0qzo8p7",display:"b6ax4al1",fontSize:"c61n2bf6",marginTop:"ihx95mk1",opacity:"j1v7989l",paddingTop:"srn514ro",paddingEnd:"i5oewl5a",paddingBottom:"rl78xhln",paddingStart:"nnzkd6d7"}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.isPreview)return this.$1();var a=this.$2();a=this.$3(a);return j.jsxs("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":""),children:[a,j.jsx(b("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount,style:k.titleCVCIndicator})]})};d.$3=function(a){var c=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?j.jsx("span",{className:"_2nwf",children:j.jsx(b("Duration.react"),{startTime:this.props.startTime*b("DateConsts").MS_PER_SEC,useLocalTime:!0})}):null,d,e;this.props.inBeeper?(d="_60yg",e="_60yf"):this.props.isRewound?(d="_1dvf",e="_1dvg"):(d="_5pe-"+(this.props.isRehearsal?" _1dvf":""),e="_2wrk"+(this.props.isRehearsal?" _7bca":""));return a?j.jsx("div",{className:d,"data-testid":void 0,children:j.jsxs("span",{className:e,children:[a,c]})}):null};d.$2=function(){if(this.props.isBreakingNews)return h._("LIVE BREAKING");if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?h._("PREMIERE"):this.props.isLive?h._("LIVE"):null};d.$1=function(){return j.jsx("div",{className:"_5vj",children:j.jsx("div",{className:"_5vm",children:j.jsx("span",{className:"_5vo",children:h._("PREVIEW")})})})};return c}(j.PureComponent);e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={ACTIONS:{SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"}};e.exports=a}),null);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("LiveVideoPlayerConstants").ACTIONS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({})};d.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};d.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};d.$LiveVideoPlayerStore1=function(a,b){var c=this;a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return c.getIsRewound(a.getVideoPlayerID())});a.emit("LivePlayer/isRewoundChanged")};d.reduce=function(a,b){var c=this;switch(b.type){case g.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case g.SET_IS_REWOUND:var d=b.vpc,e=b.isRewound;a=a.setIn([d.getVideoPlayerID(),"isRewound"],e);setTimeout(function(){return c.$LiveVideoPlayerStore1(d,e)},0);d.setEnableLiveheadCatchup(!e);break;default:break}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoPlayerDispatcher"))}),null);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LiveVideoPlayerStore")]};c.calculateState=function(a,c){a=b("LiveVideoPlayerStore").getIsRewound(c.playerID);return{isRewound:a}};function c(c){c=a.call(this,c)||this;b("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")]);return c}var d=c.prototype;d.render=function(){return g.jsx(b("LiveVideoIndicator.react"),{inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoIndicatorContainerServerCallable.react",["DateConsts","FBJSON","LiveVideoIndicatorContainer.react","React","SubscriptionsHandler","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=3*b("DateConsts").MS_PER_SEC;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showElapsedTime:!1,viewerCount:c.props.viewerCount},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("VideoWithLiveBroadcast/viewCountChange",function(c){c=c.getAttribute("data-store");c=c?b("FBJSON").parse(c).viewerCount:null;a.setState({viewerCount:c})}),this.props.videoPlayerController.addListener("unifiedCVC/update",function(b){a.setState({viewerCount:b.c})}));this.props.showTimePop&&this.props.broadcastCreationTime&&this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("beginPlayback",function(){a.setState({showElapsedTime:!0});var c=b("setInterval")(function(){a.setState({showElapsedTime:!1}),b("clearInterval")(c)},h)}))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){return g.jsx(b("LiveVideoIndicatorContainer.react"),{inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,pageCount:this.props.pageCount,playerID:this.props.videoPlayerController.getVideoPlayerID(),showElapsedTime:this.state.showElapsedTime,startTime:this.props.broadcastCreationTime,textOverride:this.props.textOverride,viewerCount:this.state.viewerCount})};return c}(g.Component);e.exports=a}),null);