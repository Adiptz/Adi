if (self.CavalryLogger) { CavalryLogger.start_js(["Zo83j"]); }

__d("ReactComposerContextConfig",["ReactComposerContextTypes","prop-types"],(function(a,b,c,d,e,f){e.exports=b("prop-types").shape(b("ReactComposerContextTypes"))}),null);
__d("ShareDialogDataSources",["getObjectValues"],(function(a,b,c,d,e,f){a={ACTION:"actionSource",EVENT:"event",FUNDRAISER:"fundraiserSource",GROUP:"groupSource",MENTIONS:"mentionsSource",MESSAGE:"messageSource",OBJECT:"objectSource",PAGE:"pageSource",PERSON:"personSource",PERSON_WALL:"personWallSource",PLACE:"placeSource",STORY:"storySource"};var g=b("getObjectValues")(a);c=function(){"use strict";function a(){this.$1={},this.$1={}}var b=a.prototype;b.addSource=function(a,b){g.some(function(b){return a===b})&&(this.$1[a]=b);return this};b.getSource=function(a){return this.$1[a]};return a}();c.TYPES=a;e.exports=c}),null);
__d("ShareDialogAudience.react",["cx","Bootloader","MercuryConfig","React","ReactComposerContextTypes","ShareDialogAudienceTypes","ShareDialogDataSources","SubscriptionsHandler","createReactClass_DEPRECATED","prop-types","emptyFunction"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("ShareDialogDataSources").TYPES,j,k,l,m,n,o,p;c=b("createReactClass_DEPRECATED")({displayName:"ShareDialogAudience",_subscriptionsHandler:b("SubscriptionsHandler"),contextTypes:b("ReactComposerContextTypes"),propTypes:{activeAudience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.activeAudience))return new Error("The active audience is invalid.")},customModules:(a=b("prop-types")).shape({groupsAudience:a.arrayOf(a.func)}),sentEntryID:a.string,errorEntryID:a.string,messageTargets:a.array,lockMessageTargets:a.bool,userId:a.string,dataSources:a.instanceOf(b("ShareDialogDataSources")),onClear:a.func,onChange:a.func,onPost:a.func,hideShareDialog:a.func,defaultEventTargetID:a.string,defaultPageTargetID:a.string,defaultPageActorID:a.string,defaultGroupTargetID:a.string,defaultFundraiserTargetID:a.string,pageAudienceSelectorDisabled:a.bool,preselectedID:a.string,preselectedTitle:a.string,enableGroupVoiceSwitcher:a.bool,showGroupVoiceSwitcherFirst:a.bool,hidePagePostingAs:a.bool,isOldForwardFlow:a.bool,setSectionName:a.func,maybeLogEvent:a.func},getDefaultProps:function(){return{customModules:{},dataSources:new(b("ShareDialogDataSources"))(),onClear:b("emptyFunction"),onChange:b("emptyFunction")}},getInitialState:function(){return{bootloaded:!1,bootloading:!1}},componentDidMount:function(){this._subscriptionsHandler=new(b("SubscriptionsHandler"))();if(!this.state.bootloading&&!this.state.bootloaded){this.setState({bootloading:!0});var a=b("Bootloader").loadModules(["ShareDialogMessageAudience.react","ShareDialogGroupAudience.react","ShareDialogGroupAudienceV2.react","ShareDialogEventAudience.react","ShareDialogPersonAudience.react","ShareDialogPageAudience.react","ShareDialogFundraiserAudience.react"],function(a,b,c,d,e,f,g){j=a,k=b,l=c,m=d,n=e,o=f,p=g,this.setState({bootloading:!1,bootloaded:!0})}.bind(this),"ShareDialogAudience.react");this._subscriptionsHandler.addSubscriptions(a)}},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release(),delete this._subscriptionsHandler},render:function(){if(this.state.bootloaded){var a=this.props.dataSources;if(a.getSource(i.MESSAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE)return h.jsx(j,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,onPost:this.props.onPost,ref:this.props.ref,messageTargets:this.props.messageTargets,lockMessageTargets:this.props.lockMessageTargets,sentEntryID:this.props.sentEntryID,errorEntryID:this.props.errorEntryID,isOldForwardFlow:this.props.isOldForwardFlow,hideShareDialog:this.props.hideShareDialog,setSectionName:this.props.setSectionName,maybeLogEvent:this.props.maybeLogEvent});if(a.getSource(i.PERSON_WALL)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PERSON)return h.jsx(n,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,preselectedID:this.props.preselectedID,preselectedTitle:this.props.preselectedTitle,ref:this.props.ref,searchSource:a.getSource(i.PERSON_WALL),lockPersonTargets:this.props.lockPersonTargets});if(a.getSource(i.GROUP)&&this.props.activeAudience===b("ShareDialogAudienceTypes").GROUP){var c=this.props.customModules?this.props.customModules.groupsAudience:null;return this.props.showGroupVoiceSwitcherFirst?h.jsx(l,{defaultActorID:this.props.userId,onChange:this.props.onChange}):h.jsx(k,{customModules:c,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(i.GROUP),pagesSource:a.getSource(i.PAGE),defaultGroupID:this.props.defaultGroupTargetID,userId:this.props.userId,enableGroupVoiceSwitcher:this.props.enableGroupVoiceSwitcher,showGroupVoiceSwitcherFirst:this.props.showGroupVoiceSwitcherFirst})}if(a.getSource(i.EVENT)&&this.props.activeAudience===b("ShareDialogAudienceTypes").EVENT)return h.jsx(m,{defaultEventID:this.props.defaultEventTargetID,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(i.EVENT)});if(a.getSource(i.PAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE)return h.jsx(o,{disabled:this.props.pageAudienceSelectorDisabled,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,pagesSource:a.getSource(i.PAGE),defaultPageID:this.props.defaultPageTargetID,defaultActorID:this.props.defaultPageActorID,hidePostingAs:this.props.hidePagePostingAs});if(a.getSource(i.FUNDRAISER)&&this.props.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER)return h.jsx(p,{defaultFundraiserID:this.props.defaultFundraiserTargetID,onChange:this.props.onChange,ref:this.props.ref,source:a.getSource(i.FUNDRAISER)})}return this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&b("MercuryConfig").MNNSS?h.jsx("div",{className:"_6waq"}):h.jsx("noscript",{})}});e.exports=c;e.exports.TYPES=b("ShareDialogAudienceTypes")}),null);
__d("ShareDialogAudienceText.react",["fbt","React","ShareDialogAudienceTypes","ShareDialogConfig","prop-types","qex"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.audience){case b("ShareDialogAudienceTypes").STORY:return g._("Share to Your Story");case b("ShareDialogAudienceTypes").OWN:return this.props.enableShareSheet?g._("Share to News Feed or Story"):g._("Share on Your Timeline");case b("ShareDialogAudienceTypes").PERSON:return g._("Share on a Friend's Timeline");case b("ShareDialogAudienceTypes").GROUP:return g._("Share in a Group");case b("ShareDialogAudienceTypes").EVENT:return g._("Share in an Event");case b("ShareDialogAudienceTypes").PAGE:return g._("Share on a Page You Manage");case b("ShareDialogAudienceTypes").FUNDRAISER:return g._("Share on Your Fundraiser");case b("ShareDialogAudienceTypes").MESSAGE:if(b("ShareDialogConfig").share_in_separate_messages)return g._("Share in Separate Messages");else return g._("Share in a Private Message");default:return h.jsx("noscript",{})}};d.render=function(){return h.jsx("span",babelHelpers["extends"]({},this.props,{children:this.$1()}))};return c}(h.Component);a.propTypes={audience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.audience))return new Error("The audience is invalid.")},enableShareSheet:b("prop-types").bool};a.defaultProps={audience:b("ShareDialogAudienceTypes").OWN,enableShareSheet:!1};e.exports=a}),null);
__d("ShareDialogAudienceSelector.react",["cx","React","ShareDialogAudienceText.react","ShareDialogAudienceTypes","XUIMenuSeparator.react","XUISelector.react","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("XUISelector.react").Option;a="react_share_dialog_audience_selector";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activeAudience:c.props.activeAudience},c.onChange=function(a){c.setState({activeAudience:a.value}),c.props.onAudienceSelect(a.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({activeAudience:a.activeAudience})};d.render=function(){var a=this.props.allowedAudiences,c=[];if(a.length==1)return h.jsx("div",{className:"_94t _1nb1",children:h.jsx("div",{className:"_42ym _41kd",children:h.jsx(b("ShareDialogAudienceText.react"),{audience:this.props.activeAudience,shareType:this.props.shareType})})});a.includes(b("ShareDialogAudienceTypes").STORY)&&c.push(h.jsx(i,{className:"_42ym _7l_8",value:b("ShareDialogAudienceTypes").STORY,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").STORY,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").STORY));a.includes(b("ShareDialogAudienceTypes").OWN)&&c.push(h.jsx(i,{className:"_42ym _42yn",value:b("ShareDialogAudienceTypes").OWN,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").OWN,"data-testid":void 0,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").OWN));a.includes(b("ShareDialogAudienceTypes").PERSON)&&c.push(h.jsx(i,{className:"_42ym _42yp",value:b("ShareDialogAudienceTypes").PERSON,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PERSON,"data-testid":void 0})},b("ShareDialogAudienceTypes").PERSON));a.includes(b("ShareDialogAudienceTypes").GROUP)&&c.push(h.jsx(i,{className:"_42ym _2n3i",value:b("ShareDialogAudienceTypes").GROUP,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").GROUP,"data-testid":void 0})},b("ShareDialogAudienceTypes").GROUP));a.includes(b("ShareDialogAudienceTypes").EVENT)&&c.push(h.jsx(i,{className:"_42ym _18sr",value:b("ShareDialogAudienceTypes").EVENT,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").EVENT,"data-testid":void 0})},b("ShareDialogAudienceTypes").EVENT));a.includes(b("ShareDialogAudienceTypes").PAGE)&&c.push(h.jsx(i,{className:"_42ym _42y_",value:b("ShareDialogAudienceTypes").PAGE,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PAGE,"data-testid":void 0})},b("ShareDialogAudienceTypes").PAGE));a.includes(b("ShareDialogAudienceTypes").FUNDRAISER)&&c.push(h.jsx(i,{className:"_42ym _1a7k",value:b("ShareDialogAudienceTypes").FUNDRAISER,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").FUNDRAISER,"data-testid":void 0})},b("ShareDialogAudienceTypes").FUNDRAISER));a.includes(b("ShareDialogAudienceTypes").MESSAGE)&&(c.length>0&&c.push(h.jsx(b("XUIMenuSeparator.react"),{},"separator")),c.push(h.jsx(i,{className:"_42ym _42z0",value:b("ShareDialogAudienceTypes").MESSAGE,children:h.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").MESSAGE,shareType:this.props.shareType,"data-testid":void 0})},b("ShareDialogAudienceTypes").MESSAGE)));a="_94t"+(this.state.activeAudience===b("ShareDialogAudienceTypes").OWN?" _47xt":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PERSON?" _47xu":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").GROUP?" _47xv":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").EVENT?" _18ss":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PAGE?" _47xw":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER?" _2afb":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE?" _47xx":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").STORY?" _7l_9":"");return h.jsx(b("XUISelector.react"),{maxwidth:400,className:a,defaultValue:this.state.activeAudience,name:"mode",onChange:this.onChange,"data-testid":void 0,children:c})};return c}(h.Component);c.propTypes={allowedAudiences:function(a){if(!a.allowedAudiences.every(function(a){return b("ShareDialogAudienceTypes").isValid(a)}))return new Error("The allowed audiences are not valid.")},activeAudience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.activeAudience)||!a.allowedAudiences.some(function(b){return b===a.activeAudience}))return new Error("The active audience is either invalid or not included in the allowed audience list.")},onAudienceSelect:b("prop-types").func,enableShareSheet:b("prop-types").bool};c.defaultProps={onAudienceSelect:b("emptyFunction"),activeAudience:b("ShareDialogAudienceTypes").OWN,allowedAudiences:b("ShareDialogAudienceTypes").ALL,enableShareSheet:!1};e.exports=c}),null);
__d("ExternalWebShareDialogAudienceHeader.react",["cx","fbt","Arbiter","CurrentUser","ExternalWebShareDialogObserver","React","ReactComposerContextConfig","ReactComposerContextProviderMixin","ShareDialogAudience.react","ShareDialogAudienceSelector.react","ShareDialogAudienceTypes","ShareDialogDataSources","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ExternalWebShareDialogAudienceHeader",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,dataSources:(a=b("prop-types")).shape({friend:a.object,page:a.object,group:a.object.isRequired,fundraiser:a.array}).isRequired,audience:a.oneOf(Object.keys(b("ShareDialogAudienceTypes")).map(function(a){return b("ShareDialogAudienceTypes")[a]})),disableMessage:a.bool,targetTitle:a.string,onChange:a.func,onAudienceSelect:a.func,defaultEventTargetID:a.string,defaultGroupTargetID:a.string,defaultFundraiserTargetID:a.string,defaultPageActorID:a.string,defaultPageTargetID:a.string,hidePagePostingAs:a.bool,enableShareSheet:a.bool},getDefaultProps:function(){return{audience:b("CurrentUser").isWorkUser()?b("ShareDialogAudienceTypes").GROUP:b("ShareDialogAudienceTypes").OWN,disableMessage:!1}},getInitialState:function(){var a,c=this.props.dataSources,d=this.props.contextConfig.actorID,e=this.props.contextConfig.targetID;a={audience:this.props.audience,audienceDataSources:new(a=b("ShareDialogDataSources"))().addSource(a.TYPES.PERSON_WALL,c.friend).addSource(a.TYPES.GROUP,c.group).addSource(a.TYPES.EVENT,c.event).addSource(a.TYPES.PAGE,c.page).addSource(a.TYPES.FUNDRAISER,c.fundraiser).addSource(a.TYPES.MESSAGE,c.friend||c.message),disableMessage:this.props.disableMessage};d&&this.props.audience===b("ShareDialogAudienceTypes").PAGE?(a.audienceTargets=[d],a.actorId=d):e&&(a.audienceTargets=[e],a.targetTitle=this.props.targetTitle);return a},getCurrentAudience:function(){var a=this.state.audienceTargets;a||(a=[this.props.contextConfig.actorID]);return{audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId}},UNSAFE_componentWillMount:function(){var a=this;b("Arbiter").subscribe("isQuoteSet",function(b,c){a.setState({disableMessage:c})})},_onAudienceSelect:function(a){b("ExternalWebShareDialogObserver").setUserInfoVisibility({hide:a===b("ShareDialogAudienceTypes").PAGE}),this.setState({audience:a,audienceTargets:null,actorId:null,targetTitle:null}),this.props.onAudienceSelect&&this.props.onAudienceSelect(a)},_onChangeAudienceTargets:function(a){this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.setState({audienceTargets:[a[0].pageId],actorId:a[0].actorId}):this.setState({audienceTargets:a,actorId:null});if(this.props.onChange){a||(a=[this.props.contextConfig.actorID]);a={audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId};this.props.onChange(a)}},_onClearAudienceTargets:function(){this.setState({audienceTargets:null})},render:function(){var a,c;(a=b("ExternalWebShareDialogObserver")).setHidePrivacy({hide:this.state.audience!==(c=b("ShareDialogAudienceTypes")).OWN});a.setDisableFeedCheckBox({disable:this.state.audience!==c.OWN});a.setDisableStoryCheckBox({disable:this.state.audience!==c.OWN});a.setDisableDestinationRow({disable:this.state.audience!==c.OWN});if(this.state.audience===b("ShareDialogAudienceTypes").OWN)a=null;else{c=null;var d=null,e=null,f=null;this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.props.defaultPageTargetID?c=this.props.defaultPageTargetID:this.state.audienceTargets&&(c=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").EVENT?this.props.defaultEventTargetID?d=this.props.defaultEventTargetID:this.state.audienceTargets&&(d=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").GROUP?this.props.defaultGroupTargetID?e=this.props.defaultGroupTargetID:this.state.audienceTargets&&(e=this.state.audienceTargets[0]):this.state.audienceTargets&&this.state.targetTitle&&(f=this.state.audienceTargets[0]);a=i.jsx("div",{children:i.jsx(b("ShareDialogAudience.react"),{activeAudience:this.state.audience,dataSources:this.state.audienceDataSources,onChange:this._onChangeAudienceTargets,onClear:this._onClearAudienceTargets,defaultPageTargetID:c,defaultPageActorID:this.props.defaultPageActorID,defaultEventTargetID:d,defaultGroupTargetID:e,defaultFundraiserTargetID:this.props.defaultFundraiserTargetID,preselectedID:f,preselectedTitle:this.state.targetTitle,userId:this.props.contextConfig.actorID,hidePagePostingAs:this.props.hidePagePostingAs,isOldForwardFlow:!0})})}if(this.state.audience===b("ShareDialogAudienceTypes").MESSAGE)b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!0}),b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:h._("Send Message")});else{b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!1});c=b("CurrentUser").isWorkUser()?h._("Post to Workplace"):h._("Post to Facebook");b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:c})}b("ExternalWebShareDialogObserver").setDisableSubmitButton({disable:this.state.audience!==b("ShareDialogAudienceTypes").OWN&&(!Array.isArray(this.state.audienceTargets)||this.state.audienceTargets.length===0)});d=[b("ShareDialogAudienceTypes").OWN,b("ShareDialogAudienceTypes").GROUP];this.props.dataSources.friend&&d.push(b("ShareDialogAudienceTypes").PERSON);this.props.dataSources.page&&d.push(b("ShareDialogAudienceTypes").PAGE);this.props.dataSources.fundraiser&&d.push(b("ShareDialogAudienceTypes").FUNDRAISER);this.props.dataSources.event&&d.push(b("ShareDialogAudienceTypes").EVENT);this.state.disableMessage||d.push(b("ShareDialogAudienceTypes").MESSAGE);return i.jsxs("div",{"data-testid":void 0,children:[i.jsx("div",{className:"_kz1"+(this.props.hidePagePostingAs?"":" _125y"),children:i.jsx(b("ShareDialogAudienceSelector.react"),{activeAudience:this.state.audience,onAudienceSelect:this._onAudienceSelect,allowedAudiences:d,enableShareSheet:this.props.enableShareSheet})}),a,i.jsx("input",{type:"hidden",name:"audience_targets",value:this.state.audienceTargets}),i.jsx("input",{type:"hidden",name:"av",value:this.state.actorId})]})}});e.exports=c}),null);