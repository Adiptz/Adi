if (self.CavalryLogger) { CavalryLogger.start_js(["tD+bW"]); }

__d("AdsVideoCaptionUpdatePreviewDataReducerPlugin",["gkx"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){c=c.timestamp!=null?c.timestamp:Date.now();return!b("gkx")("677945")?a:a.set("lastForceUpdateTimeStamp",c)}};e.exports=a}),null);
__d("AdsVideoToastCardsUploadStartReducerPlugin",["AdsUEditorHostIDs","AdsVideoUploadStatus","AdsVideoUploadToastCardUtils","gkx"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.editingVideo===!0&&c.hostID===b("AdsUEditorHostIDs").CREATION?a:a.length===0||b("gkx")("1106134")?b("AdsVideoUploadToastCardUtils").createToastCard(a,"progress",c.title!=null&&c.title!==""?c.title:null,null,c.context&&c.context.videoBackgroundUploadInfo,0,b("AdsVideoUploadStatus").UPLOADING):a}};e.exports=a}),null);
__d("VideoAdsCreationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoAdsCreationLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoAdsCreationLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoAdsCreationLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdAccountID=function(a){this.$1.ad_account_id=a;return this};c.setAdsCreateSessionKey=function(a){this.$1.ads_create_session_key=a;return this};c.setAPIAdFormat=function(a){this.$1.api_ad_format=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setChunkBandwidth=function(a){this.$1.chunk_bandwidth=a;return this};c.setChunkSize=function(a){this.$1.chunk_size=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComposerEntryPointRef=function(a){this.$1.composer_entry_point_ref=a;return this};c.setConnectionClass=function(a){this.$1.connection_class=a;return this};c.setCopyConversionOptions=function(a){this.$1.copy_conversion_options=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCreatorProduct=function(a){this.$1.creator_product=a;return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setElapsedTime=function(a){this.$1.elapsed_time=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorDescription=function(a){this.$1.error_description=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorInner=function(a){this.$1.error_inner=a;return this};c.setErrorInnerCode=function(a){this.$1.error_inner_code=a;return this};c.setErrorInnerDescription=function(a){this.$1.error_inner_description=a;return this};c.setErrorTrace=function(a){this.$1.error_trace=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasFileBeenReplaced=function(a){this.$1.has_file_been_replaced=a;return this};c.setIsSpherical=function(a){this.$1.is_spherical=a;return this};c.setNewCampaignID=function(a){this.$1.new_campaign_id=a;return this};c.setNewObjective=function(a){this.$1.new_objective=a;return this};c.setNewObjectiveStr=function(a){this.$1.new_objective_str=a;return this};c.setNewOptimizationGoal=function(a){this.$1.new_optimization_goal=a;return this};c.setNewOptimizationGoalStr=function(a){this.$1.new_optimization_goal_str=a;return this};c.setOldCampaignID=function(a){this.$1.old_campaign_id=a;return this};c.setOldObjective=function(a){this.$1.old_objective=a;return this};c.setOldObjectiveStr=function(a){this.$1.old_objective_str=a;return this};c.setOldOptimizationGoal=function(a){this.$1.old_optimization_goal=a;return this};c.setOldOptimizationGoalStr=function(a){this.$1.old_optimization_goal_str=a;return this};c.setOriginalFileSize=function(a){this.$1.original_file_size=a;return this};c.setPassedDuplicationGks=function(a){this.$1.passed_duplication_gks=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setRequestManagerState=function(a){this.$1.request_manager_state=a;return this};c.setRetries=function(a){this.$1.retries=a;return this};c.setServerResponse=function(a){this.$1.server_response=a;return this};c.setServerRetries=function(a){this.$1.server_retries=a;return this};c.setSourceHeight=function(a){this.$1.source_height=a;return this};c.setSourceType=function(a){this.$1.source_type=a;return this};c.setSourceWidth=function(a){this.$1.source_width=a;return this};c.setSpinnerID=function(a){this.$1.spinner_id=a;return this};c.setSpinnerName=function(a){this.$1.spinner_name=a;return this};c.setSpinnerSource=function(a){this.$1.spinner_source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTriggerTime=function(a){this.$1.trigger_time=a;return this};c.setUploadDomain=function(a){this.$1.upload_domain=a;return this};c.setUploadMethod=function(a){this.$1.upload_method=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWaterfallID=function(a){this.$1.waterfall_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={ad_account_id:!0,ads_create_session_key:!0,api_ad_format:!0,app_id:!0,chunk_bandwidth:!0,chunk_size:!0,clienttime:!0,composer_entry_point_ref:!0,connection_class:!0,copy_conversion_options:!0,creator_product:!0,duration:!0,elapsed_time:!0,error:!0,error_code:!0,error_description:!0,error_domain:!0,error_inner:!0,error_inner_code:!0,error_inner_description:!0,error_trace:!0,event:!0,has_file_been_replaced:!0,is_spherical:!0,new_campaign_id:!0,new_objective:!0,new_objective_str:!0,new_optimization_goal:!0,new_optimization_goal_str:!0,old_campaign_id:!0,old_objective:!0,old_objective_str:!0,old_optimization_goal:!0,old_optimization_goal_str:!0,original_file_size:!0,passed_duplication_gks:!0,request_manager_state:!0,retries:!0,server_response:!0,server_retries:!0,source_height:!0,source_type:!0,source_width:!0,spinner_id:!0,spinner_name:!0,spinner_source:!0,time:!0,trigger_time:!0,upload_domain:!0,upload_method:!0,vc:!0,video_id:!0,waterfall_id:!0,weight:!0};e.exports=a}),null);
__d("AdsVideoUploadStartReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c;if(b.instagramStoryID!=null&&b.instagramStoryID!=="")c=b.instagramStoryID;else if(b.sourceInstagramMediaID!=null&&b.sourceInstagramMediaID!=="")c=b.sourceInstagramMediaID;else return a;var d=a.uploadingCarouselVideoChildrenCount,e=!1;b.childVideoSourceInstagramMediaID!=null&&b.childVideoSourceInstagramMediaID!==""&&(e=!0);return a.merge({currentStoryID:c,errorMessage:null,isCarousel:e,isProcessing:!0,uploadedVideoID:null,uploadingCarouselVideoChildrenCount:e?d+1:0})}};e.exports=a}),null);
__d("AdsVideoFilterReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},b.query,{sort:a.param.sort,title:a.param.title}))}};e.exports=a}),null);
__d("AdsVideoOpenVideoPickerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{shouldOpenPicker:!1})}};e.exports=a}),null);
__d("AdsVideoSearchReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},a.param,{title:b.query}))}};e.exports=a}),null);
__d("AdsVideoSortReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},a.param,{sort:b.query}))}};e.exports=a}),null);
__d("AdsVideoToastCardsCancelUploadReducerPlugin",["AdsVideoUploadToastCardUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(a)}};e.exports=a}),null);
__d("AdsVideoUploadCancelReducerPlugin",["AdsInstagramVideoUploaderDataProvider"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsInstagramVideoUploaderDataProvider").getInitialState()}};e.exports=a}),null);
__d("VideoAdCreationLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLIENT_UPLOAD_SCENARIO_STARTED:"upload.client.scenario_start",CLIENT_UPLOAD_SCENARIO_SUCCESS:"upload.client.scenario_success",CLIENT_UPLOAD_SCENARIO_FAILED:"upload.client.scenario_failed",CLIENT_UPLOAD_SCENARIO_CANCELLED:"upload.client.scenario_cancelled",CLIENT_ENCODE_SCENARIO_SUCCESS:"encode.client.scenario_success",CLIENT_UPLOAD_SPINNER_STARTED:"upload.client.spinner_start",CLIENT_UPLOAD_SPINNER_FINISHED:"upload.client.spinner_finished",CLIENT_UPLOAD_DISPATCH_STARTED:"upload.client.action_dispatch_started",CLIENT_UPLOAD_DISPATCH_FINISHED:"upload.client.action_dispatch_finished",CLIENT_STARTED_FLOW:"upload.client.started_flow",CLIENT_FINISHED_FLOW:"upload.client.finished_flow",CLIENT_FAILED_FLOW:"upload.client.failed_flow",CLIENT_CANCELED_FLOW:"upload.client.canceled_flow",CLIENT_PAUSED_FLOW:"upload.client.paused_flow",CLIENT_RESIGNED_FLOW:"upload.client.resigned_flow",CLIENT_INCOMPLETE_FLOW:"upload.client.incomplete_flow",CLIENT_REQUESTED_CANCEL_FLOW:"upload.client.requested_cancel_flow",CLIENT_RESUMABLE_CALLED:"upload.client.resumable_called",CLIENT_RESUMABLE_STARTED:"upload.client.resumable_started",CLIENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",CLIENT_RESUMABLE_FAILED:"upload.client.resumable_failed",CLIENT_STORY_FETCH_FINISHED:"upload.client.finished_story_fetch",CLIENT_STORY_FETCH_FAILED:"upload.client.failed_story_fetch",CLIENT_STORY_FETCH_TIMEDOUT:"upload.client.timedout_story_fetch",CLIENT_FINISHED_SERVER_PROCESSING:"upload.client.finished_server_processing",CLIENT_FAILED_SERVER_PROCESSING:"upload.client.failed_server_processing",CLIENT_FETCH_STATUS_START:"upload.client.started_fetching_status",CLIENT_FETCH_STATUS_SUCCESS:"upload.client.finished_fetching_status",CLIENT_FETCH_STATUS_FAILURE:"upload.client.failed_fetching_status",CLIENT_FETCH_STATUS_CANCEL:"upload.client.cancelled_fetching_status",CLIENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",CLIENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",CLIENT_STARTED_UPLOADING:"upload.client.started_uploading",CLIENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",CLIENT_RESTARTED_UPLOADING:"upload.client.restarted_uploading",CLIENT_FINISHED_UPLOADING:"upload.client.finished_uploading",CLIENT_FAILED_UPLOADING:"upload.client.failed_uploading",CLIENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",CLIENT_PAUSED_UPLOADING:"upload.client.paused_uploading",CLIENT_RESUMED_UPLOADING:"upload.client.resumed_uploading",CLIENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",CLIENT_STARTED_SENDING_START_REQUEST:"upload.client.started_sending_start_request",CLIENT_FINISHED_SENDING_START_REQUEST:"upload.client.finished_sending_start_request",CLIENT_FAILED_SENDING_START_REQUEST:"upload.client.failed_sending_start_request",CLIENT_CANCELED_START_REQUEST:"upload.client.canceled_sending_start_request",CLIENT_SKIPPED_SENDING_BYTES:"upload.client.skipped_sending_bytes",CLIENT_ENQUEUED_SENDING_BYTES:"upload.client.enqueued_sending_bytes",CLIENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",CLIENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",CLIENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",CLIENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",CLIENT_ENQUEUED_SENDING_CHUNK_BYTES:"upload.client.enqueued_sending_chunk_bytes",CLIENT_STARTED_SENDING_RECEIVE_REQUEST:"upload.client.started_sending_receive_request",CLIENT_FINISHED_SENDING_RECEIVE_REQUEST:"upload.client.finished_sending_receive_request",CLIENT_FAILED_SENDING_RECEIVE_REQUEST:"upload.client.failed_sending_receive_request",CLIENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",CLIENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",CLIENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",CLIENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",CLIENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",CLIENT_STARTED_SENDING_POST_REQUEST:"upload.client.started_sending_post_request",CLIENT_FINISHED_SENDING_POST_REQUEST:"upload.client.finished_sending_post_request",CLIENT_FAILED_SENDING_POST_REQUEST:"upload.client.failed_sending_post_request",CLIENT_UPLOAD_USER_REQUEST_NON_SPHERICAL:"upload.client.user_request_non_spherical",CLIENT_SHADOW_NON_SPHERICAL_VIDEO_UPLOAD_SUCCESS:"upload.client.shadow_non_spherical_video_upload_success",CLIENT_SHADOW_NON_SPHERICAL_VIDEO_ENCODE_SUCCESS:"encode.client.shadow_non_spherical_video_encode_success",CLIENT_SHADOW_NON_SPHERICAL_VIDEO_UPLOAD_FAILED:"upload.client.shadow_non_spherical_video_upload_failed",CLIENT_LINK_SHADOW_NON_SPHERICAL_VIDEO:"client.link.shadow_non_spherical_video",SERVER_STARTED_PROCESSING_REQUEST:"upload.server.started_processing_request",SERVER_FINISHED_PROCESSING_REQUEST:"upload.server.finished_processing_request",SERVER_RECEIVED_REQUEST:"upload.server.received_request",SERVER_FAILED_REQUEST:"upload.server.failed_request",EVENT_HANDLING_SERVER_FAILURE_RESPONSE:"upload.client.handling_server_failure_response",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_ENCODING_ABORT_OBSERVED:"encode.client.encoding_abort_observed",EVENT_ENCODE_SUBSCRIBE_VIDEO_STATUS:"encode.client.subscribe_to_video_status",EVENT_FETCH_FAIL_OBSERVED:"encode.client.fetch_video_info_fail_observed",EVENT_ENCODING_POLLING_FALLBACK:"encode.client.polling_fallback",STARTED_PROCESSING_START_REQUEST:"upload.server.started_processing_start_request",FINISHED_PROCESSING_START_REQUEST:"upload.server.finished_processing_start_request",FAILED_PROCESSING_START_REQUEST:"upload.server.failed_processing_start_request",STARTED_PROCESSING_RECEIVE_REQUEST:"upload.server.started_processing_receive_request",FINISHED_PROCESSING_RECEIVE_REQUEST:"upload.server.finished_processing_receive_request",FAILED_PROCESSING_RECEIVE_REQUEST:"upload.server.failed_processing_receive_request",SERVER_RECEIVED_POST_REQUEST:"upload.server.server_received_post_request",STARTED_PROCESSING_POST_REQUEST:"upload.server.started_processing_post_request",FINISHED_PROCESSING_POST_REQUEST:"upload.server.finished_processing_post_request",FAILED_PROCESSING_POST_REQUEST:"upload.server.failed_processing_post_request",EXCEPTION_IN_POST_REQUEST:"upload.server.exception_in_post_request",STARTED_PROCESSING_CANCEL_REQUEST:"upload.server.started_processing_cancel_request",FINISHED_PROCESSING_CANCEL_REQUEST:"upload.server.finished_processing_cancel_request",FAILED_PROCESSING_CANCEL_REQUEST:"upload.server.failed_processing_cancel_request",SERVER_FINISHED_FLOW:"upload.server.finished_flow",SERVER_FINISHED_SERVER_PROCESSING:"upload.server.finished_server_processing",ENCODE_STARTED_NOTIFY:"encode.started.notify",ENCODE_FINISHED_NOTIFY:"encode.finished.notify",ENCODE_EXCEPTION:"encode.exception",ENCODE_STARTED_CHECK_COPYRIGHT:"encode.started.check_copyright",ENCODE_FINISHED_CHECK_COPYRIGHT:"encode.finished.check_copyright",ENCODE_STARTED_CHECK_RIDGE:"encode.started.check_ridge",ENCODE_FINISHED_CHECK_RIDGE:"encode.finished.check_ridge",ENCODE_DEQUEUED:"encode.dequeued",ENCODE_ENQUEUED:"encode.enqueued",ENCODE_FINISHED_UPDATE_VIDEO:"encode.finished.update_video",ENCODE_STARTED_UPDATE_VIDEO:"encode.started.update_video",ENCODE_VIDEO_STATUS_SET_TO_OK:"encode.server.status_set_to_ok",ENCODE_VIDEO_STATUS_SET_TO_ENCODE_FAILED:"encode.server.status_set_to_encode_failed",PREVIEW_SERVER_STARTED_PREVIEW_GENERATION:"preview.server.started.preview.generation",PREVIEW_SERVER_FINISHED_PREVIEW_GENERATION:"preview.server.finished.preview.generation",PREVIEW_SERVER_FAILED_PREVIEW_GENERATION:"preview.server.failed.preview.generation",PREVIEW_SERVER_STARTED_CREATING_CREATIVE:"preview.server.started.creating.creative",PREVIEW_SERVER_FINISHED_CREATING_CREATIVE:"preview.server.finished.creating.creative",PREVIEW_SERVER_STARTED_GENERATING_PREVIEW_FROM_CREATIVE:"preview.server.started.generating.preview.from.creative",PREVIEW_SERVER_FINISHED_GENERATING_PREVIEW_FROM_CREATIVE:"preview.server.finished.generating.preview.from.creative",ACTION_SERVER_CAMPAIGN_DUPLICATION:"action.server.campaign_duplication",ACTION_SERVER_CAMPAIGN_DUPLICATION_OPTIMIZATION_GOAL_CHANGE:"action.server.campaign_duplication_optimization_goal_change",ACTION_INTERFACE_VIDEO_VIEW_CAMPAIGN_DUPLICATION_CONFIRMED:"action.interface.video_view_campaign_duplication_confirmed",ACTION_INTERFACE_APP_INSTALL_CAMPAIGN_DUPLICATION_CONFIRMED:"action.interface.app_install_campaign_duplication_confirmed",ACTION_INTERFACE_VIDEO_VIEW_CAMPAIGN_DUPLICATION_RESULT:"action.interface.video_view_campaign_duplication_result",ACTION_INTERFACE_APP_INSTALL_CAMPAIGN_DUPLICATION_RESULT:"action.interface.app_install_campaign_duplication_result"})}),null);
__d("VideoAdsCreationSpinnerTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS_VIDEO_UPLOAD_PROGRESS_VIEW:"AdsVideoUploadProgressView",ADS_VIDEO_UPLOAD_VIEW:"AdsVideoUploadView"})}),null);
__d("VideoAdsCreationSessionStateManager",["LoadingMarkerGlobalListener","VideoAdCreationLoggerEvent","VideoAdsCreationSpinnerTypes","VideoAdsCreationTypedLogger"],(function(a,b,c,d,e,f){"use strict";var g={IDLE:"idle",STARTED:"started",FINISHED:"finished"};a=function(){function a(){this.$1=0,this.$2=0,this.$3=null,this.$4=null,this.$5=g.IDLE,this.$6="ads_interface"}var c=a.prototype;c.init=function(){var a=this;this.$5=g.IDLE;this.$1=0;this.$3=null;b("LoadingMarkerGlobalListener").subscribe(function(b){return a.$7(b)},function(b,c){return a.$8(b,c)})};c.$7=function(a){if(this.$5===g.STARTED&&this.$3!==null)switch(a.name){case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_PROGRESS_VIEW:case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_VIEW:new(b("VideoAdsCreationTypedLogger"))().setEvent(b("VideoAdCreationLoggerEvent").CLIENT_UPLOAD_SPINNER_STARTED).setWaterfallID(String(this.$3)).setAdAccountID(this.$4).setSourceType(this.$6).setTriggerTime(Date.now()).setSpinnerName(String(a.name)).setSpinnerSource(String(a.cssStack)).setSpinnerID(String(a.id)).log();break;default:break}};c.$8=function(a,c){if(this.$5===g.STARTED&&this.$3!==null)switch(a.name){case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_PROGRESS_VIEW:case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_VIEW:new(b("VideoAdsCreationTypedLogger"))().setEvent(b("VideoAdCreationLoggerEvent").CLIENT_UPLOAD_SPINNER_FINISHED).setWaterfallID(String(this.$3)).setAdAccountID(this.$4).setSourceType(this.$6).setTriggerTime(Date.now()).setSpinnerName(String(a.name)).setSpinnerSource(String(a.cssStack)).setSpinnerID(String(a.id)).log();this.endUploadSession();break;default:break}};c.startUploadSession=function(a,b,c){this.$3=a,this.$4=b,this.$1=Date.now(),this.$5=g.STARTED,this.$6=c===null?"ads_interface":c};c.endUploadSession=function(){this.$3=null,this.$2=Date.now(),this.$5=g.FINISHED};c.getWaterfallID=function(){return this.$3};return a}();e.exports=new a()}),null);
__d("AdImageSpecsUtilsV2",["AdImageSpecs","AdImageSpecsUtils","AdImageTallFBSpecs","AdsPlacementAPISpecReaderUtils","AdsUniformValue","ApiAdObjectTypes","adsGetCreativeTypeByCreativeFields"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsPlacementAPISpecReaderUtils").isPageTypeSupportedByAssetCustomizationPlacement,h=b("AdsPlacementAPISpecReaderUtils").isPageTypeSupportedByPlacement,i=b("adsGetCreativeTypeByCreativeFields")(b("ApiAdObjectTypes").SHARE),j={getImageSpecsForAdTypeV2:function(a,c){var d=[],e=b("AdImageSpecsUtils").getAllImageSpecs();Object.keys(e).forEach(function(b){var c=e[b].supportedTypes||[];c.indexOf(a)>=0&&d.push(e[b])});var f=c;return f?d.filter(function(a){return f.every(function(b){return h(a.placement,b)})}):d},getCropImageSpecsForDCO:function(a,c){if(a&&c)return[b("AdImageSpecs").PAGE_POST_MULTI_PRODUCT];if(a)return[b("AdImageSpecs").PAGE_POST_DESKTOP_FEED,b("AdImageTallFBSpecs").PAGE_POST_DESKTOP_FEED_SQUARE,b("AdImageTallFBSpecs").PAGE_POST_DESKTOP_FEED_NO_CROP];return a?[b("AdImageSpecs").PAGE_POST_DESKTOP_FEED]:[]},getCropImageSpecsForBulkObjectTypeV2:function(a,c){if(a instanceof b("AdsUniformValue")){a=b("adsGetCreativeTypeByCreativeFields")(a.getValue());return j.getCropImageSpecsForAdTypeV2(a,c)}return[]},getImageSpecsForAssetCustomizationPlacement:function(a,c){var d=[],e=b("AdImageSpecsUtils").getAllImageSpecs();Object.keys(e).forEach(function(a){var b=e[a].supportedTypes||[];b.indexOf(i)>=0&&d.push(e[a])});var f=c;return a&&f?d.filter(function(b){return g(b.placement,a,f)}):d},getCropImageSpecsForAdTypeV2:function(a,c){a=j.getImageSpecsForAdTypeV2(a,c);return b("AdImageSpecsUtils").getUniqueCropImageSpecs(a)}};e.exports=j}),null);
__d("AdsInstagramErrorUtils",["errorCode","fbt","AdImageSpecs","AdsError","AdsInstagramFields","AdsInstagramMediaSpecs","AdsValidationConfig","AdsVideoConstraintsUtils","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={getCombinedErrorMessage:function(a,b){if(!a.length)return null;b=a.length>1?a.map(function(a){return h._("{bullet} {error message}",[h._param("bullet","\u2022"),h._param("error message",a.message)])}).join("\n"):a[0].message;a=j.getImageErrorsTitle(a);return a!=null?h._("{title} {combined}",[h._param("title",a),h._param("combined",b)]):b},getImageErrorsTitle:function(a){if(!a.length)return null;if(a.length>1)return h._("This image won't work on Instagram.");switch(a[0].key){case 1772077:case 2016005:return h._("This image is too small for Instagram.");case 1772073:return h._("This image's aspect ratio won't work on Instagram.");case 2016007:return h._("This cropped image is too small for Instagram ads.");case 2016006:return h._("This image won't work on Instagram.");case 1772069:return h._("Image required for Instagram ads.")}return null},getImageErrorsBody:function(a){return a.map(function(a){return a.message})},getImageErrorSuggestion:function(a,b,c,d){d=a.cropLinkMaker;var e=a.removeImage,f=a.removeInstagramPlacement,g=a.resetCrop;a=a.selectCustomizationImage;if(!b.length)return null;if(b.length>1)return this._getDefaultImageErrorSuggestions(c,e,f,a);b=b[0].key;switch(b){case 1772077:return this._getDefaultImageErrorSuggestions(c,e,f,a);case 1772073:return d?this._getWrongImageRatioErrorSuggestions(c,f,d):this._getWrongImageRatioErrorSuggestionsNoCrop(c,f);case 2016007:return this._getSmallCroppedImageErrorSuggestions(c,f,g);case 2016005:return this._getMPAImageErrorSuggestion(c,e,f,a)}return null},getCarouselErrorTitle:function(a,b,c){return h._("Some media is missing or can't be used for Instagram ads")},getCarouselErrorSuggestions:function(a,c,d){if(d===b("AdsError").Level.RECOMMEND)return h._("Choose another media if you want to reach people on both Instagram and Facebook.");if(c)return h._("Choose other media for this ad.");else return h._("Choose other media for these ads.")},_getDefaultImageErrorSuggestions:function(a,b,c,d){return a&&c?h._("{=Remove image} or {=remove Instagram as a placement} for this ad set.",[h._param("=Remove image",d?this._getSelectCustomizationImageLink(d):this._getRemoveImageLink(b)),h._param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(c))]):h._("{=Remove image} for this ad set.",[h._param("=Remove image",d?this._getSelectCustomizationImageLink(d):this._getRemoveImageLink(b))])},_getWrongImageRatioErrorSuggestions:function(a,b,c){return a?h._("{=Crop the image to a square} or {=remove Instagram as a placement} for this ad set.",[h._param("=Crop the image to a square",this._getCropImageToSquareLink(c)),h._param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(b))]):h._("{=Crop the image to a square} for this ad set.",[h._param("=Crop the image to a square",this._getCropImageToSquareLink(c))])},_getWrongImageRatioErrorSuggestionsNoCrop:function(a,b){return a?h._("Choose another image or {=remove Instagram as a placement} for this ad set.",[h._param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(b))]):h._("Choose another image for this ad.")},_getSmallCroppedImageErrorSuggestions:function(a,b,c){return a?h._("{=Use the original image} or {=remove Instagram as a placement} for this ad set.",[h._param("=Use the original image",this._getResetCropLink(c)),h._param("=remove Instagram as a placement",this._getRemoveInstagramPlacementLink(b))]):h._("{=Use the original image} for this ad set.",[h._param("=Use the original image",this._getResetCropLink(c))])},_getMPAImageErrorSuggestion:function(a,b,c,d){return this._getDefaultImageErrorSuggestions(a,b,c,d)},_getRemoveInstagramPlacementLink:function(a){return i.jsx(b("Link.react"),{onClick:a,children:h._("remove Instagram as a placement")})},_getRemoveImageLink:function(a){return i.jsx(b("Link.react"),{onClick:a,children:h._("Remove image")})},_getSelectCustomizationImageLink:function(a){return i.jsx(b("Link.react"),{onClick:a,children:h._("Select a different image")})},_getCropImageToSquareLink:function(a){var b=h._("Crop the image to a square");return a(b)},_getResetCropLink:function(a){return i.jsx(b("Link.react"),{onClick:a,children:h._("Use the original image")})},getWrongVideoDimensionErrorMessage:function(a,c){return h._("Videos must be at least {minimum Instagram ad video width} x {minimum Instagram ad video height} pixels.",[h._param("minimum Instagram ad video width",a?a:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH),h._param("minimum Instagram ad video height",c?c:b("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT)])},getWrongVideoRatioErrorMessage:function(a,c){return c&&a&&c===a?h._("Aspect ratios of videos need to be {Instagram ad video aspect ratio}:1.",[h._param("Instagram ad video aspect ratio",a)]):h._("Aspect ratios of videos need to be between {maximum Instagram ad video aspect ratio}:1 and {minimum Instagram ad video aspect ratio}:1.",[h._param("maximum Instagram ad video aspect ratio",a?a:b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio),h._param("minimum Instagram ad video aspect ratio",c?c:b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio)])},getWrongVideoLengthErrorMessage:function(){var a=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForSingleVideoStream();return h._("Videos can't be longer than {maximum Instagram ad video duration} seconds.",[h._param("maximum Instagram ad video duration",a)])},isInstagramSpecificError:function(a){return a.key===2016004||a.key===2016005||a.key===2016007||a.key===2016006||a.key===1772077||a.key===1772073},isInstagramError:function(a){return b("AdsInstagramFields").INSTAGRAM_ACCOUNT_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_LEAD_FORM_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_SPECIFIC_PAGE_POST_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_VIDEO_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_SPECIFIC_DESTINATION_ERROR_KEYS.has(a.key)||b("AdsInstagramFields").INSTAGRAM_SPECIFIC_CTA_ERROR_KEYS.has(a.key)},getIneligibilityReason:function(a){switch(a){case"ineligible_caption_too_long":a=h._("This caption is too long. Instagram has a limit of {maximum caption length} characters.",[h._param("maximum caption length",b("AdsValidationConfig").instagramAdsMaxCaptionLength)]);return a;case"ineligible_media_square_dimension":a=h._("Media needs to be at least {minimum width} pixels in width and height for carousel ads on Instagram.",[h._param("minimum width",b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH)]);return a;case"ineligible_image_square_aspect_ratio":a=h._("Media aspect ratio of this image needs to be 1:1 on Instagram.");return a;case"ineligible_video_square_aspect_ratio":a=h._("Videos in carousels used on Instagram should be square with an aspect ratio of 1:1.");return a;case"ineligible_media_aspect_ratio":a=h._("Media aspect ratios need to be between {minimum Instagram ad video aspect ratio}:1 and {maximum Instagram ad video aspect ratio}:1 on Instagram.",[h._param("minimum Instagram ad video aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio),h._param("maximum Instagram ad video aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio)]);return a;case"ineligible_stream_or_story_aspect_ratio":a=h._("Media aspect ratios need to be between {minimum Instagram ad video aspect ratio}:1 and {maximum Instagram ad video aspect ratio}:1 for Instagram stream and {maximum Instagram story ad video aspect ratio}:1 for Instagram story.",[h._param("minimum Instagram ad video aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio),h._param("maximum Instagram ad video aspect ratio",b("AdImageSpecs").INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio),h._param("maximum Instagram story ad video aspect ratio",b("AdsInstagramMediaSpecs").MAX_STORY_ASPECT_RATIO)]);return a;case"ineligible_media_dimension":a=h._("Media needs to be at least {minimum width} pixels wide and {minimum height} pixels high on Instagram.",[h._param("minimum width",b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH),h._param("minimum height",b("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT)]);return a;case"ineligible_story_aspect_ratio":a=h._("Media aspect ratios need to be smaller than or equal to {maximum Instagram story ad video aspect ratio}:1 for Instagram story.",[h._param("maximum Instagram story ad video aspect ratio",b("AdsInstagramMediaSpecs").MAX_STORY_ASPECT_RATIO)]);return a;case"ineligible_video_length":var c=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForSingleVideoStream();return h._("Videos can't be longer than {maximum video length} seconds for Instagram feed.",[h._param("maximum video length",c)]);case"ineligible_video_length_for_stories":c=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForStories();return h._("Videos can't be longer than {maximum video length} seconds for Instagram story.",[h._param("maximum video length",c)]);case"ineligible_video_length_for_stories_carousel":return h._("Videos can't be longer than {maximum video length} seconds for Carousel for Instagram Stories.",[h._param("maximum video length",b("AdsInstagramMediaSpecs").MAX_STORY_VIDEO_DURATION_IN_SEC_FOR_CAROUSEL_VIDEOS)]);case"ineligible_post_album_upload":a=h._("Post contains a photo album with multiple photos. Posts can only contain one photo or video on Instagram.");return a;case"ineligible_post_multi_photo":a=h._("Post uses multiple photos. Posts can only use one photo or video on Instagram.");return a;case"ineligible_post_no_media":a=h._("Post uses only text. Post must contain an image or video on Instagram.");return a;case"inelegible_data_type_in_carousel":a=h._("Only photos and videos with external websites can be used in Instagram Carousel ads.");return a;default:a=h._("This post can't be used for ads on Instagram.");return a}}};e.exports=j}),null);
__d("AdsVideoValidationMigrationUtils",["errorCode","errorDesc","fbt","AdsAccountUtils","AdsAPIAdgroupPaths","AdsError","AdsInstagramErrorUtils","AdsInstreamCapabilityUtils","AdsInstreamVideoErrorUtils","AdsVideoConfig","AdsVideoConstraintsUtils","AdsVideoSpecs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,k=1.91,l={inRange:function(a,b,c){return a>=((b=b)!=null?b:-Infinity)&&a<=((b=c)!=null?b:Infinity)},isValidAspectRatio:function(a,b,c){var d;c===void 0&&(c=.01);d=(d=b.aspectRatioTolerance)!=null?d:c;c=b.minWarningAspectRatio!=null?b.minWarningAspectRatio*(1-d):null;b=b.maxWarningAspectRatio!=null?b.maxWarningAspectRatio*(1+d):null;return l.inRange(a,c,b)},validateFBStory:function(a,c){var d=[];c.maxWarningLength!=null&&Math.floor(a.length)>Number(c.maxWarningLength)&&d.push(new(b("AdsError"))(1443209,h._(function(a,b){return a._("The video duration for ads in Facebook Stories can not be longer than 120 seconds.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));if(a.height&&a.width){var e=a.width/a.height;l.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(1443208,h._(function(a,b){return a._("Ads in Facebook Stories must have an aspect ratio ranging from 9:16 to 1.91:1.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}))}l.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1443205,h._(function(a,b){return a._("The width of photo and video has to be larger than 500px for ads in Facebook Stories.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));a.spherical&&d.push(new(b("AdsError"))(1443214,h._(function(a,b){return a._("Spherical Video is currently not supported in ads in Facebook Stories.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));return d},validateInstagramStory:function(a,c){var d=[],e=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForStories();l.inRange(Math.floor(a.length),c.minWarningLength,e)||d.push(new(b("AdsError"))(1772173,h._(function(a,b){return a._("The video duration for Instagram story ads can not be longer than 120 seconds.")},{}),{level:b("AdsError").Level.WARN,path:j}));l.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));if(a.height&&a.width){e=a.width/a.height;!l.isValidAspectRatio(e,c)&&!l.isValidAspectRatio(e,b("AdsVideoSpecs").INSTAGRAM_STREAM)&&d.push(new(b("AdsError"))(1772130,h._(function(a,b){return a._("Story media aspect ratio has to be smaller than or equal to 9:16")},{}).toString(),{level:b("AdsError").Level.WARN,path:j}))}return d},validateInstagramStream:function(a,c){var d=[],e=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForSingleVideoStream();l.inRange(Math.floor(a.length),c.minWarningLength,e)||d.push(new(b("AdsError"))(2238028,h._(function(a,b){return a._("Instagram feed video duration can not be longer than 120 seconds.")},{}).toString(),{level:b("AdsError").Level.WARN,path:j}));l.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));if(a.height&&a.width){e=a.width/a.height;l.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(1772074,b("AdsInstagramErrorUtils").getWrongVideoRatioErrorMessage(c.maxWarningAspectRatio,c.minWarningAspectRatio),{level:b("AdsError").Level.WARN,path:j}))}return d},validateInstagramIGTV:function(a,c,d){var e=[];l.inRange(Math.floor(a.length),c.minWarningLength,c.maxWarningLength)||e.push(new(b("AdsError"))(2238018,h._(function(a,b){return a._("IGTV only supports video ads shorter than 15 seconds.")},{}),{level:b("AdsError").Level.WARN,path:j}));l.inRange(a.width,c.minWarningWidth)||e.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));d=b("AdsAccountUtils").hasCapabilityFromList(d,"ENABLE_NON_9TO16_VIDEO_FOR_IG_IGTV_ADS");c=babelHelpers["extends"]({},c,{maxWarningAspectRatio:d?k:c.maxWarningAspectRatio});if(a.height&&a.width){a=a.width/a.height;l.isValidAspectRatio(a,c)||e.push(d?new(b("AdsError"))(2238110,h._(function(a,b){return a._("Your ad won\u2019t run on Instagram TV (IGTV) because the media doesn\u2019t have an aspect ratio of 1.91:1 or smaller. Select a different video.")},{}),{level:b("AdsError").Level.WARN,path:j}):new(b("AdsError"))(2238019,h._(function(a,b){return a._("Your ad won\u2019t run on Instagram TV (IGTV) because the media doesn\u2019t have an aspect ratio of 9:16 or smaller. Select a different video.")},{}),{level:b("AdsError").Level.WARN,path:j}))}return e},validateFacebookInstreamVideo:function(a,c,d,e,f,g){d===void 0&&(d=b("AdsError").Level.RECOMMEND);g===void 0&&(g=!1);var h=[];f=b("AdsInstreamCapabilityUtils").isEligibleForInstreamLongVideoAds(e,!0,f);var i=c.maxWarningLength;f&&(i=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForLongInstreamDRAds());var j=b("AdsAccountUtils").hasCapabilityFromList(e,"ADS_INSTREAM_DR_INTERFACE_NO_TRUNCATION_WARNING");!l.inRange(a.length,c.minWarningLength,i)?h.push(b("AdsInstreamVideoErrorUtils").getWrongLengthError(d,f)):f&&c.maxWarningLength!=null&&a.length>c.maxWarningLength&&!j&&h.push(b("AdsInstreamVideoErrorUtils").getLongDRTruncationWarning(d));if(g&&a.height&&a.width){i=a.width/a.height;l.isValidAspectRatio(i,c)||h.push(b("AdsInstreamVideoErrorUtils").getAspectRatioError(d))}f=b("AdsAccountUtils").hasCapabilityFromList(e,"ADS_INSTREAM_VIDEO_ENABLE_SLIDE_SHOW");!f&&a.creator_product===5&&h.push(b("AdsInstreamVideoErrorUtils").getSlideShowError(d));a.spherical&&h.push(b("AdsInstreamVideoErrorUtils").getSphericalError(d));return h},validateAudienceNetworkVideo:function(a,c,d){d===void 0&&(d=b("AdsError").Level.WARN);var e=[],f=c.maxWarningLength;l.inRange(a.length,c.minWarningLength,f)||e.push(new(b("AdsError"))(1815755,i._("Make this video {minimum Audience Network InStream video duration} - {maximum Audience Network InStream video duration} seconds long.",[i._param("minimum Audience Network InStream video duration",c.minWarningLength),i._param("maximum Audience Network InStream video duration",f!=null?f-1:null)]),{level:b("AdsError").Level.RECOMMEND,path:j}));l.inRange(a.length,b("AdsVideoConfig").audienceNetworkInStreamVideoCTVMinDurationInSec,b("AdsVideoConfig").audienceNetworkInStreamVideoCTVMaxDurationInSec)||e.push(new(b("AdsError"))(2016032,h._(function(a,b){return a._("Make this video 10-30 seconds long.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));if(a.height&&a.width){f=a.width/a.height;l.isValidAspectRatio(f,c)||e.push(new(b("AdsError"))(1815754,i._("Change the aspect ratio to 16:9, 5:3, 4:3 or 1:1."),{level:b("AdsError").Level.RECOMMEND,path:j}))}Boolean(c.hasSound)&&!a.has_sound&&e.push(new(b("AdsError"))(2016029,h._(function(a,b){return a._("Add sound to your video, or upload a video with sound")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));Boolean(c.hasHDQuality)&&!a.has_hd_quality&&e.push(new(b("AdsError"))(1885566,h._(function(a,b){return a._("Make the video at least 720p, or upload a video that's 720p")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));a.spherical&&e.push(new(b("AdsError"))(1815287,i._("360 Videos are not supported by the Audience Network InStream Format."),{level:d,path:j}));return e},validateAudienceNetworkRewardedVideo:function(a,c){c=[];a.creator_product===5&&c.push(new(b("AdsError"))(1885824,i._("Rewarded video ads do not support slideshow videos."),{level:b("AdsError").Level.RECOMMEND,path:j}));return c},validateWhatsAppStatus:function(a,c){var d=[];l.inRange(a.length,null,c.maxWarningLength)||d.push(new(b("AdsError"))(2490020,i._("WhatsApp Status ad videos must be less than {maximum WhatsApp Status ad video duration in seconds} seconds long.",[i._param("maximum WhatsApp Status ad video duration in seconds",c.maxWarningLength)]),{level:b("AdsError").Level.WARN,path:j}));return d},validateMessengerInbox:function(a,c){var d=[];if(a.height&&a.width){var e=a.width/a.height;l.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(2446111,h._(function(a,b){return a._("The aspect ratio of the media in the ad is not valid.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}))}a.spherical&&d.push(new(b("AdsError"))(1815287,h._(function(a,b){return a._("You can't use 360 videos in one or more of your placements. Please select a different video, or change where your ads are shown.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));return d}};e.exports=l}),null);
__d("AdsVideoSpecsUtils",["AdsAPIObjectives","AdsBuyingTypes","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetEligibilityUtils","AdsVideoConfig","AdsVideoSpecs","AdsVideoValidationMigrationUtils","getObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("getObjectValues")(b("AdsVideoSpecs")),h=b("immutable").Map([["audience_networkinstream_video",new Set([(a=b("AdsAPIObjectives")).VIDEO_VIEWS])]]),i=b("immutable").Map([["audience_networkinstream_video",new Set([a.VIDEO_VIEWS,a.REACH,a.BRAND_AWARENESS])]]),j={getVideoSpecsForPlacementObjective:function(a,b,c){return g.filter(function(d){if(!d.placementChecker(a))return!1;return d.supportsCarousel!==void 0&&d.supportsCarousel===!c?!1:j.doesVideoSpecSupportObjective(d,b)})},getVideoSpecsForAssetCustomizationPlacementObjective:function(a,b,c){return g.filter(function(d){if(!d.assetCustomizationPlacementChecker(a))return!1;return d.supportsCarousel!==void 0&&d.supportsCarousel===!c?!1:j.doesVideoAssetCustomizationSpecSupportObjective(d,b)})},doesVideoSpecSupportObjective:function(a,b){a=h.get(a.platform.toString()+a.position);return!a?!0:a.has(b)},transformVideoSpecsBasedOnBuyingType:function(a,c,d){if(d!==b("AdsBuyingTypes").RESERVED)return c;d=Boolean(a&&b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(a));return!d?c:c.map(function(a){var c=a.platform==="facebook"&&a.position==="instream_video";if(c)return babelHelpers["extends"]({},a,{minWarningAspectRatio:b("AdsVideoConfig").instreamPACMinWarningAspectRatio,maxWarningAspectRatio:b("AdsVideoConfig").instreamPACMaxWarningAspectRatio});else return a})},doesVideoAssetCustomizationSpecSupportObjective:function(a,b){a=i.get(a.platform.toString()+a.position);return!a?!0:a.has(b)},isInvalidFacebookInstreamVideoInPACFlow:function(a,c){if(!a||!c||!c.height||!c.width)return!1;a=b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementSpecForPlacementAssetCustomizationPhase2(a,a.spec);c=c.width/c.height;c=b("AdsVideoValidationMigrationUtils").isValidAspectRatio(c,b("AdsVideoSpecs").INSTREAM_VIDEO_PAC);return a&&!c}};e.exports=j}),null);
__d("AdsAudienceNetworkRewardedVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"audienceNetworkRewardedVideo",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateAudienceNetworkRewardedVideo(a,c)},platform:"audience_network",position:"rewarded_video"};e.exports=a}),null);
__d("AdsAudienceNetworkVideoValidationPlugin",["AdsError","AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"audienceNetwork",getErrors:function(a,c,d){d===void 0&&(d={audienceNetworkInstreamOnly:b("AdsError").Level.WARN});return b("AdsVideoValidationMigrationUtils").validateAudienceNetworkVideo(a,c,d.audienceNetworkInstreamOnly)},platform:"audience_network",position:"instream_video"};e.exports=a}),null);
__d("AdsFBStoryVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"fbStories",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateFBStory(a,c)},platform:"facebook",position:"story"};e.exports=a}),null);
__d("AdsFacebookInstreamVideoValidationPlugin",["AdsError","AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"facebookInstreamVideo",getErrors:function(a,c,d,e,f){d===void 0&&(d={facebookInstreamOnly:b("AdsError").Level.RECOMMEND});return b("AdsVideoValidationMigrationUtils").validateFacebookInstreamVideo(a,c,d.facebookInstreamOnly,e,f)},platform:"facebook",position:"instream_video"};e.exports=a}),null);
__d("AdsInstagramIGTVVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"instagramIGTV",getErrors:function(a,c,d,e){return b("AdsVideoValidationMigrationUtils").validateInstagramIGTV(a,c,e)},platform:"instagram",position:"igtv"};e.exports=a}),null);
__d("AdsInstagramStoryVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"instagramStories",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateInstagramStory(a,c)},platform:"instagram",position:"story"};e.exports=a}),null);
__d("AdsInstagramStreamVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"instagramStream",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateInstagramStream(a,c)},platform:"instagram",position:"stream"};e.exports=a}),null);
__d("AdsMessengerInboxVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"messengerInbox",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateMessengerInbox(a,c)},platform:"messenger",position:"messenger_home"};e.exports=a}),null);
__d("AdsWhatsAppStatusVideoValidationPlugin",["AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f){"use strict";a={type:"adsVideoValidation",key:"whatsAppStatus",getErrors:function(a,c){return b("AdsVideoValidationMigrationUtils").validateWhatsAppStatus(a,c)},platform:"whatsapp",position:"status"};e.exports=a}),null);
__d("AdsVideoValidation",["errorCode","errorDesc","AdsAccountStore","AdsAPIAdgroupPaths","AdsError","AdsErrorUtils","AdsPlacementAPISpecReaderUtils","AdsVideoBuyingStoreUtils","AdsVideoSpecsUtils","AdsVideoValidationPlugins","adsAccountGK"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,j=.8,k=[],l=[1815896,2490087],m={getValidationMapByPlacementForVideoList:function(a,c,d,e,f,g){var h=new Map(),i=b("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(c,d,f);f=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND;var j=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveAudienceNetworkInstreamPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND,k={facebookInstreamOnly:f,audienceNetworkInstreamOnly:j};a.forEach(function(a){h.set(a.id,m.validateVideo(a,i,c,e,k,g,d))});h.forEach(function(a){return a.forEach(function(a){a&&l.includes(a.key)&&(a.level=b("AdsError").Level.RECOMMEND)})});return h},getValidationMapByPlacementsForVideoList:function(a,b,c,d,e,f){var g=new Map();b.map(function(b){return m.getValidationMapByPlacementForVideoList(a,b,c,d,e,f)}).forEach(function(a){a.forEach(function(a,b){var c=g.get(b)||[];a.forEach(function(a){c.some(function(b){return b.key===a.key})||c.push(a)});g.set(b,c)})});return g},getErrorMapByCampaignForVideoList:function(a,c,d,e,f,g){var h=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(c);h=m.getValidationMapByPlacementForVideoList(a,h,d,e,f,g);d=c.get("optimization_goal");b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(a,h,[d]);return h},validateVideoForPlacementBuyingTypeObjective:function(a,c,d,e,f,g){f=b("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(c,d,f);var h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND,i=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveAudienceNetworkInstreamPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND;h={facebookInstreamOnly:h,audienceNetworkInstreamOnly:i};return m.validateVideo(a,f,c,e,h,g,d)},validateVideo:function(a,c,d,e,f,g,k){f===void 0&&(f={facebookInstreamOnly:b("AdsError").Level.RECOMMEND,audienceNetworkInstreamOnly:b("AdsError").Level.RECOMMEND});c=b("AdsVideoSpecsUtils").transformVideoSpecsBasedOnBuyingType(d,c,e);var l=[];c.forEach(function(b){l=l.concat(m.validateVideoForSpec(a,b,f,g,k))});d&&(l=b("AdsErrorUtils").giveRecommendationsForSoftErrors(l,[d]));if(a.height&&a.width){e=a.width/a.height;c=b("adsAccountGK")._(b("AdsAccountStore").getSelectedAccount().getValue(),"aAvtKnYrh");e<j&&c&&l.push(new(b("AdsError"))(2446275,h._(function(a,b){return a._("This video will be masked on Mobile News Feed. The tallest supported aspect ratio for images without links and videos on Mobile Feed is vertical (4:5).")},{}),{level:b("AdsError").Level.RECOMMEND,path:i}))}return l},validateVideoForSpec:function(a,c,d,e,f){d===void 0&&(d={facebookInstreamOnly:b("AdsError").Level.RECOMMEND,audienceNetworkInstreamOnly:b("AdsError").Level.RECOMMEND});var g=b("AdsVideoValidationPlugins").withShape({platform:c.platform,position:c.position}).getList().first();if(g)return g.getErrors(a,c,d,e,f);else return k}};e.exports=m}),null);
__d("AdsCreativeContainerVideoPickerReducerPlugins",["AdsAccountVideoDataSourcePlugin","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedSet();a={reduce:function(a,b){return babelHelpers["extends"]({},a,{source:b.source})}};c={reduce:function(a,c){return{lastUploadedVideoID:null,source:b("AdsAccountVideoDataSourcePlugin").source,uploads:g}}};d={reduce:function(a,c){return babelHelpers["extends"]({},a,{source:b("AdsAccountVideoDataSourcePlugin").source,uploads:g})}};f={reduce:function(a,c){c=c.video;return babelHelpers["extends"]({},a,{lastUploadedVideoID:c.id,source:b("AdsAccountVideoDataSourcePlugin").source})}};var h={reduce:function(a,b){var c=b.context;b=b.uploaderKey;var d=a.uploads;(c==null?void 0:c.videoUploadCreativeContainerContext)!=null&&b!=null&&(d=d.add(b));return babelHelpers["extends"]({},a,{uploads:d})}},i={reduce:function(a){return babelHelpers["extends"]({},a,{source:b("AdsAccountVideoDataSourcePlugin").source})}};e.exports={onApplyChanges:d,onChangeSource:a,onCloseCreativeContainer:c,onEncodingSuccess:f,onUpdateCarouselCard:i,onUploadStart:h}}),null);
__d("AdsVideoListLoadedUtil",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={handleResponse:function(a,c,d){return a.update(c,function(a){return b("LoadObject").withValue({videoSet:a.getValueEnforcing().videoSet.union(d.videoSet),after:d.after})})},handleError:function(a,b,c){return a.update(b,function(a){return a.setError(c).done()})}};e.exports=a}),null);
__d("AdsAccountVideoListLoadMoreReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};e.exports=a}),null);
__d("AdsAccountVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({accountID:void 0,max_aspect_ratio:void 0,maxheight:void 0,maxlength:void 0,maxwidth:void 0,min_aspect_ratio:void 0,minheight:void 0,minlength:void 0,minwidth:void 0,sort:void 0,title:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCreativeToolVideoUtils",["AdsBulkValueUtils","AdsPlacementAssetValidationUtils","AdsVideoBuyingStoreUtils","AdsVideoUploadStoreState"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,c,d,e,f,h){e=e.getValue();if(e==null||a==null||f==null)return g;c=b("AdsBulkValueUtils").getUniformValue(c,null);e=e.customizationData;e=e.find(function(b){return((b=b.assets)==null?void 0:(b=b.media)==null?void 0:b.adlabel)===a});if(e==null)return g;e=e.placements;if(e==null)return g;e=b("AdsPlacementAssetValidationUtils").getVideoListErrors(f,e,c,h);b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(f,e,d.getValues());return e}function c(a){a=a.last()||new(b("AdsVideoUploadStoreState"))();var c={name:a.title,progress:a.progress};switch(a.status){case"UPLOADING":case"ENCODING":return babelHelpers["extends"]({},c,{status:a.status==="UPLOADING"?"loading":"buffering"});case"ERROR":return babelHelpers["extends"]({},c,{errorMessage:a.errorMessage,status:"error"});default:return null}}function d(a){return a!=null&&(a.status==="UPLOADING"||a.status==="ENCODING")}f={getPACVideoListErrors:a,getVideoUploadStatus:c,isUploadingVideo:d};e.exports=f}),null);
__d("AdsVideoDialogFilterUtil",["AdsGenericFilterFieldType","AdsVideoDialogFilterConstants","isTruthy"],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=.01,i=16/9,j=9/16,k=4/5,l=1/1,m={getApiParamsForAdAccount:function(a){var c={};a.values.map(function(a){var d=a.field.name,e;d==="length"?typeof a.value==="string"?e=parseInt(a.value,10)*g:e=a.value.map(function(a){return parseInt(a,10)*g}):e=a.value;switch(a.field.type){case b("AdsGenericFilterFieldType").NUMBER:switch(a.operator){case"LESS_THAN":c["max"+d]=parseInt(e,10);break;case"GREATER_THAN":c["min"+d]=parseInt(e,10);break;case"IN_RANGE":typeof e==="object"&&(c["min"+d]=parseInt(e[0],10),c["max"+d]=parseInt(e[1],10));break}break;case b("AdsGenericFilterFieldType").STRING:c[d]=e;break}});return c},getApiParamsForPagesEdge:function(a){if(!a)return null;var c={};c.filtering=[];var d,e;for(var f in a){var g;switch(f){case"title":if(a[f]==null)break;g=m.getFilter("title","CONTAIN",a[f]);c.filtering.push(g);break;case"maxlength":g=m.getFilter("length","LESS_THAN",a[f]);c.filtering.push(g);break;case"minlength":g=m.getFilter("length","GREATER_THAN",a[f]);c.filtering.push(g);break;case"maxheight":g=m.getFilter("height","LESS_THAN",a[f]);c.filtering.push(g);break;case"minheight":g=m.getFilter("height","GREATER_THAN",a[f]);c.filtering.push(g);break;case"maxwidth":g=m.getFilter("width","LESS_THAN",a[f]);c.filtering.push(g);break;case"minwidth":g=m.getFilter("width","GREATER_THAN",a[f]);c.filtering.push(g);break;case"min_aspect_ratio":e=a[f];break;case"max_aspect_ratio":d=a[f];break;case"sort":c.sort=a[f]!=null&&a[f]!==""?[a[f]]:null;break;default:return null}}if(b("isTruthy")(e)&&d){g=m.getFilter("aspect_ratio","IN_RANGE",[e,d]);c.filtering.push(g)}return c},getFilter:function(a,b,c){a={field:a,operator:b,value:c};return a},getApiParamsForAdAccountFromPresetFilters:function(a){if(!a)return null;var c={};a.values.map(function(a){var d=a.field.name,e=a.value;switch(a.field.type){case b("AdsGenericFilterFieldType").STRING:c[d]=e;break;case b("AdsGenericFilterFieldType").STRING_SET:switch(d){case"length":switch(e){case b("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_15:c.maxlength=15e3;break;case b("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_60:c.maxlength=6e4;break;case b("AdsVideoDialogFilterConstants").LENGTH_GREATER_THAN_60:c.minlength=6e4;break}break;case"height":switch(e){case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_340:c.minheight=340;break;case b("AdsVideoDialogFilterConstants").HEIGHT_LESS_THAN_600:c.maxheight=600;break;case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_600:c.minheight=600;break;case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_1067:c.minheight=1067;break;case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_1080:c.minheight=1080;break}break;case"width":switch(e){case b("AdsVideoDialogFilterConstants").WIDTH_LESS_THAN_600:c.maxwidth=600;break;case b("AdsVideoDialogFilterConstants").WIDTH_GREATER_THAN_600:c.minwidth=600;break;case b("AdsVideoDialogFilterConstants").WIDTH_GREATER_THAN_1080:c.minwidth=1080;break}break;case"aspect_ratio":switch(e){case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_16_OVER_9:c.min_aspect_ratio=i-h;c.max_aspect_ratio=i+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_9_OVER_16:c.min_aspect_ratio=j-h;c.max_aspect_ratio=j+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_4_OVER_5:c.min_aspect_ratio=k-h;c.max_aspect_ratio=k+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_1_OVER_1:c.min_aspect_ratio=l-h;c.max_aspect_ratio=l+h;break}break}}});return c}};e.exports=m}),null);
__d("AdsPageVideoListLoadErrorReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.error;b=b.query;return a.setSingleValueOrError(b,c)}};e.exports=a}),null);
__d("AdsPageVideoListLoadedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.after,d=b.query,e=b.videos;b=a.getCached(d);var f=b.getValueEnforcing(),g=f.videoMap.withMutations(function(a){e.forEach(function(b){a.set(b.id,b)})});return!b.isLoading()&&c===f.after&&g===f.videoMap?a:a.setSingleValueOrError(d,{after:c,videoMap:g})}};e.exports=a}),null);
__d("AdsPageVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({accessToken:void 0,filtering:void 0,pageID:void 0,sort:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsVideoApiParamsForPagesEdgeFilter",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({field:void 0,operator:void 0,value:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsVideoParamProcessUtil",["AdsPageVideoListProvider","AdsPageVideosQuery","AdsVideoApiParamsForPagesEdgeFilter","AdsVideoDialogFilterUtil","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("AdsPageVideoListProvider")().get(a);c.hasValueWithoutError()||(c=b("LoadObject").withValue({after:null,videoMap:b("immutable").OrderedMap()}).loading());return c.map(function(b){return{after:b.after,ids:Array.from(b.videoMap.keys()),query:a}})}function a(a,c,d){d=h.convertPageVideoApiParamsToImmutable(d);var e=d.filtering;d=d.sort;return g(new(b("AdsPageVideosQuery"))({accessToken:c,filtering:e,pageID:a,sort:d}))}var h={convertPageVideoApiParamsToImmutable:function(a){a=b("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(a);var c;a&&a.filtering?c=b("immutable").List(a.filtering.map(function(a){return new(b("AdsVideoApiParamsForPagesEdgeFilter"))(babelHelpers["extends"]({},a,{value:Array.isArray(a.value)?b("immutable").List(a.value):a.value}))})):c=b("immutable").List();a=a&&a.sort?b("immutable").List(a.sort):null;return{filtering:c,sort:a}},getPageVideoIDsByParams:a};e.exports=h}),null);
__d("AdsBusinessVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({businessID:void 0,creative_folder_id:void 0,max_aspect_ratio:void 0,maxheight:void 0,maxlength:void 0,maxwidth:void 0,min_aspect_ratio:void 0,minheight:void 0,minlength:void 0,minwidth:void 0,sort:void 0,title:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsAccountVideoDataSourcePlugin",["ix","fbt","AdsAccountVideoListLoadMoreDataAction","AdsAccountVideosQuery","AdsCreativeToolVideoUtils","AdsGenericFilterSetUtil","AdsVideoActions","AdsVideoDialogFilterUtil","AdsVideoSelectionHeaderTabTypes","AdsVideoUploadStore","ClientIDs","adsSelectedTabVideoListSelector","asset","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i={type:"videoDataSource",key:"ACCOUNT_VIDEO",filters:b("immutable").OrderedSet(["VIDEO_LENGTH","VIDEO_ASPECT_RATIO","VIDEO_WIDTH","VIDEO_HEIGHT"]),icon:function(a){return g("567278")},label:function(a){return b("gkx")("1264128")?h._("Ad Account Videos"):h._("Account Videos")},searchPlaceholder:h._("Search media"),source:b("AdsVideoSelectionHeaderTabTypes").ACCOUNT,getStores:function(){return[].concat(b("adsSelectedTabVideoListSelector").getStores(),[b("AdsVideoUploadStore")])},load:function(a){var c=a.accountID,d=a.pageID;a=a.source;c=b("adsSelectedTabVideoListSelector")({accountID:c,pageID:d,selectedTab:a});d=c.accountVideosQuery;a=c.hasNextPage;c=c.videoIDs;var e=c.getValue();return{hasNextPage:a,isLoading:c.isLoading(),query:d,uploadStatus:b("AdsCreativeToolVideoUtils").getVideoUploadStatus(b("AdsVideoUploadStore").getState()),videoIDs:b("immutable").OrderedSet(e||[])}},loadMore:function(a){a instanceof b("AdsAccountVideosQuery")&&b("AdsAccountVideoListLoadMoreDataAction").dispatch({query:a},{line:"89",module:"AdsAccountVideoDataSourcePlugin.js"})},onUpload:function(a,c){var d=new Map();Array.from(a).forEach(function(a){return d.set(b("ClientIDs").getNewClientID(),a)});b("AdsVideoActions").startUploadWithFileMap(d,c,{videoUploadCreativeContainerContext:{isCreativeContainer:!0}})},onSearch:function(a){b("AdsVideoActions").search(a)},applyFilters:function(a){a=b("AdsVideoDialogFilterUtil").getApiParamsForAdAccountFromPresetFilters(b("AdsGenericFilterSetUtil").removeIncomplete(a));b("AdsVideoActions").filter(a)},reset:function(){i.onSearch(""),i.applyFilters(null)}};e.exports=i}),null);
__d("VideoCaptionValidator",["errorCode","fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={validateCaptions:function(a){var b=null,c=[],d=0,e=1,f,g,i,j=/\d{1,2}:\d{1,2}:\d{1,2}(,|\.)\d{1,3}/,k=a.split(/r?\n/g);k.forEach(function(a,l){switch(d){case 0:if(a.charCodeAt(0)===65279||a==="")break;isNaN(a)?(c.push(h._("Incorrect formatting. Blocks should be separated by a single line. Remove extra lines or add missing sequence numbers.")),b=2415001):parseInt(a,10)!==e&&(c.push(h._("Incorrect formatting. Sequence numbers should start with 1 and continue in order. Change number or remove extra blank line.")),b=2415002);e++;d=1;break;case 1:k=a.split(" ");k.length!==3||!j.test(k[0])||k[1]!=="-->"||!j.test(k[2])?(k[1]==="-->"?c.push(h._("Incorrect time code formatting. Use only numbers in the format hh:mm:ss,fff (example: 01:09:05,050).")):c.push(h._("Incorrect formatting. Use 2 hyphens and 1 greater than symbol to separate start and end times (example: -->).")),b=2415003):(g=k[0],i=k[2],i<=g&&(c.push(h._("Incorrect formatting. End time should match time code when captions should end in video.")),b=2415004));d=2;f=0;break;case 2:f++,a===""&&(d=0)}});if(b){a={code:b,message:c[0],captionText:a};return a}return null},_checkLeadingTrailingSpaces:function(a){var b=/^\s/,c=/\s$/;return b.test(a)||c.test(a)?"Contains leading and/or trailing space characters.":null}};e.exports=a}),null);
__d("AdsVideoCaptionUtils",["errorCode","fbt","Promise","AdsCFErrorCodeDeprecated","AdsCFVideoCaptionChangeDefaultLocaleDataAction","AdsCFVideoCaptionRemoveDataAction","AdsCFVideoCaptionsUploadDataAction","AdsCFVideoCaptionUploadDataAction","AdsGraphAPI","AdsImageImageCollectionAddToFrontDataAction","AdsImageImageCollectionSetSelectedDataAction","AdsImageListLoadedDataAction","AdsImageListStoreRecord","AdsVideoFetcher","React","SimpleXUIDialog","VideoCaptionValidator","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=180;a={upload:function(a,c,d){c=d.value.split("\\").pop().split("/").pop();var f=new FormData();f.append("captions_file",d.files[0],c);return b("AdsGraphAPI").get(e.id).object("video",a).edge("captions").post(f).then(function(c){return b("AdsVideoFetcher").genSingleVideo(a,!0)})},uploadCaptions:function(a,c,d,f,g){var h=new FormData();d.forEach(function(a,b){b="captions_file"+b;a=a.getFile();h.append(b,a)});g!=null&&h.append("default_locale",g);f.forEach(function(a,b){h.append("locales_to_delete["+b+"]",a)});g!=null&&h.append("default_locale",g);return b("AdsGraphAPI").get(e.id).object("video",a).edge("captions").post(h).then(function(c){return b("AdsVideoFetcher").genSingleVideo(a,!0)})},validateCaptions:function(a){return new(b("Promise"))(function(c,d){var e=a.length,f=[];if(e==0){var g={code:null,message:null,captionText:f.join("\n---EOF---\n")};c(g)}a.forEach(function(a,g){g=new FileReader();g.readAsText(a.getFile());g.onload=function(a){a=a.target.result;var g=b("VideoCaptionValidator").validateCaptions(a);g&&d(g);f.push(a);if(--e==0){g={code:null,message:null,captionText:f.join("\n---EOF---\n")};c(g)}}})})},changeDefaultLocale:function(a,c){return b("AdsGraphAPI").get(e.id).object("video",a).edge("captions").post({default_locale:c}).then(function(c){return b("AdsVideoFetcher").genSingleVideo(a,!0)})},remove:function(a,c){return b("AdsGraphAPI").get(e.id).object("video",a).edge("captions").remove({locale:c}).then(function(c){return b("AdsVideoFetcher").genSingleVideo(a,!0)})},fetchCaption:function(a){return b("AdsGraphAPI").get(e.id).object("video",a).edge("captions").get().then(function(c){return b("AdsVideoFetcher").genSingleVideo(a,!0)})},shouldShowRedesign:function(){return b("gkx")("677945")},onClickDeleteCaption:function(a,c){var d=h._("Delete Caption"),e=h._("Are you sure you want to delete this video caption?");b("SimpleXUIDialog").showConfirm(e,d,function(b){b&&a(c)})},isFBReviewDisabled:function(a){return!!a&&(a.creator_product===5||a.length>=j)},getVideoCaptionRecommendation:function(){return i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"16px"},children:h._("Increase engagement with video captions")}),i.jsx("div",{style:{fontSize:"12px"},children:h._("Make it easy for people to watch your video without sound. Videos with captions average 12\u0025 more watch time.")})]})},getCaptionUploadError:function(a){if(!a)return null;var c=b("AdsCFErrorCodeDeprecated").errorCodeMap,d;switch(a.code){case c.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_INVALID_LOCALE:d=h._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[h._param("suffix",".en_US.srt")]);break;case c.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_BAD_FILE_FORMAT:d=h._("The file format isn't supported. Please upload SubRip (.srt) files for video captions.");break;case c.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_FILE_TOO_LARGE:d=h._("You uploaded a .SRT file that is too large.");break;case 2415001:case 2415002:case 2415003:case 2415004:d=a.message;break;default:d=h._("Caption Upload Failed.")}return d},onUploadThumbnailEnd:function(a,c){b("AdsImageImageCollectionAddToFrontDataAction").dispatch({accountID:c,images:a},{line:"296",module:"AdsVideoCaptionUtils.js"}),a.length===1&&b("AdsImageImageCollectionSetSelectedDataAction").dispatch({accountID:c,images:a},{line:"301",module:"AdsVideoCaptionUtils.js"})},onUploadThumbnailSuccess:function(a,c){a={created_time:Date.now(),hash:a.getAdAccountHash(),height:a.getHeight(),original_height:a.getHeight(),original_width:a.getWidth(),url:a.getUrl(),width:a.getWidth()};b("AdsImageListLoadedDataAction").dispatch({images:[a],imageListRecord:b("AdsImageListStoreRecord")({accountID:c})},{line:"322",module:"AdsVideoCaptionUtils.js"})},onSetDefaultCaption:function(a,c){b("AdsCFVideoCaptionChangeDefaultLocaleDataAction").dispatch({data:{defaultLocale:a,videoID:c}},{line:"331",module:"AdsVideoCaptionUtils.js"})},onUploadCaption:function(a,c){a.value&&b("AdsCFVideoCaptionUploadDataAction").dispatch({data:{fileInput:a,videoID:c}},{line:"343",module:"AdsVideoCaptionUtils.js"})},onUploadCaptions:function(a,c,d,e){b("AdsCFVideoCaptionsUploadDataAction").dispatch({data:{addedCaptionFiles:a,defaultLocale:d,localesToRemove:c,videoID:e}},{line:"358",module:"AdsVideoCaptionUtils.js"})},onRemoveCaption:function(a,c,d,e,f,g){if(c===!0&&d!=null){c=e.filter(function(a){return a!==d});g(c)}b("AdsCFVideoCaptionRemoveDataAction").dispatch({data:{locale:a,videoID:f}},{line:"380",module:"AdsVideoCaptionUtils.js"});e=document.getElementById("captionFileInput");e instanceof HTMLInputElement&&(e.value="")}};e.exports=a}),null);
__d("VideoCaptionSyntaxErrorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionSyntaxErrorLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionSyntaxErrorLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionSyntaxErrorLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setNewErrorCode=function(a){this.$1.new_error_code=a;return this};c.setNewErrorMessage=function(a){this.$1.new_error_message=a;return this};c.setOldErrorCode=function(a){this.$1.old_error_code=a;return this};c.setOldErrorMessage=function(a){this.$1.old_error_message=a;return this};c.setShouldShowToUser=function(a){this.$1.should_show_to_user=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUploadedCaptionFile=function(a){this.$1.uploaded_caption_file=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={new_error_code:!0,new_error_message:!0,old_error_code:!0,old_error_message:!0,should_show_to_user:!0,source:!0,time:!0,uploaded_caption_file:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoSubtitleStatusType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROCESSING:0,SUCCEEDED:1,FAILED:2,PUBLISHED:3,SRT_REVIEWING:4,PRE_SRT_REVIEW:5,SRT_PUBLISHED:6})}),null);
__d("XVideoCaptionCreateSRTJobAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/createSRT/",{caption_id:{type:"Int",required:!0},queue_id:{type:"Int"}})}),null);
__d("XVideoCaptionDownloadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/download/",{caption_id:{type:"Int",required:!0}})}),null);
__d("XVideoCaptionEditorAdsNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/nuxstatus/",{})}),null);
__d("XVideoCaptionNotifAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/notif/",{caption_id:{type:"Int",required:!0},source_app_id:{type:"FBID"},placement:{type:"Enum",enumType:0},ad_account_id:{type:"Int",required:!0}})}),null);
__d("XVideoCaptionPublishAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/publish/",{caption_id:{type:"Int",required:!0},source_app_id:{type:"FBID"},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("XVideoCaptionRevokeSRTJobAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/revokeSRT/",{caption_id:{type:"Int",required:!0},queue_id:{type:"Int"}})}),null);
__d("XVideoCaptionShareAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/share/",{caption_id:{type:"Int",required:!0},revoke:{type:"Int"}})}),null);
__d("XVideoUnPublishCaptionAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/unpublish/",{caption_id:{type:"Int",required:!0},source_app_id:{type:"FBID"}})}),null);